(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const dt=Object.create(null);dt.open="0";dt.close="1";dt.ping="2";dt.pong="3";dt.message="4";dt.upgrade="5";dt.noop="6";const Vr=Object.create(null);Object.keys(dt).forEach(t=>{Vr[dt[t]]=t});const Oi={type:"error",data:"parser error"},js=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ks=typeof ArrayBuffer=="function",$s=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Xi=({type:t,data:e},n,r)=>js&&e instanceof Blob?n?r(e):As(e,r):Ks&&(e instanceof ArrayBuffer||$s(e))?n?r(e):As(new Blob([e]),r):r(dt[t]+(e||"")),As=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Ss(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ei;function El(t,e){if(js&&t.data instanceof Blob)return t.data.arrayBuffer().then(Ss).then(e);if(Ks&&(t.data instanceof ArrayBuffer||$s(t.data)))return e(Ss(t.data));Xi(t,!1,n=>{Ei||(Ei=new TextEncoder),e(Ei.encode(n))})}const Ns="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Ns.length;t++)Mn[Ns.charCodeAt(t)]=t;const wl=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),f=new Uint8Array(d);for(r=0;r<n;r+=4)s=Mn[t.charCodeAt(r)],o=Mn[t.charCodeAt(r+1)],a=Mn[t.charCodeAt(r+2)],u=Mn[t.charCodeAt(r+3)],f[i++]=s<<2|o>>4,f[i++]=(o&15)<<4|a>>2,f[i++]=(a&3)<<6|u&63;return d},Tl=typeof ArrayBuffer=="function",Ji=(t,e)=>{if(typeof t!="string")return{type:"message",data:zs(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Al(t.substring(1),e)}:Vr[n]?t.length>1?{type:Vr[n],data:t.substring(1)}:{type:Vr[n]}:Oi},Al=(t,e)=>{if(Tl){const n=wl(t);return zs(n,e)}else return{base64:!0,data:t}},zs=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Ys="",Sl=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{Xi(s,!1,a=>{r[o]=a,++i===n&&e(r.join(Ys))})})},Nl=(t,e)=>{const n=t.split(Ys),r=[];for(let i=0;i<n.length;i++){const s=Ji(n[i],e);if(r.push(s),s.type==="error")break}return r};function Il(){return new TransformStream({transform(t,e){El(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let wi;function kr(t){return t.reduce((e,n)=>e+n.length,0)}function Rr(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Ol(t,e){wi||(wi=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(kr(n)<1)break;const u=Rr(n,1);s=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(kr(n)<2)break;const u=Rr(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(kr(n)<8)break;const u=Rr(n,8),d=new DataView(u.buffer,u.byteOffset,u.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(Oi);break}i=f*Math.pow(2,32)+d.getUint32(4),r=3}else{if(kr(n)<i)break;const u=Rr(n,i);a.enqueue(Ji(s?u:wi.decode(u),e)),r=0}if(i===0||i>t){a.enqueue(Oi);break}}}})}const Ws=4;function ye(t){if(t)return xl(t)}function xl(t){for(var e in ye.prototype)t[e]=ye.prototype[e];return t}ye.prototype.on=ye.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ye.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};ye.prototype.off=ye.prototype.removeListener=ye.prototype.removeAllListeners=ye.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};ye.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};ye.prototype.emitReserved=ye.prototype.emit;ye.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ye.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ti=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Je=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),kl="arraybuffer";function Xs(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Rl=Je.setTimeout,Dl=Je.clearTimeout;function ni(t,e){e.useNativeTimers?(t.setTimeoutFn=Rl.bind(Je),t.clearTimeoutFn=Dl.bind(Je)):(t.setTimeoutFn=Je.setTimeout.bind(Je),t.clearTimeoutFn=Je.clearTimeout.bind(Je))}const Ll=1.33;function Ml(t){return typeof t=="string"?Pl(t):Math.ceil((t.byteLength||t.size)*Ll)}function Pl(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function Js(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ul(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Bl(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Vl extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Qi extends ye{constructor(e){super(),this.writable=!1,ni(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Vl(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Ji(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Ul(e);return n.length?"?"+n:""}}class Gl extends Qi{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Nl(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Sl(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Js()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let Qs=!1;try{Qs=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Zl=Qs;function ql(){}class Hl extends Gl{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class ht extends ye{constructor(e,n,r){super(),this.createRequest=e,ni(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=Xs(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ht.requestsCount++,ht.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ql,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ht.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ht.requestsCount=0;ht.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Is);else if(typeof addEventListener=="function"){const t="onpagehide"in Je?"pagehide":"unload";addEventListener(t,Is,!1)}}function Is(){for(let t in ht.requests)ht.requests.hasOwnProperty(t)&&ht.requests[t].abort()}const Fl=function(){const t=eo({xdomain:!1});return t&&t.responseType!==null}();class Cl extends Hl{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Fl&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ht(eo,this.uri(),e)}}function eo(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Zl))return new XMLHttpRequest}catch{}if(!e)try{return new Je[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const to=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class jl extends Qi{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=to?{}:Xs(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;Xi(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&ti(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Js()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Ti=Je.WebSocket||Je.MozWebSocket;class Kl extends jl{createSocket(e,n,r){return to?new Ti(e,n,r):n?new Ti(e,n):new Ti(e)}doWrite(e,n){this.ws.send(n)}}class $l extends Qi{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Ol(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=Il();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:u})=>{a||(this.onPacket(u),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&ti(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const zl={websocket:Kl,webtransport:$l,polling:Cl},Yl=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Wl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function xi(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Yl.exec(t||""),s={},o=14;for(;o--;)s[Wl[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Xl(s,s.path),s.queryKey=Jl(s,s.query),s}function Xl(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Jl(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const ki=typeof addEventListener=="function"&&typeof removeEventListener=="function",Gr=[];ki&&addEventListener("offline",()=>{Gr.forEach(t=>t())},!1);class Zt extends ye{constructor(e,n){if(super(),this.binaryType=kl,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=xi(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=xi(n.host).host);ni(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Bl(this.opts.query)),ki&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Gr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Ws,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Zt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Zt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Ml(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ti(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Zt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ki&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Gr.indexOf(this._offlineEventListener);r!==-1&&Gr.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Zt.protocol=Ws;class Ql extends Zt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Zt.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Zt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const T=new Error("probe error");T.transport=n.name,this.emitReserved("upgradeError",T)}}))};function s(){r||(r=!0,f(),n.close(),n=null)}const o=g=>{const T=new Error("probe error: "+g);T.transport=n.name,s(),this.emitReserved("upgradeError",T)};function a(){o("transport closed")}function u(){o("socket closed")}function d(g){n&&g.name!==n.name&&s()}const f=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",u),this.off("upgrading",d)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",u),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let ec=class extends Ql{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>zl[i]).filter(i=>!!i)),super(e,r)}};function tc(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=xi(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const nc=typeof ArrayBuffer=="function",rc=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,no=Object.prototype.toString,ic=typeof Blob=="function"||typeof Blob<"u"&&no.call(Blob)==="[object BlobConstructor]",sc=typeof File=="function"||typeof File<"u"&&no.call(File)==="[object FileConstructor]";function es(t){return nc&&(t instanceof ArrayBuffer||rc(t))||ic&&t instanceof Blob||sc&&t instanceof File}function Zr(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Zr(t[n]))return!0;return!1}if(es(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Zr(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Zr(t[n]))return!0;return!1}function oc(t){const e=[],n=t.data,r=t;return r.data=Ri(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Ri(t,e){if(!t)return t;if(es(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Ri(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Ri(t[r],e));return n}return t}function ac(t,e){return t.data=Di(t.data,e),delete t.attachments,t}function Di(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Di(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Di(t[n],e));return t}const lc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],cc=5;var ee;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ee||(ee={}));class uc{constructor(e){this.replacer=e}encode(e){return(e.type===ee.EVENT||e.type===ee.ACK)&&Zr(e)?this.encodeAsBinary({type:e.type===ee.EVENT?ee.BINARY_EVENT:ee.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===ee.BINARY_EVENT||e.type===ee.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=oc(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Os(t){return Object.prototype.toString.call(t)==="[object Object]"}class ts extends ye{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===ee.BINARY_EVENT;r||n.type===ee.BINARY_ACK?(n.type=r?ee.EVENT:ee.ACK,this.reconstructor=new hc(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(es(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(ee[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ee.BINARY_EVENT||r.type===ee.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(ts.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case ee.CONNECT:return Os(n);case ee.DISCONNECT:return n===void 0;case ee.CONNECT_ERROR:return typeof n=="string"||Os(n);case ee.EVENT:case ee.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&lc.indexOf(n[0])===-1);case ee.ACK:case ee.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hc{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=ac(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const fc=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ts,Encoder:uc,get PacketType(){return ee},protocol:cc},Symbol.toStringTag,{value:"Module"}));function rt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const dc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ro extends ye{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[rt(e,"open",this.onopen.bind(this)),rt(e,"packet",this.onpacket.bind(this)),rt(e,"error",this.onerror.bind(this)),rt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(dc.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:ee.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,g=n.pop();this._registerAckCallback(f,g),o.id=f}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ee.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ee.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ee.EVENT:case ee.BINARY_EVENT:this.onevent(e);break;case ee.ACK:case ee.BINARY_ACK:this.onack(e);break;case ee.DISCONNECT:this.ondisconnect();break;case ee.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:ee.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ee.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function En(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}En.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};En.prototype.reset=function(){this.attempts=0};En.prototype.setMin=function(t){this.ms=t};En.prototype.setMax=function(t){this.max=t};En.prototype.setJitter=function(t){this.jitter=t};class Li extends ye{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ni(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new En({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||fc;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ec(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=rt(n,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=rt(n,"error",s);if(this._timeout!==!1){const a=this._timeout,u=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(rt(e,"ping",this.onping.bind(this)),rt(e,"data",this.ondata.bind(this)),rt(e,"error",this.onerror.bind(this)),rt(e,"close",this.onclose.bind(this)),rt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){ti(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new ro(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ln={};function qr(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=tc(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Ln[i]&&s in Ln[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return a?u=new Li(r,e):(Ln[i]||(Ln[i]=new Li(r,e)),u=Ln[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(qr,{Manager:Li,Socket:ro,io:qr,connect:qr});var pc={VITE_DISCORD_CLIENT_ID:"1289906387039682570",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const lt=qr(window.location.host,{transports:["websocket"],path:"/socket",auth:{token:pc.VITE_SOCKET_TOKEN}});var io=!1,Fr,so,oo,ao,Pn;lt.on("connect",()=>{io=!0,console.log("Socket io connected! LOOK AT ME"),oo(!0)});lt.on("connect_error",t=>{console.log(`connect_error due to ${t.message}`),console.log(`description: ${t.description}`),console.log(`context: ${t.context}`),console.log(`stack: ${t.stack}`),gc()});async function gc(){for(let t=0;t<10;t++)console.log("WAITING 5 SEC!");await wc(5e3);for(let t=0;t<10;t++)console.log("SECOND CONNECTION ATEMPT!");lt.connect()}function lo(t){Fr=t}function mc(t){Pn=t}function _c(t){so=t}function vc(t){oo=t}function yc(t){ao=t}function co(t){lt.emit("playerDied",t)}async function bc(){Pn("starting up socketIO, socket connected "+io),lt.on("update-players",t=>{Pn("Received player positions: "+t),so(t)}),lt.on("player-update",t=>{Pn(t.id+": "+t.x+", "+t.y)}),lt.on("on-join-instance",t=>{Pn("ON JOIN INSTANCE"+t+" = "+Fr)}),lt.on("playerDied",t=>{ao(co)}),lt.emit("join-instance",Fr)}function Ec(t,e,n){lt.emit("player-update",{id:t,x:e,y:n,instanceId:Fr})}async function wc(t){return await new Promise(e=>setTimeout(e,t)),1}function Tc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uo={exports:{}},ho={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},fo={exports:{}},Ac=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")},Sc=Ac,Nc=Array.prototype.concat,Ic=Array.prototype.slice,xs=fo.exports=function(e){for(var n=[],r=0,i=e.length;r<i;r++){var s=e[r];Sc(s)?n=Nc.call(n,Ic.call(s)):n.push(s)}return n};xs.wrap=function(t){return function(){return t(xs(arguments))}};var Oc=fo.exports,Vn=ho,ir=Oc,po=Object.hasOwnProperty,go=Object.create(null);for(var Ai in Vn)po.call(Vn,Ai)&&(go[Vn[Ai]]=Ai);var Ke=uo.exports={to:{},get:{}};Ke.get=function(t){var e=t.substring(0,3).toLowerCase(),n,r;switch(e){case"hsl":n=Ke.get.hsl(t),r="hsl";break;case"hwb":n=Ke.get.hwb(t),r="hwb";break;default:n=Ke.get.rgb(t),r="rgb";break}return n?{model:r,value:n}:null};Ke.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],a,u,d;if(a=t.match(n)){for(d=a[2],a=a[1],u=0;u<3;u++){var f=u*2;o[u]=parseInt(a.slice(f,f+2),16)}d&&(o[3]=parseInt(d,16)/255)}else if(a=t.match(e)){for(a=a[1],d=a[3],u=0;u<3;u++)o[u]=parseInt(a[u]+a[u],16);d&&(o[3]=parseInt(d+d,16)/255)}else if(a=t.match(r)){for(u=0;u<3;u++)o[u]=parseInt(a[u+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(u=0;u<3;u++)o[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=t.match(s))?a[1]==="transparent"?[0,0,0,0]:po.call(Vn,a[1])?(o=Vn[a[1]],o[3]=1,o):null:null;for(u=0;u<3;u++)o[u]=qt(o[u],0,255);return o[3]=qt(o[3],0,1),o};Ke.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,s=qt(parseFloat(n[2]),0,100),o=qt(parseFloat(n[3]),0,100),a=qt(isNaN(r)?1:r,0,1);return[i,s,o,a]}return null};Ke.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,s=qt(parseFloat(n[2]),0,100),o=qt(parseFloat(n[3]),0,100),a=qt(isNaN(r)?1:r,0,1);return[i,s,o,a]}return null};Ke.to.hex=function(){var t=ir(arguments);return"#"+Dr(t[0])+Dr(t[1])+Dr(t[2])+(t[3]<1?Dr(Math.round(t[3]*255)):"")};Ke.to.rgb=function(){var t=ir(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Ke.to.rgb.percent=function(){var t=ir(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"};Ke.to.hsl=function(){var t=ir(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Ke.to.hwb=function(){var t=ir(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Ke.to.keyword=function(t){return go[t.slice(0,3)]};function qt(t,e,n){return Math.min(Math.max(e,t),n)}function Dr(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}var xc=uo.exports;const Zn=ho,mo={};for(const t of Object.keys(Zn))mo[Zn[t]]=t;const P={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var _o=P;for(const t of Object.keys(P)){if(!("channels"in P[t]))throw new Error("missing channels property: "+t);if(!("labels"in P[t]))throw new Error("missing channel labels property: "+t);if(P[t].labels.length!==P[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=P[t];delete P[t].channels,delete P[t].labels,Object.defineProperty(P[t],"channels",{value:e}),Object.defineProperty(P[t],"labels",{value:n})}P.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=s-i;let a,u;s===i?a=0:e===s?a=(n-r)/o:n===s?a=2+(r-e)/o:r===s&&(a=4+(e-n)/o),a=Math.min(a*60,360),a<0&&(a+=360);const d=(i+s)/2;return s===i?u=0:d<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,d*100]};P.rgb.hsv=function(t){let e,n,r,i,s;const o=t[0]/255,a=t[1]/255,u=t[2]/255,d=Math.max(o,a,u),f=d-Math.min(o,a,u),g=function(T){return(d-T)/6/f+1/2};return f===0?(i=0,s=0):(s=f/d,e=g(o),n=g(a),r=g(u),o===d?i=r-n:a===d?i=1/3+e-r:u===d&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,d*100]};P.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const i=P.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};P.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),s=(1-e-i)/(1-i)||0,o=(1-n-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function kc(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}P.rgb.keyword=function(t){const e=mo[t];if(e)return e;let n=1/0,r;for(const i of Object.keys(Zn)){const s=Zn[i],o=kc(t,s);o<n&&(n=o,r=i)}return r};P.keyword.rgb=function(t){return Zn[t]};P.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,o=e*.0193+n*.1192+r*.9505;return[i*100,s*100,o*100]};P.rgb.lab=function(t){const e=P.rgb.xyz(t);let n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*r-16,o=500*(n-r),a=200*(r-i);return[s,o,a]};P.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let i,s,o;if(n===0)return o=r*255,[o,o,o];r<.5?i=r*(1+n):i=r+n-r*n;const a=2*r-i,u=[0,0,0];for(let d=0;d<3;d++)s=e+1/3*-(d-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[d]=o*255;return u};P.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,i=n;const s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;const o=(r+n)/2,a=r===0?2*i/(s+i):2*n/(r+n);return[e,a*100,o*100]};P.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const i=Math.floor(e)%6,s=e-Math.floor(e),o=255*r*(1-n),a=255*r*(1-n*s),u=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,u,o];case 1:return[a,r,o];case 2:return[o,r,u];case 3:return[o,a,r];case 4:return[u,o,r];case 5:return[r,o,a]}};P.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01);let s,o;o=(2-n)*r;const a=(2-n)*i;return s=n*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};P.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const i=n+r;let s;i>1&&(n/=i,r/=i);const o=Math.floor(6*e),a=1-r;s=6*e-o,o&1&&(s=1-s);const u=n+s*(a-n);let d,f,g;switch(o){default:case 6:case 0:d=a,f=u,g=n;break;case 1:d=u,f=a,g=n;break;case 2:d=n,f=a,g=u;break;case 3:d=n,f=u,g=a;break;case 4:d=u,f=n,g=a;break;case 5:d=a,f=n,g=u;break}return[d*255,f*255,g*255]};P.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[s*255,o*255,a*255]};P.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let i,s,o;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,o=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};P.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*n-16,s=500*(e-n),o=200*(n-r);return[i,s,o]};P.lab.xyz=function(t){const e=t[0],n=t[1],r=t[2];let i,s,o;s=(e+16)/116,i=n/500+s,o=s-r/200;const a=s**3,u=i**3,d=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=d>.008856?d:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};P.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(n*n+r*r);return[e,o,i]};P.lch.lab=function(t){const e=t[0],n=t[1],i=t[2]/360*2*Math.PI,s=n*Math.cos(i),o=n*Math.sin(i);return[e,s,o]};P.rgb.ansi16=function(t,e=null){const[n,r,i]=t;let s=e===null?P.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(o+=60),o};P.hsv.ansi16=function(t){return P.rgb.ansi16(P.hsv.rgb(t),t[2])};P.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};P.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};P.ansi256.rgb=function(t){if(t>=232){const s=(t-232)*10+8;return[s,s,s]}t-=16;let e;const n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};P.rgb.hex=function(t){const n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};P.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(a=>a+a).join(""));const r=parseInt(n,16),i=r>>16&255,s=r>>8&255,o=r&255;return[i,s,o]};P.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),o=i-s;let a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(n-r)/o%6:i===n?u=2+(r-e)/o:u=4+(e-n)/o,u/=6,u%=1,[u*360,o*100,a*100]};P.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};P.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};P.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];const i=[0,0,0],s=e%1*6,o=s%1,a=1-o;let u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-n)*r,[(n*i[0]+u)*255,(n*i[1]+u)*255,(n*i[2]+u)*255]};P.hcg.hsv=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);let i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};P.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};P.hcg.hwb=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};P.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,i=r-e;let s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};P.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};P.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};P.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};P.gray.hsl=function(t){return[0,0,t[0]]};P.gray.hsv=P.gray.hsl;P.gray.hwb=function(t){return[0,100,t[0]]};P.gray.cmyk=function(t){return[0,0,0,t[0]]};P.gray.lab=function(t){return[t[0],0,0]};P.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};P.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const Cr=_o;function Rc(){const t={},e=Object.keys(Cr);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function Dc(t){const e=Rc(),n=[t];for(e[t].distance=0;n.length;){const r=n.pop(),i=Object.keys(Cr[r]);for(let s=i.length,o=0;o<s;o++){const a=i[o],u=e[a];u.distance===-1&&(u.distance=e[r].distance+1,u.parent=r,n.unshift(a))}}return e}function Lc(t,e){return function(n){return e(t(n))}}function Mc(t,e){const n=[e[t].parent,t];let r=Cr[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=Lc(Cr[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}var Pc=function(t){const e=Dc(t),n={},r=Object.keys(e);for(let i=r.length,s=0;s<i;s++){const o=r[s];e[o].parent!==null&&(n[o]=Mc(o,e))}return n};const Mi=_o,Uc=Pc,fn={},Bc=Object.keys(Mi);function Vc(t){const e=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function Gc(t){const e=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const i=t(n);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}Bc.forEach(t=>{fn[t]={},Object.defineProperty(fn[t],"channels",{value:Mi[t].channels}),Object.defineProperty(fn[t],"labels",{value:Mi[t].labels});const e=Uc(t);Object.keys(e).forEach(r=>{const i=e[r];fn[t][r]=Gc(i),fn[t][r].raw=Vc(i)})});var Zc=fn;const dn=xc,Ce=Zc,vo=["keyword","gray","hex"],Pi={};for(const t of Object.keys(Ce))Pi[[...Ce[t].labels].sort().join("")]=t;const jr={};function Ae(t,e){if(!(this instanceof Ae))return new Ae(t,e);if(e&&e in vo&&(e=null),e&&!(e in Ce))throw new Error("Unknown model: "+e);let n,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Ae)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const i=dn.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,r=Ce[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=Ce[this.model].channels;const i=Array.prototype.slice.call(t,0,r);this.color=Ui(i,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const s=i.sort().join("");if(!(s in Pi))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Pi[s];const{labels:o}=Ce[this.model],a=[];for(n=0;n<o.length;n++)a.push(t[o[n]]);this.color=Ui(a)}if(jr[this.model])for(r=Ce[this.model].channels,n=0;n<r;n++){const i=jr[this.model][n];i&&(this.color[n]=i(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Ae.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in dn.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const n=e.valpha===1?e.color:[...e.color,this.valpha];return dn.to[e.model](n)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),n=e.valpha===1?e.color:[...e.color,this.valpha];return dn.to.rgb.percent(n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=Ce[this.model],{labels:n}=Ce[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Ae([...this.color.map(Hc(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new Ae([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:ge("rgb",0,Ee(255)),green:ge("rgb",1,Ee(255)),blue:ge("rgb",2,Ee(255)),hue:ge(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:ge("hsl",1,Ee(100)),lightness:ge("hsl",2,Ee(100)),saturationv:ge("hsv",1,Ee(100)),value:ge("hsv",2,Ee(100)),chroma:ge("hcg",1,Ee(100)),gray:ge("hcg",2,Ee(100)),white:ge("hwb",1,Ee(100)),wblack:ge("hwb",2,Ee(100)),cyan:ge("cmyk",0,Ee(100)),magenta:ge("cmyk",1,Ee(100)),yellow:ge("cmyk",2,Ee(100)),black:ge("cmyk",3,Ee(100)),x:ge("xyz",0,Ee(95.047)),y:ge("xyz",1,Ee(100)),z:ge("xyz",2,Ee(108.833)),l:ge("lab",0,Ee(100)),a:ge("lab",1),b:ge("lab",2),keyword(t){return t!==void 0?new Ae(t):Ce[this.model].keyword(this.color)},hex(t){return t!==void 0?new Ae(t):dn.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new Ae(t);const e=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),dn.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const i=r/255;e[n]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return Ae.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),i=e===void 0?.5:e,s=2*i-1,o=n.alpha()-r.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,u=1-a;return Ae.rgb(a*n.red()+u*r.red(),a*n.green()+u*r.green(),a*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const t of Object.keys(Ce)){if(vo.includes(t))continue;const{channels:e}=Ce[t];Ae.prototype[t]=function(...n){return this.model===t?new Ae(this):n.length>0?new Ae(n,t):new Ae([...Fc(Ce[this.model][t].raw(this.color)),this.valpha],t)},Ae[t]=function(...n){let r=n[0];return typeof r=="number"&&(r=Ui(n,e)),new Ae(r,t)}}function qc(t,e){return Number(t.toFixed(e))}function Hc(t){return function(e){return qc(e,t)}}function ge(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(jr[r]||(jr[r]=[]))[e]=n;return t=t[0],function(r){let i;return r!==void 0?(n&&(r=n(r)),i=this[t](),i.color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function Ee(t){return function(e){return Math.max(0,Math.min(t,e))}}function Fc(t){return Array.isArray(t)?t:[t]}function Ui(t,e){for(let n=0;n<e;n++)typeof t[n]!="number"&&(t[n]=0);return t}var Cc=Ae;const Bi=Tc(Cc);var Re,ie,xt,kt,Vi,Ne,Rt,Gi,Gt,yo,Zi,bo,tn,en,qi=new Map,qn,Lr=0,ks=!1,Eo=!1,Hi=!1,wo=0;const jc=async t=>{Eo=!0,tu(t.id,t.x,t.y)},Kc=async t=>{Hi=t},$c=async t=>{en&&wo++};_c(jc);vc(Kc);yc($c);async function zc(){qn=eu(),document.querySelector("#app"),Re=document.getElementById("tailCanvas"),ie=Re.getContext("2d"),tn=ie.createImageData(Re.width,Re.height);const t=Bi.rgb(0,0,0);for(let e=0;e<Re.width;e++)for(let n=0;n<Re.height;n++)To(tn,e,n,t);en=!0,Vi=1,Gi=.07,Ne=0,Rt=0,Gt=5,yo=2,Qc(),bo=Bi.rgb(255,0,0),xt=100,kt=200,document.body.style.background="gray",setInterval(Xc,1e3/60)}async function Yc(t){if(t=="a"||t=="A"?Rt=-Gi:(t=="d"||t=="D")&&(Rt=Gi),t=="k"||t=="K"){const e=xt+Math.cos(Ne)*Gt,n=kt+Math.sin(Ne)*Gt;for(e<=0?Ne=Math.PI-Ne:e>=Re.height?Ne=Math.PI*3-Ne:(n<=0||n>=Re.width)&&(Ne=-Ne);Ao();)xt+=Math.cos(Ne)*Gt/2,kt+=Math.sin(Ne)*Gt/2;en=!0}}async function Wc(t){((t=="a"||t=="A")&&Rt<0||(t=="d"||t=="D")&&Rt>0)&&(Rt=0)}async function Xc(){ie.clearRect(0,0,Re.width,Re.height),Rs(tn,Math.floor(xt),Math.floor(kt),Zi,2),ie.putImageData(tn,0,0),ie.fillStyle="green",ie.fillText("x = "+xt,10,100),ie.fillText("y = "+kt,10,120),ie.fillText("dir = "+Ne,10,140),ie.fillText("dirVel = "+Rt,10,160),ie.fillText("alive = "+en,10,180),Jc(xt,kt,Gt,Zi.hex()),en&&(xt+=Math.cos(Ne)*Vi,kt+=Math.sin(Ne)*Vi,Lr>=60&&Hi&&(Lr=0,ks=!0,Ec(qn,xt,kt))),Ne+=Rt;var t=Ao();ie.fillText("colliding: "+t,10,380),t==!0&&(en&&co(qn),en=!1),ie.fillText("wrote: "+ks,10,400),ie.fillText("others exist: "+qi.size,10,420),ie.fillText("has read: "+Eo,10,440),ie.fillText("frame % 60: "+Lr,10,460),ie.fillText("connected: "+Hi,10,480),ie.fillText("points: "+wo,400,20),qi.forEach((e,n)=>{Rs(tn,Math.floor(n.x),Math.floor(n.y),bo,2)}),Lr+=1}async function Jc(t,e,n,r){ie.beginPath(),ie.arc(t,e,n,0,2*Math.PI,!1),ie.fillStyle=r,ie.fill(),ie.lineWidth=yo,ie.strokeStyle="#ffffff",ie.stroke()}async function Rs(t,e,n,r,i){for(let s=Math.max(e-i,0);s<Math.min(e+i,t.width-1);s++)for(let o=Math.max(n-i,0);o<Math.min(n+i,t.height-1);o++)(e-s)*(e-s)+(n-o)*(n-o)<i*i&&To(t,s,o,r)}async function To(t,e,n,r){var i=4*(e+n*t.width);t.data[i]=r.red(),t.data[i+1]=r.green(),t.data[i+2]=r.blue(),t.data[i+3]=255}function Ds(t,e,n){var r=4*(e+n*t.width);return t.data[r]==0&&t.data[r+1]==0&&t.data[r+2]==0}function Ao(){const t=xt+Math.cos(Ne)*Gt,e=kt+Math.sin(Ne)*Gt;return ie.fillText("checkX = "+t,10,200),ie.fillText("checkY = "+e,10,220),ie.fillText("canvasWidth = "+Re.width,10,240),ie.fillText("canvasHeight = "+Re.height,10,260),ie.fillText("X >= width: "+(t>=Re.width),10,280),ie.fillText("Y >= height: "+(e>=Re.height),10,300),ie.fillText("X <= 0: "+(t<=0),10,320),ie.fillText("Y <= 0: "+(e<=0),10,340),ie.fillText("colliding with tail: "+!Ds(tn,Math.round(t),Math.round(e)),10,360),t<=0||t>=Re.width||e<=0||e>=Re.height||!Ds(tn,Math.round(t),Math.round(e))}function Qc(){const t=Math.random()*360,e=.8,n=1,r=e*n,i=r*(1-Math.abs(t/60%2-1)),s=n-r;var o,a,u;t<60?(o=r,a=i,u=0):t<120?(o=i,a=r,u=0):t<180?(o=0,a=r,u=i):t<240?(o=0,a=i,u=r):t<300?(o=i,a=0,u=r):(o=r,a=0,u=i),Zi=Bi.rgb(Math.round((o+s)*255),Math.round((a+s)*255),Math.round((u+s)*255))}function eu(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}async function tu(t,e,n){qn!=t&&qi.set(qn,{x:e,y:n})}var Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function So(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var No={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function s(u,d,f,g,T){if(typeof f!="function")throw new TypeError("The listener must be a function");var L=new i(f,g||u,T),W=n?n+d:d;return u._events[W]?u._events[W].fn?u._events[W]=[u._events[W],L]:u._events[W].push(L):(u._events[W]=L,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],f,g;if(this._eventsCount===0)return d;for(g in f=this._events)e.call(f,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},a.prototype.listeners=function(d){var f=n?n+d:d,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var T=0,L=g.length,W=new Array(L);T<L;T++)W[T]=g[T].fn;return W},a.prototype.listenerCount=function(d){var f=n?n+d:d,g=this._events[f];return g?g.fn?1:g.length:0},a.prototype.emit=function(d,f,g,T,L,W){var q=n?n+d:d;if(!this._events[q])return!1;var k=this._events[q],me=arguments.length,se,ae;if(k.fn){switch(k.once&&this.removeListener(d,k.fn,void 0,!0),me){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,f),!0;case 3:return k.fn.call(k.context,f,g),!0;case 4:return k.fn.call(k.context,f,g,T),!0;case 5:return k.fn.call(k.context,f,g,T,L),!0;case 6:return k.fn.call(k.context,f,g,T,L,W),!0}for(ae=1,se=new Array(me-1);ae<me;ae++)se[ae-1]=arguments[ae];k.fn.apply(k.context,se)}else{var Me=k.length,ve;for(ae=0;ae<Me;ae++)switch(k[ae].once&&this.removeListener(d,k[ae].fn,void 0,!0),me){case 1:k[ae].fn.call(k[ae].context);break;case 2:k[ae].fn.call(k[ae].context,f);break;case 3:k[ae].fn.call(k[ae].context,f,g);break;case 4:k[ae].fn.call(k[ae].context,f,g,T);break;default:if(!se)for(ve=1,se=new Array(me-1);ve<me;ve++)se[ve-1]=arguments[ve];k[ae].fn.apply(k[ae].context,se)}}return!0},a.prototype.on=function(d,f,g){return s(this,d,f,g,!1)},a.prototype.once=function(d,f,g){return s(this,d,f,g,!0)},a.prototype.removeListener=function(d,f,g,T){var L=n?n+d:d;if(!this._events[L])return this;if(!f)return o(this,L),this;var W=this._events[L];if(W.fn)W.fn===f&&(!T||W.once)&&(!g||W.context===g)&&o(this,L);else{for(var q=0,k=[],me=W.length;q<me;q++)(W[q].fn!==f||T&&!W[q].once||g&&W[q].context!==g)&&k.push(W[q]);k.length?this._events[L]=k.length===1?k[0]:k:o(this,L)}return this},a.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(No);var nu=No.exports,ru=So(nu),ne;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ne||(ne={}));var Fi;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Fi||(Fi={}));const D=ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bt=t=>{switch(typeof t){case"undefined":return D.undefined;case"string":return D.string;case"number":return isNaN(t)?D.nan:D.number;case"boolean":return D.boolean;case"function":return D.function;case"bigint":return D.bigint;case"symbol":return D.symbol;case"object":return Array.isArray(t)?D.array:t===null?D.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?D.promise:typeof Map<"u"&&t instanceof Map?D.map:typeof Set<"u"&&t instanceof Set?D.set:typeof Date<"u"&&t instanceof Date?D.date:D.object;default:return D.unknown}},I=ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),iu=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class $e extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(n(o))):a[d]=a[d]||{_errors:[]},a=a[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof $e))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}$e.create=t=>new $e(t);const _n=(t,e)=>{let n;switch(t.code){case I.invalid_type:t.received===D.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ne.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:n=`Unrecognized key(s) in object: ${ne.joinValues(t.keys,", ")}`;break;case I.invalid_union:n="Invalid input";break;case I.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ne.joinValues(t.options)}`;break;case I.invalid_enum_value:n=`Invalid enum value. Expected ${ne.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:n="Invalid function arguments";break;case I.invalid_return_type:n="Invalid function return type";break;case I.invalid_date:n="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ne.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case I.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case I.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case I.custom:n="Invalid input";break;case I.invalid_intersection_types:n="Intersection results could not be merged";break;case I.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case I.not_finite:n="Number must be finite";break;default:n=e.defaultError,ne.assertNever(t)}return{message:n}};let Io=_n;function su(t){Io=t}function Kr(){return Io}const $r=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)a=d(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},ou=[];function R(t,e){const n=Kr(),r=$r({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===_n?void 0:_n].filter(i=>!!i)});t.common.issues.push(r)}class De{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return j;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return De.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return j;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const j=Object.freeze({status:"aborted"}),gn=t=>({status:"dirty",value:t}),Ve=t=>({status:"valid",value:t}),Ci=t=>t.status==="aborted",ji=t=>t.status==="dirty",Hn=t=>t.status==="valid",Fn=t=>typeof Promise<"u"&&t instanceof Promise;function zr(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Oo(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var V;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(V||(V={}));var Un,Bn;class pt{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ls=(t,e)=>{if(Hn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $e(t.common.issues);return this._error=n,this._error}}};function Y(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var u,d;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??a.defaultError}:typeof a.data>"u"?{message:(u=f??r)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:a.defaultError}},description:i}}class X{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Bt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Bt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new De,ctx:{common:e.parent.common,data:e.data,parsedType:Bt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Fn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Ls(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bt(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Fn(i)?i:Promise.resolve(i));return Ls(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:I.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ot({schema:this,typeName:C.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ft.create(this,this._def)}nullable(){return jt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return st.create(this,this._def)}promise(){return yn.create(this,this._def)}or(e){return $n.create([this,e],this._def)}and(e){return zn.create(this,e,this._def)}transform(e){return new ot({...Y(this._def),schema:this,typeName:C.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Qn({...Y(this._def),innerType:this,defaultValue:n,typeName:C.ZodDefault})}brand(){return new ns({typeName:C.ZodBranded,type:this,...Y(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new er({...Y(this._def),innerType:this,catchValue:n,typeName:C.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return sr.create(this,e)}readonly(){return tr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const au=/^c[^\s-]{8,}$/i,lu=/^[0-9a-z]+$/,cu=/^[0-9A-HJKMNP-TV-Z]{26}$/,uu=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hu=/^[a-z0-9_-]{21}$/i,fu=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,du=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pu="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Si;const gu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mu=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,_u=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xo="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vu=new RegExp(`^${xo}$`);function ko(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function yu(t){return new RegExp(`^${ko(t)}$`)}function Ro(t){let e=`${xo}T${ko(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function bu(t,e){return!!((e==="v4"||!e)&&gu.test(t)||(e==="v6"||!e)&&mu.test(t))}class it extends X{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==D.string){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_type,expected:D.string,received:s.parsedType}),j}const r=new De;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:I.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:I.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?R(i,{code:I.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&R(i,{code:I.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")du.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"email",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Si||(Si=new RegExp(pu,"u")),Si.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"emoji",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")uu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"uuid",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")hu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"nanoid",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")au.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"cuid",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")lu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"cuid2",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")cu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"ulid",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),R(i,{validation:"url",code:I.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"regex",code:I.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Ro(s).test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?vu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?yu(s).test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?fu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"duration",code:I.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?bu(e.data,s.version)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"ip",code:I.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?_u.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"base64",code:I.invalid_string,message:s.message}),r.dirty()):ne.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:I.invalid_string,...V.errToObj(r)})}_addCheck(e){return new it({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...V.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...V.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...V.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...V.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...V.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...V.errToObj(n)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new it({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new it({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new it({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}it.create=t=>{var e;return new it({checks:[],typeName:C.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};function Eu(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ht extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==D.number){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_type,expected:D.number,received:s.parsedType}),j}let r;const i=new De;for(const s of this._def.checks)s.kind==="int"?ne.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Eu(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.not_finite,message:s.message}),i.dirty()):ne.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,r,i){return new Ht({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(e){return new Ht({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ne.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ht.create=t=>new Ht({checks:[],typeName:C.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class Ft extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==D.bigint){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_type,expected:D.bigint,received:s.parsedType}),j}let r;const i=new De;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ne.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,r,i){return new Ft({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(e){return new Ft({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ft.create=t=>{var e;return new Ft({checks:[],typeName:C.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};class Cn extends X{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==D.boolean){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.boolean,received:r.parsedType}),j}return Ve(e.data)}}Cn.create=t=>new Cn({typeName:C.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class sn extends X{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==D.date){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_type,expected:D.date,received:s.parsedType}),j}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_date}),j}const r=new De;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:I.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:I.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ne.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new sn({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}sn.create=t=>new sn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:C.ZodDate,...Y(t)});class Yr extends X{_parse(e){if(this._getType(e)!==D.symbol){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.symbol,received:r.parsedType}),j}return Ve(e.data)}}Yr.create=t=>new Yr({typeName:C.ZodSymbol,...Y(t)});class jn extends X{_parse(e){if(this._getType(e)!==D.undefined){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.undefined,received:r.parsedType}),j}return Ve(e.data)}}jn.create=t=>new jn({typeName:C.ZodUndefined,...Y(t)});class Kn extends X{_parse(e){if(this._getType(e)!==D.null){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.null,received:r.parsedType}),j}return Ve(e.data)}}Kn.create=t=>new Kn({typeName:C.ZodNull,...Y(t)});class vn extends X{constructor(){super(...arguments),this._any=!0}_parse(e){return Ve(e.data)}}vn.create=t=>new vn({typeName:C.ZodAny,...Y(t)});class nn extends X{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ve(e.data)}}nn.create=t=>new nn({typeName:C.ZodUnknown,...Y(t)});class Lt extends X{_parse(e){const n=this._getOrReturnCtx(e);return R(n,{code:I.invalid_type,expected:D.never,received:n.parsedType}),j}}Lt.create=t=>new Lt({typeName:C.ZodNever,...Y(t)});class Wr extends X{_parse(e){if(this._getType(e)!==D.undefined){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.void,received:r.parsedType}),j}return Ve(e.data)}}Wr.create=t=>new Wr({typeName:C.ZodVoid,...Y(t)});class st extends X{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==D.array)return R(n,{code:I.invalid_type,expected:D.array,received:n.parsedType}),j;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(R(n,{code:o?I.too_big:I.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(R(n,{code:I.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(R(n,{code:I.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new pt(n,o,n.path,a)))).then(o=>De.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new pt(n,o,n.path,a)));return De.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new st({...this._def,minLength:{value:e,message:V.toString(n)}})}max(e,n){return new st({...this._def,maxLength:{value:e,message:V.toString(n)}})}length(e,n){return new st({...this._def,exactLength:{value:e,message:V.toString(n)}})}nonempty(e){return this.min(1,e)}}st.create=(t,e)=>new st({type:t,minLength:null,maxLength:null,exactLength:null,typeName:C.ZodArray,...Y(e)});function pn(t){if(t instanceof de){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ft.create(pn(r))}return new de({...t._def,shape:()=>e})}else return t instanceof st?new st({...t._def,type:pn(t.element)}):t instanceof ft?ft.create(pn(t.unwrap())):t instanceof jt?jt.create(pn(t.unwrap())):t instanceof gt?gt.create(t.items.map(e=>pn(e))):t}class de extends X{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ne.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==D.object){const d=this._getOrReturnCtx(e);return R(d,{code:I.invalid_type,expected:D.object,received:d.parsedType}),j}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Lt&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||a.push(d);const u=[];for(const d of o){const f=s[d],g=i.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new pt(i,g,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Lt){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of a)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")a.length>0&&(R(i,{code:I.unrecognized_keys,keys:a}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of a){const g=i.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new pt(i,g,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const g=await f.key,T=await f.value;d.push({key:g,value:T,alwaysSet:f.alwaysSet})}return d}).then(d=>De.mergeObjectSync(r,d)):De.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new de({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=V.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new de({...this._def,unknownKeys:"strip"})}passthrough(){return new de({...this._def,unknownKeys:"passthrough"})}extend(e){return new de({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new de({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:C.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new de({...this._def,catchall:e})}pick(e){const n={};return ne.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new de({...this._def,shape:()=>n})}omit(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new de({...this._def,shape:()=>n})}deepPartial(){return pn(this)}partial(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new de({...this._def,shape:()=>n})}required(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ft;)s=s._def.innerType;n[r]=s}}),new de({...this._def,shape:()=>n})}keyof(){return Do(ne.objectKeys(this.shape))}}de.create=(t,e)=>new de({shape:()=>t,unknownKeys:"strip",catchall:Lt.create(),typeName:C.ZodObject,...Y(e)});de.strictCreate=(t,e)=>new de({shape:()=>t,unknownKeys:"strict",catchall:Lt.create(),typeName:C.ZodObject,...Y(e)});de.lazycreate=(t,e)=>new de({shape:t,unknownKeys:"strip",catchall:Lt.create(),typeName:C.ZodObject,...Y(e)});class $n extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new $e(a.ctx.common.issues));return R(n,{code:I.invalid_union,unionErrors:o}),j}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(u=>new $e(u));return R(n,{code:I.invalid_union,unionErrors:a}),j}}get options(){return this._def.options}}$n.create=(t,e)=>new $n({options:t,typeName:C.ZodUnion,...Y(e)});const Nt=t=>t instanceof Wn?Nt(t.schema):t instanceof ot?Nt(t.innerType()):t instanceof Xn?[t.value]:t instanceof Ct?t.options:t instanceof Jn?ne.objectValues(t.enum):t instanceof Qn?Nt(t._def.innerType):t instanceof jn?[void 0]:t instanceof Kn?[null]:t instanceof ft?[void 0,...Nt(t.unwrap())]:t instanceof jt?[null,...Nt(t.unwrap())]:t instanceof ns||t instanceof tr?Nt(t.unwrap()):t instanceof er?Nt(t._def.innerType):[];class ri extends X{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==D.object)return R(n,{code:I.invalid_type,expected:D.object,received:n.parsedType}),j;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(R(n,{code:I.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),j)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Nt(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new ri({typeName:C.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Y(r)})}}function Ki(t,e){const n=Bt(t),r=Bt(e);if(t===e)return{valid:!0,data:t};if(n===D.object&&r===D.object){const i=ne.objectKeys(e),s=ne.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const u=Ki(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===D.array&&r===D.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],u=Ki(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===D.date&&r===D.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class zn extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Ci(s)||Ci(o))return j;const a=Ki(s.value,o.value);return a.valid?((ji(s)||ji(o))&&n.dirty(),{status:n.value,value:a.data}):(R(r,{code:I.invalid_intersection_types}),j)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}zn.create=(t,e,n)=>new zn({left:t,right:e,typeName:C.ZodIntersection,...Y(n)});class gt extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.array)return R(r,{code:I.invalid_type,expected:D.array,received:r.parsedType}),j;if(r.data.length<this._def.items.length)return R(r,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j;!this._def.rest&&r.data.length>this._def.items.length&&(R(r,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new pt(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>De.mergeArray(n,o)):De.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new gt({...this._def,rest:e})}}gt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gt({items:t,typeName:C.ZodTuple,rest:null,...Y(e)})};class Yn extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.object)return R(r,{code:I.invalid_type,expected:D.object,received:r.parsedType}),j;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new pt(r,a,r.path,a)),value:o._parse(new pt(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?De.mergeObjectAsync(n,i):De.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof X?new Yn({keyType:e,valueType:n,typeName:C.ZodRecord,...Y(r)}):new Yn({keyType:it.create(),valueType:e,typeName:C.ZodRecord,...Y(n)})}}class Xr extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.map)return R(r,{code:I.invalid_type,expected:D.map,received:r.parsedType}),j;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,u],d)=>({key:i._parse(new pt(r,a,r.path,[d,"key"])),value:s._parse(new pt(r,u,r.path,[d,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return j;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(d.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return j;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(d.value,f.value)}return{status:n.value,value:a}}}}Xr.create=(t,e,n)=>new Xr({valueType:e,keyType:t,typeName:C.ZodMap,...Y(n)});class on extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.set)return R(r,{code:I.invalid_type,expected:D.set,received:r.parsedType}),j;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(R(r,{code:I.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(R(r,{code:I.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const d=new Set;for(const f of u){if(f.status==="aborted")return j;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const a=[...r.data.values()].map((u,d)=>s._parse(new pt(r,u,r.path,d)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,n){return new on({...this._def,minSize:{value:e,message:V.toString(n)}})}max(e,n){return new on({...this._def,maxSize:{value:e,message:V.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}on.create=(t,e)=>new on({valueType:t,minSize:null,maxSize:null,typeName:C.ZodSet,...Y(e)});class mn extends X{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==D.function)return R(n,{code:I.invalid_type,expected:D.function,received:n.parsedType}),j;function r(a,u){return $r({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Kr(),_n].filter(d=>!!d),issueData:{code:I.invalid_arguments,argumentsError:u}})}function i(a,u){return $r({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Kr(),_n].filter(d=>!!d),issueData:{code:I.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof yn){const a=this;return Ve(async function(...u){const d=new $e([]),f=await a._def.args.parseAsync(u,s).catch(L=>{throw d.addIssue(r(u,L)),d}),g=await Reflect.apply(o,this,f);return await a._def.returns._def.type.parseAsync(g,s).catch(L=>{throw d.addIssue(i(g,L)),d})})}else{const a=this;return Ve(function(...u){const d=a._def.args.safeParse(u,s);if(!d.success)throw new $e([r(u,d.error)]);const f=Reflect.apply(o,this,d.data),g=a._def.returns.safeParse(f,s);if(!g.success)throw new $e([i(f,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new mn({...this._def,args:gt.create(e).rest(nn.create())})}returns(e){return new mn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new mn({args:e||gt.create([]).rest(nn.create()),returns:n||nn.create(),typeName:C.ZodFunction,...Y(r)})}}class Wn extends X{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Wn.create=(t,e)=>new Wn({getter:t,typeName:C.ZodLazy,...Y(e)});class Xn extends X{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return R(n,{received:n.data,code:I.invalid_literal,expected:this._def.value}),j}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xn.create=(t,e)=>new Xn({value:t,typeName:C.ZodLiteral,...Y(e)});function Do(t,e){return new Ct({values:t,typeName:C.ZodEnum,...Y(e)})}class Ct extends X{constructor(){super(...arguments),Un.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return R(n,{expected:ne.joinValues(r),received:n.parsedType,code:I.invalid_type}),j}if(zr(this,Un)||Oo(this,Un,new Set(this._def.values)),!zr(this,Un).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return R(n,{received:n.data,code:I.invalid_enum_value,options:r}),j}return Ve(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ct.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ct.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Un=new WeakMap;Ct.create=Do;class Jn extends X{constructor(){super(...arguments),Bn.set(this,void 0)}_parse(e){const n=ne.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==D.string&&r.parsedType!==D.number){const i=ne.objectValues(n);return R(r,{expected:ne.joinValues(i),received:r.parsedType,code:I.invalid_type}),j}if(zr(this,Bn)||Oo(this,Bn,new Set(ne.getValidEnumValues(this._def.values))),!zr(this,Bn).has(e.data)){const i=ne.objectValues(n);return R(r,{received:r.data,code:I.invalid_enum_value,options:i}),j}return Ve(e.data)}get enum(){return this._def.values}}Bn=new WeakMap;Jn.create=(t,e)=>new Jn({values:t,typeName:C.ZodNativeEnum,...Y(e)});class yn extends X{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==D.promise&&n.common.async===!1)return R(n,{code:I.invalid_type,expected:D.promise,received:n.parsedType}),j;const r=n.parsedType===D.promise?n.data:Promise.resolve(n.data);return Ve(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}yn.create=(t,e)=>new yn({type:t,typeName:C.ZodPromise,...Y(e)});class ot extends X{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===C.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{R(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return j;const u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?j:u.status==="dirty"||n.value==="dirty"?gn(u.value):u});{if(n.value==="aborted")return j;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?j:a.status==="dirty"||n.value==="dirty"?gn(a.value):a}}if(i.type==="refinement"){const o=a=>{const u=i.refinement(a,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?j:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?j:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Hn(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Hn(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);ne.assertNever(i)}}ot.create=(t,e,n)=>new ot({schema:t,typeName:C.ZodEffects,effect:e,...Y(n)});ot.createWithPreprocess=(t,e,n)=>new ot({schema:e,effect:{type:"preprocess",transform:t},typeName:C.ZodEffects,...Y(n)});class ft extends X{_parse(e){return this._getType(e)===D.undefined?Ve(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ft.create=(t,e)=>new ft({innerType:t,typeName:C.ZodOptional,...Y(e)});class jt extends X{_parse(e){return this._getType(e)===D.null?Ve(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jt.create=(t,e)=>new jt({innerType:t,typeName:C.ZodNullable,...Y(e)});class Qn extends X{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===D.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Qn.create=(t,e)=>new Qn({innerType:t,typeName:C.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Y(e)});class er extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Fn(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $e(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $e(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}er.create=(t,e)=>new er({innerType:t,typeName:C.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Y(e)});class Jr extends X{_parse(e){if(this._getType(e)!==D.nan){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.nan,received:r.parsedType}),j}return{status:"valid",value:e.data}}}Jr.create=t=>new Jr({typeName:C.ZodNaN,...Y(t)});const wu=Symbol("zod_brand");class ns extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class sr extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?j:s.status==="dirty"?(n.dirty(),gn(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?j:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new sr({in:e,out:n,typeName:C.ZodPipeline})}}class tr extends X{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Hn(i)&&(i.value=Object.freeze(i.value)),i);return Fn(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}tr.create=(t,e)=>new tr({innerType:t,typeName:C.ZodReadonly,...Y(e)});function rs(t,e={},n){return t?vn.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,d=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...d,fatal:u})}}):vn.create()}const Tu={object:de.lazycreate};var C;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(C||(C={}));const Au=(t,e={message:`Input not instance of ${t.name}`})=>rs(n=>n instanceof t,e),_=it.create,G=Ht.create,Su=Jr.create,Lo=Ft.create,K=Cn.create,Nu=sn.create,Iu=Yr.create,Ou=jn.create,is=Kn.create,xu=vn.create,nr=nn.create,ku=Lt.create,Ru=Wr.create,te=st.create,x=de.create,Du=de.strictCreate,ss=$n.create,Lu=ri.create,Mu=zn.create,Pu=gt.create,Uu=Yn.create,Bu=Xr.create,Vu=on.create,Gu=mn.create,Zu=Wn.create,we=Xn.create,qu=Ct.create,wn=Jn.create,Hu=yn.create,Ms=ot.create,Mo=ft.create,Fu=jt.create,Po=ot.createWithPreprocess,Cu=sr.create,ju=()=>_().optional(),Ku=()=>G().optional(),$u=()=>K().optional(),zu={string:t=>it.create({...t,coerce:!0}),number:t=>Ht.create({...t,coerce:!0}),boolean:t=>Cn.create({...t,coerce:!0}),bigint:t=>Ft.create({...t,coerce:!0}),date:t=>sn.create({...t,coerce:!0})},Yu=j;var U=Object.freeze({__proto__:null,defaultErrorMap:_n,setErrorMap:su,getErrorMap:Kr,makeIssue:$r,EMPTY_PATH:ou,addIssueToContext:R,ParseStatus:De,INVALID:j,DIRTY:gn,OK:Ve,isAborted:Ci,isDirty:ji,isValid:Hn,isAsync:Fn,get util(){return ne},get objectUtil(){return Fi},ZodParsedType:D,getParsedType:Bt,ZodType:X,datetimeRegex:Ro,ZodString:it,ZodNumber:Ht,ZodBigInt:Ft,ZodBoolean:Cn,ZodDate:sn,ZodSymbol:Yr,ZodUndefined:jn,ZodNull:Kn,ZodAny:vn,ZodUnknown:nn,ZodNever:Lt,ZodVoid:Wr,ZodArray:st,ZodObject:de,ZodUnion:$n,ZodDiscriminatedUnion:ri,ZodIntersection:zn,ZodTuple:gt,ZodRecord:Yn,ZodMap:Xr,ZodSet:on,ZodFunction:mn,ZodLazy:Wn,ZodLiteral:Xn,ZodEnum:Ct,ZodNativeEnum:Jn,ZodPromise:yn,ZodEffects:ot,ZodTransformer:ot,ZodOptional:ft,ZodNullable:jt,ZodDefault:Qn,ZodCatch:er,ZodNaN:Jr,BRAND:wu,ZodBranded:ns,ZodPipeline:sr,ZodReadonly:tr,custom:rs,Schema:X,ZodSchema:X,late:Tu,get ZodFirstPartyTypeKind(){return C},coerce:zu,any:xu,array:te,bigint:Lo,boolean:K,date:Nu,discriminatedUnion:Lu,effect:Ms,enum:qu,function:Gu,instanceof:Au,intersection:Mu,lazy:Zu,literal:we,map:Bu,nan:Su,nativeEnum:wn,never:ku,null:is,nullable:Fu,number:G,object:x,oboolean:$u,onumber:Ku,optional:Mo,ostring:ju,pipeline:Cu,preprocess:Po,promise:Hu,record:Uu,set:Vu,strictObject:Du,string:_,symbol:Iu,transformer:Ms,tuple:Pu,undefined:Ou,union:ss,unknown:nr,void:Ru,NEVER:Yu,ZodIssueCode:I,quotelessJson:iu,ZodError:$e}),Uo={exports:{}};(function(t){var e=function(n){var r=1e7,i=7,s=9007199254740992,o=W(s),a="0123456789abcdefghijklmnopqrstuvwxyz",u=typeof BigInt=="function";function d(l,h,m,y){return typeof l>"u"?d[0]:typeof h<"u"?+h==10&&!m?F(l):mr(l,h,m,y):F(l)}function f(l,h){this.value=l,this.sign=h,this.isSmall=!1}f.prototype=Object.create(d.prototype);function g(l){this.value=l,this.sign=l<0,this.isSmall=!0}g.prototype=Object.create(d.prototype);function T(l){this.value=l}T.prototype=Object.create(d.prototype);function L(l){return-s<l&&l<s}function W(l){return l<1e7?[l]:l<1e14?[l%1e7,Math.floor(l/1e7)]:[l%1e7,Math.floor(l/1e7)%1e7,Math.floor(l/1e14)]}function q(l){k(l);var h=l.length;if(h<4&&vt(l,o)<0)switch(h){case 0:return 0;case 1:return l[0];case 2:return l[0]+l[1]*r;default:return l[0]+(l[1]+l[2]*r)*r}return l}function k(l){for(var h=l.length;l[--h]===0;);l.length=h+1}function me(l){for(var h=new Array(l),m=-1;++m<l;)h[m]=0;return h}function se(l){return l>0?Math.floor(l):Math.ceil(l)}function ae(l,h){var m=l.length,y=h.length,E=new Array(m),b=0,A=r,S,N;for(N=0;N<y;N++)S=l[N]+h[N]+b,b=S>=A?1:0,E[N]=S-b*A;for(;N<m;)S=l[N]+b,b=S===A?1:0,E[N++]=S-b*A;return b>0&&E.push(b),E}function Me(l,h){return l.length>=h.length?ae(l,h):ae(h,l)}function ve(l,h){var m=l.length,y=new Array(m),E=r,b,A;for(A=0;A<m;A++)b=l[A]-E+h,h=Math.floor(b/E),y[A]=b-h*E,h+=1;for(;h>0;)y[A++]=h%E,h=Math.floor(h/E);return y}f.prototype.add=function(l){var h=F(l);if(this.sign!==h.sign)return this.subtract(h.negate());var m=this.value,y=h.value;return h.isSmall?new f(ve(m,Math.abs(y)),this.sign):new f(Me(m,y),this.sign)},f.prototype.plus=f.prototype.add,g.prototype.add=function(l){var h=F(l),m=this.value;if(m<0!==h.sign)return this.subtract(h.negate());var y=h.value;if(h.isSmall){if(L(m+y))return new g(m+y);y=W(Math.abs(y))}return new f(ve(y,Math.abs(m)),m<0)},g.prototype.plus=g.prototype.add,T.prototype.add=function(l){return new T(this.value+F(l).value)},T.prototype.plus=T.prototype.add;function ze(l,h){var m=l.length,y=h.length,E=new Array(m),b=0,A=r,S,N;for(S=0;S<y;S++)N=l[S]-b-h[S],N<0?(N+=A,b=1):b=0,E[S]=N;for(S=y;S<m;S++){if(N=l[S]-b,N<0)N+=A;else{E[S++]=N;break}E[S]=N}for(;S<m;S++)E[S]=l[S];return k(E),E}function Oe(l,h,m){var y;return vt(l,h)>=0?y=ze(l,h):(y=ze(h,l),m=!m),y=q(y),typeof y=="number"?(m&&(y=-y),new g(y)):new f(y,m)}function He(l,h,m){var y=l.length,E=new Array(y),b=-h,A=r,S,N;for(S=0;S<y;S++)N=l[S]+b,b=Math.floor(N/A),N%=A,E[S]=N<0?N+A:N;return E=q(E),typeof E=="number"?(m&&(E=-E),new g(E)):new f(E,m)}f.prototype.subtract=function(l){var h=F(l);if(this.sign!==h.sign)return this.add(h.negate());var m=this.value,y=h.value;return h.isSmall?He(m,Math.abs(y),this.sign):Oe(m,y,this.sign)},f.prototype.minus=f.prototype.subtract,g.prototype.subtract=function(l){var h=F(l),m=this.value;if(m<0!==h.sign)return this.add(h.negate());var y=h.value;return h.isSmall?new g(m-y):He(y,Math.abs(m),m>=0)},g.prototype.minus=g.prototype.subtract,T.prototype.subtract=function(l){return new T(this.value-F(l).value)},T.prototype.minus=T.prototype.subtract,f.prototype.negate=function(){return new f(this.value,!this.sign)},g.prototype.negate=function(){var l=this.sign,h=new g(-this.value);return h.sign=!l,h},T.prototype.negate=function(){return new T(-this.value)},f.prototype.abs=function(){return new f(this.value,!1)},g.prototype.abs=function(){return new g(Math.abs(this.value))},T.prototype.abs=function(){return new T(this.value>=0?this.value:-this.value)};function et(l,h){var m=l.length,y=h.length,E=m+y,b=me(E),A=r,S,N,H,Q,$;for(H=0;H<m;++H){Q=l[H];for(var re=0;re<y;++re)$=h[re],S=Q*$+b[H+re],N=Math.floor(S/A),b[H+re]=S-N*A,b[H+re+1]+=N}return k(b),b}function Ye(l,h){var m=l.length,y=new Array(m),E=r,b=0,A,S;for(S=0;S<m;S++)A=l[S]*h+b,b=Math.floor(A/E),y[S]=A-b*E;for(;b>0;)y[S++]=b%E,b=Math.floor(b/E);return y}function Pe(l,h){for(var m=[];h-- >0;)m.push(0);return m.concat(l)}function ce(l,h){var m=Math.max(l.length,h.length);if(m<=30)return et(l,h);m=Math.ceil(m/2);var y=l.slice(m),E=l.slice(0,m),b=h.slice(m),A=h.slice(0,m),S=ce(E,A),N=ce(y,b),H=ce(Me(E,y),Me(A,b)),Q=Me(Me(S,Pe(ze(ze(H,S),N),m)),Pe(N,2*m));return k(Q),Q}function oi(l,h){return-.012*l-.012*h+15e-6*l*h>0}f.prototype.multiply=function(l){var h=F(l),m=this.value,y=h.value,E=this.sign!==h.sign,b;if(h.isSmall){if(y===0)return d[0];if(y===1)return this;if(y===-1)return this.negate();if(b=Math.abs(y),b<r)return new f(Ye(m,b),E);y=W(b)}return oi(m.length,y.length)?new f(ce(m,y),E):new f(et(m,y),E)},f.prototype.times=f.prototype.multiply;function ar(l,h,m){return l<r?new f(Ye(h,l),m):new f(et(h,W(l)),m)}g.prototype._multiplyBySmall=function(l){return L(l.value*this.value)?new g(l.value*this.value):ar(Math.abs(l.value),W(Math.abs(this.value)),this.sign!==l.sign)},f.prototype._multiplyBySmall=function(l){return l.value===0?d[0]:l.value===1?this:l.value===-1?this.negate():ar(Math.abs(l.value),this.value,this.sign!==l.sign)},g.prototype.multiply=function(l){return F(l)._multiplyBySmall(this)},g.prototype.times=g.prototype.multiply,T.prototype.multiply=function(l){return new T(this.value*F(l).value)},T.prototype.times=T.prototype.multiply;function lr(l){var h=l.length,m=me(h+h),y=r,E,b,A,S,N;for(A=0;A<h;A++){S=l[A],b=0-S*S;for(var H=A;H<h;H++)N=l[H],E=2*(S*N)+m[A+H]+b,b=Math.floor(E/y),m[A+H]=E-b*y;m[A+h]=b}return k(m),m}f.prototype.square=function(){return new f(lr(this.value),!1)},g.prototype.square=function(){var l=this.value*this.value;return L(l)?new g(l):new f(lr(W(Math.abs(this.value))),!1)},T.prototype.square=function(l){return new T(this.value*this.value)};function ai(l,h){var m=l.length,y=h.length,E=r,b=me(h.length),A=h[y-1],S=Math.ceil(E/(2*A)),N=Ye(l,S),H=Ye(h,S),Q,$,re,Ue,xe,xn,kn;for(N.length<=m&&N.push(0),H.push(0),A=H[y-1],$=m-y;$>=0;$--){for(Q=E-1,N[$+y]!==A&&(Q=Math.floor((N[$+y]*E+N[$+y-1])/A)),re=0,Ue=0,xn=H.length,xe=0;xe<xn;xe++)re+=Q*H[xe],kn=Math.floor(re/E),Ue+=N[$+xe]-(re-kn*E),re=kn,Ue<0?(N[$+xe]=Ue+E,Ue=-1):(N[$+xe]=Ue,Ue=0);for(;Ue!==0;){for(Q-=1,re=0,xe=0;xe<xn;xe++)re+=N[$+xe]-E+H[xe],re<0?(N[$+xe]=re+E,re=0):(N[$+xe]=re,re=1);Ue+=re}b[$]=Q}return N=cr(N,S)[0],[q(b),q(N)]}function li(l,h){for(var m=l.length,y=h.length,E=[],b=[],A=r,S,N,H,Q,$;m;){if(b.unshift(l[--m]),k(b),vt(b,h)<0){E.push(0);continue}N=b.length,H=b[N-1]*A+b[N-2],Q=h[y-1]*A+h[y-2],N>y&&(H=(H+1)*A),S=Math.ceil(H/Q);do{if($=Ye(h,S),vt($,b)<=0)break;S--}while(S);E.push(S),b=ze(b,$)}return E.reverse(),[q(E),q(b)]}function cr(l,h){var m=l.length,y=me(m),E=r,b,A,S,N;for(S=0,b=m-1;b>=0;--b)N=S*E+l[b],A=se(N/h),S=N-A*h,y[b]=A|0;return[y,S|0]}function _t(l,h){var m,y=F(h);if(u)return[new T(l.value/y.value),new T(l.value%y.value)];var E=l.value,b=y.value,A;if(b===0)throw new Error("Cannot divide by zero");if(l.isSmall)return y.isSmall?[new g(se(E/b)),new g(E%b)]:[d[0],l];if(y.isSmall){if(b===1)return[l,d[0]];if(b==-1)return[l.negate(),d[0]];var S=Math.abs(b);if(S<r){m=cr(E,S),A=q(m[0]);var N=m[1];return l.sign&&(N=-N),typeof A=="number"?(l.sign!==y.sign&&(A=-A),[new g(A),new g(N)]):[new f(A,l.sign!==y.sign),new g(N)]}b=W(S)}var H=vt(E,b);if(H===-1)return[d[0],l];if(H===0)return[d[l.sign===y.sign?1:-1],d[0]];E.length+b.length<=200?m=ai(E,b):m=li(E,b),A=m[0];var Q=l.sign!==y.sign,$=m[1],re=l.sign;return typeof A=="number"?(Q&&(A=-A),A=new g(A)):A=new f(A,Q),typeof $=="number"?(re&&($=-$),$=new g($)):$=new f($,re),[A,$]}f.prototype.divmod=function(l){var h=_t(this,l);return{quotient:h[0],remainder:h[1]}},T.prototype.divmod=g.prototype.divmod=f.prototype.divmod,f.prototype.divide=function(l){return _t(this,l)[0]},T.prototype.over=T.prototype.divide=function(l){return new T(this.value/F(l).value)},g.prototype.over=g.prototype.divide=f.prototype.over=f.prototype.divide,f.prototype.mod=function(l){return _t(this,l)[1]},T.prototype.mod=T.prototype.remainder=function(l){return new T(this.value%F(l).value)},g.prototype.remainder=g.prototype.mod=f.prototype.remainder=f.prototype.mod,f.prototype.pow=function(l){var h=F(l),m=this.value,y=h.value,E,b,A;if(y===0)return d[1];if(m===0)return d[0];if(m===1)return d[1];if(m===-1)return h.isEven()?d[1]:d[-1];if(h.sign)return d[0];if(!h.isSmall)throw new Error("The exponent "+h.toString()+" is too large.");if(this.isSmall&&L(E=Math.pow(m,y)))return new g(se(E));for(b=this,A=d[1];y&!0&&(A=A.times(b),--y),y!==0;)y/=2,b=b.square();return A},g.prototype.pow=f.prototype.pow,T.prototype.pow=function(l){var h=F(l),m=this.value,y=h.value,E=BigInt(0),b=BigInt(1),A=BigInt(2);if(y===E)return d[1];if(m===E)return d[0];if(m===b)return d[1];if(m===BigInt(-1))return h.isEven()?d[1]:d[-1];if(h.isNegative())return new T(E);for(var S=this,N=d[1];(y&b)===b&&(N=N.times(S),--y),y!==E;)y/=A,S=S.square();return N},f.prototype.modPow=function(l,h){if(l=F(l),h=F(h),h.isZero())throw new Error("Cannot take modPow with modulus 0");var m=d[1],y=this.mod(h);for(l.isNegative()&&(l=l.multiply(d[-1]),y=y.modInv(h));l.isPositive();){if(y.isZero())return d[0];l.isOdd()&&(m=m.multiply(y).mod(h)),l=l.divide(2),y=y.square().mod(h)}return m},T.prototype.modPow=g.prototype.modPow=f.prototype.modPow;function vt(l,h){if(l.length!==h.length)return l.length>h.length?1:-1;for(var m=l.length-1;m>=0;m--)if(l[m]!==h[m])return l[m]>h[m]?1:-1;return 0}f.prototype.compareAbs=function(l){var h=F(l),m=this.value,y=h.value;return h.isSmall?1:vt(m,y)},g.prototype.compareAbs=function(l){var h=F(l),m=Math.abs(this.value),y=h.value;return h.isSmall?(y=Math.abs(y),m===y?0:m>y?1:-1):-1},T.prototype.compareAbs=function(l){var h=this.value,m=F(l).value;return h=h>=0?h:-h,m=m>=0?m:-m,h===m?0:h>m?1:-1},f.prototype.compare=function(l){if(l===1/0)return-1;if(l===-1/0)return 1;var h=F(l),m=this.value,y=h.value;return this.sign!==h.sign?h.sign?1:-1:h.isSmall?this.sign?-1:1:vt(m,y)*(this.sign?-1:1)},f.prototype.compareTo=f.prototype.compare,g.prototype.compare=function(l){if(l===1/0)return-1;if(l===-1/0)return 1;var h=F(l),m=this.value,y=h.value;return h.isSmall?m==y?0:m>y?1:-1:m<0!==h.sign?m<0?-1:1:m<0?1:-1},g.prototype.compareTo=g.prototype.compare,T.prototype.compare=function(l){if(l===1/0)return-1;if(l===-1/0)return 1;var h=this.value,m=F(l).value;return h===m?0:h>m?1:-1},T.prototype.compareTo=T.prototype.compare,f.prototype.equals=function(l){return this.compare(l)===0},T.prototype.eq=T.prototype.equals=g.prototype.eq=g.prototype.equals=f.prototype.eq=f.prototype.equals,f.prototype.notEquals=function(l){return this.compare(l)!==0},T.prototype.neq=T.prototype.notEquals=g.prototype.neq=g.prototype.notEquals=f.prototype.neq=f.prototype.notEquals,f.prototype.greater=function(l){return this.compare(l)>0},T.prototype.gt=T.prototype.greater=g.prototype.gt=g.prototype.greater=f.prototype.gt=f.prototype.greater,f.prototype.lesser=function(l){return this.compare(l)<0},T.prototype.lt=T.prototype.lesser=g.prototype.lt=g.prototype.lesser=f.prototype.lt=f.prototype.lesser,f.prototype.greaterOrEquals=function(l){return this.compare(l)>=0},T.prototype.geq=T.prototype.greaterOrEquals=g.prototype.geq=g.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals,f.prototype.lesserOrEquals=function(l){return this.compare(l)<=0},T.prototype.leq=T.prototype.lesserOrEquals=g.prototype.leq=g.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals,f.prototype.isEven=function(){return(this.value[0]&1)===0},g.prototype.isEven=function(){return(this.value&1)===0},T.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},f.prototype.isOdd=function(){return(this.value[0]&1)===1},g.prototype.isOdd=function(){return(this.value&1)===1},T.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},f.prototype.isPositive=function(){return!this.sign},g.prototype.isPositive=function(){return this.value>0},T.prototype.isPositive=g.prototype.isPositive,f.prototype.isNegative=function(){return this.sign},g.prototype.isNegative=function(){return this.value<0},T.prototype.isNegative=g.prototype.isNegative,f.prototype.isUnit=function(){return!1},g.prototype.isUnit=function(){return Math.abs(this.value)===1},T.prototype.isUnit=function(){return this.abs().value===BigInt(1)},f.prototype.isZero=function(){return!1},g.prototype.isZero=function(){return this.value===0},T.prototype.isZero=function(){return this.value===BigInt(0)},f.prototype.isDivisibleBy=function(l){var h=F(l);return h.isZero()?!1:h.isUnit()?!0:h.compareAbs(2)===0?this.isEven():this.mod(h).isZero()},T.prototype.isDivisibleBy=g.prototype.isDivisibleBy=f.prototype.isDivisibleBy;function ur(l){var h=l.abs();if(h.isUnit())return!1;if(h.equals(2)||h.equals(3)||h.equals(5))return!0;if(h.isEven()||h.isDivisibleBy(3)||h.isDivisibleBy(5))return!1;if(h.lesser(49))return!0}function Nn(l,h){for(var m=l.prev(),y=m,E=0,b,A,S;y.isEven();)y=y.divide(2),E++;e:for(A=0;A<h.length;A++)if(!l.lesser(h[A])&&(S=e(h[A]).modPow(y,l),!(S.isUnit()||S.equals(m)))){for(b=E-1;b!=0;b--){if(S=S.square().mod(l),S.isUnit())return!1;if(S.equals(m))continue e}return!1}return!0}f.prototype.isPrime=function(l){var h=ur(this);if(h!==n)return h;var m=this.abs(),y=m.bitLength();if(y<=64)return Nn(m,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var E=Math.log(2)*y.toJSNumber(),b=Math.ceil(l===!0?2*Math.pow(E,2):E),A=[],S=0;S<b;S++)A.push(e(S+2));return Nn(m,A)},T.prototype.isPrime=g.prototype.isPrime=f.prototype.isPrime,f.prototype.isProbablePrime=function(l,h){var m=ur(this);if(m!==n)return m;for(var y=this.abs(),E=l===n?5:l,b=[],A=0;A<E;A++)b.push(e.randBetween(2,y.minus(2),h));return Nn(y,b)},T.prototype.isProbablePrime=g.prototype.isProbablePrime=f.prototype.isProbablePrime,f.prototype.modInv=function(l){for(var h=e.zero,m=e.one,y=F(l),E=this.abs(),b,A,S;!E.isZero();)b=y.divide(E),A=h,S=y,h=m,y=E,m=A.subtract(b.multiply(m)),E=S.subtract(b.multiply(E));if(!y.isUnit())throw new Error(this.toString()+" and "+l.toString()+" are not co-prime");return h.compare(0)===-1&&(h=h.add(l)),this.isNegative()?h.negate():h},T.prototype.modInv=g.prototype.modInv=f.prototype.modInv,f.prototype.next=function(){var l=this.value;return this.sign?He(l,1,this.sign):new f(ve(l,1),this.sign)},g.prototype.next=function(){var l=this.value;return l+1<s?new g(l+1):new f(o,!1)},T.prototype.next=function(){return new T(this.value+BigInt(1))},f.prototype.prev=function(){var l=this.value;return this.sign?new f(ve(l,1),!0):He(l,1,this.sign)},g.prototype.prev=function(){var l=this.value;return l-1>-s?new g(l-1):new f(o,!0)},T.prototype.prev=function(){return new T(this.value-BigInt(1))};for(var tt=[1];2*tt[tt.length-1]<=r;)tt.push(2*tt[tt.length-1]);var zt=tt.length,yt=tt[zt-1];function hr(l){return Math.abs(l)<=r}f.prototype.shiftLeft=function(l){var h=F(l).toJSNumber();if(!hr(h))throw new Error(String(h)+" is too large for shifting.");if(h<0)return this.shiftRight(-h);var m=this;if(m.isZero())return m;for(;h>=zt;)m=m.multiply(yt),h-=zt-1;return m.multiply(tt[h])},T.prototype.shiftLeft=g.prototype.shiftLeft=f.prototype.shiftLeft,f.prototype.shiftRight=function(l){var h,m=F(l).toJSNumber();if(!hr(m))throw new Error(String(m)+" is too large for shifting.");if(m<0)return this.shiftLeft(-m);for(var y=this;m>=zt;){if(y.isZero()||y.isNegative()&&y.isUnit())return y;h=_t(y,yt),y=h[1].isNegative()?h[0].prev():h[0],m-=zt-1}return h=_t(y,tt[m]),h[1].isNegative()?h[0].prev():h[0]},T.prototype.shiftRight=g.prototype.shiftRight=f.prototype.shiftRight;function In(l,h,m){h=F(h);for(var y=l.isNegative(),E=h.isNegative(),b=y?l.not():l,A=E?h.not():h,S=0,N=0,H=null,Q=null,$=[];!b.isZero()||!A.isZero();)H=_t(b,yt),S=H[1].toJSNumber(),y&&(S=yt-1-S),Q=_t(A,yt),N=Q[1].toJSNumber(),E&&(N=yt-1-N),b=H[0],A=Q[0],$.push(m(S,N));for(var re=m(y?1:0,E?1:0)!==0?e(-1):e(0),Ue=$.length-1;Ue>=0;Ue-=1)re=re.multiply(yt).add(e($[Ue]));return re}f.prototype.not=function(){return this.negate().prev()},T.prototype.not=g.prototype.not=f.prototype.not,f.prototype.and=function(l){return In(this,l,function(h,m){return h&m})},T.prototype.and=g.prototype.and=f.prototype.and,f.prototype.or=function(l){return In(this,l,function(h,m){return h|m})},T.prototype.or=g.prototype.or=f.prototype.or,f.prototype.xor=function(l){return In(this,l,function(h,m){return h^m})},T.prototype.xor=g.prototype.xor=f.prototype.xor;var le=1<<30,fr=(r&-r)*(r&-r)|le;function ln(l){var h=l.value,m=typeof h=="number"?h|le:typeof h=="bigint"?h|BigInt(le):h[0]+h[1]*r|fr;return m&-m}function nt(l,h){if(h.compareTo(l)<=0){var m=nt(l,h.square(h)),y=m.p,E=m.e,b=y.multiply(h);return b.compareTo(l)<=0?{p:b,e:E*2+1}:{p:y,e:E*2}}return{p:e(1),e:0}}f.prototype.bitLength=function(){var l=this;return l.compareTo(e(0))<0&&(l=l.negate().subtract(e(1))),l.compareTo(e(0))===0?e(0):e(nt(l,e(2)).e).add(e(1))},T.prototype.bitLength=g.prototype.bitLength=f.prototype.bitLength;function On(l,h){return l=F(l),h=F(h),l.greater(h)?l:h}function cn(l,h){return l=F(l),h=F(h),l.lesser(h)?l:h}function dr(l,h){if(l=F(l).abs(),h=F(h).abs(),l.equals(h))return l;if(l.isZero())return h;if(h.isZero())return l;for(var m=d[1],y,E;l.isEven()&&h.isEven();)y=cn(ln(l),ln(h)),l=l.divide(y),h=h.divide(y),m=m.multiply(y);for(;l.isEven();)l=l.divide(ln(l));do{for(;h.isEven();)h=h.divide(ln(h));l.greater(h)&&(E=h,h=l,l=E),h=h.subtract(l)}while(!h.isZero());return m.isUnit()?l:l.multiply(m)}function pr(l,h){return l=F(l).abs(),h=F(h).abs(),l.divide(dr(l,h)).multiply(h)}function gr(l,h,m){l=F(l),h=F(h);var y=m||Math.random,E=cn(l,h),b=On(l,h),A=b.subtract(E).add(1);if(A.isSmall)return E.add(Math.floor(y()*A));for(var S=Yt(A,r).value,N=[],H=!0,Q=0;Q<S.length;Q++){var $=H?S[Q]+(Q+1<S.length?S[Q+1]/r:0):r,re=se(y()*$);N.push(re),re<S[Q]&&(H=!1)}return E.add(d.fromArray(N,r,!1))}var mr=function(l,h,m,y){m=m||a,l=String(l),y||(l=l.toLowerCase(),m=m.toLowerCase());var E=l.length,b,A=Math.abs(h),S={};for(b=0;b<m.length;b++)S[m[b]]=b;for(b=0;b<E;b++){var N=l[b];if(N!=="-"&&N in S&&S[N]>=A){if(N==="1"&&A===1)continue;throw new Error(N+" is not a valid digit in base "+h+".")}}h=F(h);var H=[],Q=l[0]==="-";for(b=Q?1:0;b<l.length;b++){var N=l[b];if(N in S)H.push(F(S[N]));else if(N==="<"){var $=b;do b++;while(l[b]!==">"&&b<l.length);H.push(F(l.slice($+1,b)))}else throw new Error(N+" is not a valid character")}return _r(H,h,Q)};function _r(l,h,m){var y=d[0],E=d[1],b;for(b=l.length-1;b>=0;b--)y=y.add(l[b].times(E)),E=E.times(h);return m?y.negate():y}function ci(l,h){return h=h||a,l<h.length?h[l]:"<"+l+">"}function Yt(l,h){if(h=e(h),h.isZero()){if(l.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(h.equals(-1)){if(l.isZero())return{value:[0],isNegative:!1};if(l.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-l.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var m=Array.apply(null,Array(l.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return m.unshift([1]),{value:[].concat.apply([],m),isNegative:!1}}var y=!1;if(l.isNegative()&&h.isPositive()&&(y=!0,l=l.abs()),h.isUnit())return l.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(l.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:y};for(var E=[],b=l,A;b.isNegative()||b.compareAbs(h)>=0;){A=b.divmod(h),b=A.quotient;var S=A.remainder;S.isNegative()&&(S=h.minus(S).abs(),b=b.next()),E.push(S.toJSNumber())}return E.push(b.toJSNumber()),{value:E.reverse(),isNegative:y}}function vr(l,h,m){var y=Yt(l,h);return(y.isNegative?"-":"")+y.value.map(function(E){return ci(E,m)}).join("")}f.prototype.toArray=function(l){return Yt(this,l)},g.prototype.toArray=function(l){return Yt(this,l)},T.prototype.toArray=function(l){return Yt(this,l)},f.prototype.toString=function(l,h){if(l===n&&(l=10),l!==10||h)return vr(this,l,h);for(var m=this.value,y=m.length,E=String(m[--y]),b="0000000",A;--y>=0;)A=String(m[y]),E+=b.slice(A.length)+A;var S=this.sign?"-":"";return S+E},g.prototype.toString=function(l,h){return l===n&&(l=10),l!=10||h?vr(this,l,h):String(this.value)},T.prototype.toString=g.prototype.toString,T.prototype.toJSON=f.prototype.toJSON=g.prototype.toJSON=function(){return this.toString()},f.prototype.valueOf=function(){return parseInt(this.toString(),10)},f.prototype.toJSNumber=f.prototype.valueOf,g.prototype.valueOf=function(){return this.value},g.prototype.toJSNumber=g.prototype.valueOf,T.prototype.valueOf=T.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function yr(l){if(L(+l)){var h=+l;if(h===se(h))return u?new T(BigInt(h)):new g(h);throw new Error("Invalid integer: "+l)}var m=l[0]==="-";m&&(l=l.slice(1));var y=l.split(/e/i);if(y.length>2)throw new Error("Invalid integer: "+y.join("e"));if(y.length===2){var E=y[1];if(E[0]==="+"&&(E=E.slice(1)),E=+E,E!==se(E)||!L(E))throw new Error("Invalid integer: "+E+" is not a valid exponent.");var b=y[0],A=b.indexOf(".");if(A>=0&&(E-=b.length-A-1,b=b.slice(0,A)+b.slice(A+1)),E<0)throw new Error("Cannot include negative exponent part for integers");b+=new Array(E+1).join("0"),l=b}var S=/^([0-9][0-9]*)$/.test(l);if(!S)throw new Error("Invalid integer: "+l);if(u)return new T(BigInt(m?"-"+l:l));for(var N=[],H=l.length,Q=i,$=H-Q;H>0;)N.push(+l.slice($,H)),$-=Q,$<0&&($=0),H-=Q;return k(N),new f(N,m)}function ui(l){if(u)return new T(BigInt(l));if(L(l)){if(l!==se(l))throw new Error(l+" is not an integer.");return new g(l)}return yr(l.toString())}function F(l){return typeof l=="number"?ui(l):typeof l=="string"?yr(l):typeof l=="bigint"?new T(l):l}for(var bt=0;bt<1e3;bt++)d[bt]=F(bt),bt>0&&(d[-bt]=F(-bt));return d.one=d[1],d.zero=d[0],d.minusOne=d[-1],d.max=On,d.min=cn,d.gcd=dr,d.lcm=pr,d.isInstance=function(l){return l instanceof f||l instanceof g||l instanceof T},d.randBetween=gr,d.fromArray=function(l,h,m){return _r(l.map(F),F(h||10),m)},d}();t.hasOwnProperty("exports")&&(t.exports=e)})(Uo);var Wu=Uo.exports,Xu=So(Wu);const Bo=64,$i=16,Vt=Bo/$i;function Ju(){try{return!0}catch{return!1}}function Qu(t,e,n){let r=0;for(let i=0;i<n;i++){const s=t[e+i];if(s===void 0)break;r+=s*16**i}return r}function Vo(t){const e=[];for(let n=0;n<t.length;n++){let r=Number(t[n]);for(let i=0;r||i<e.length;i++)r+=(e[i]||0)*10,e[i]=r%16,r=(r-e[i])/16}return e}function eh(t){const e=Vo(t),n=Array(Vt);for(let r=0;r<Vt;r++)n[Vt-1-r]=Qu(e,r*Vt,Vt);return n}class at{static fromString(e){return new at(eh(e),e)}static fromBit(e){const n=Array(Vt),r=Math.floor(e/$i);for(let i=0;i<Vt;i++)n[Vt-1-i]=i===r?1<<e-r*$i:0;return new at(n)}constructor(e,n){this.parts=e,this.str=n}and({parts:e}){return new at(this.parts.map((n,r)=>n&e[r]))}or({parts:e}){return new at(this.parts.map((n,r)=>n|e[r]))}xor({parts:e}){return new at(this.parts.map((n,r)=>n^e[r]))}not(){return new at(this.parts.map(e=>~e))}equals({parts:e}){return this.parts.every((n,r)=>n===e[r])}toString(){if(this.str!=null)return this.str;const e=new Array(Bo/4);return this.parts.forEach((n,r)=>{const i=Vo(n.toString());for(let s=0;s<4;s++)e[s+r*4]=i[3-s]||0}),this.str=Xu.fromArray(e,16).toString()}toJSON(){return this.toString()}}const $t=Ju();$t&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});const Pr={},Go=$t?function(e){return BigInt(e)}:function(e){return e instanceof at?e:(typeof e=="number"&&(e=e.toString()),Pr[e]!=null||(Pr[e]=at.fromString(e)),Pr[e])},Ie=Go(0),ii=$t?function(e=Ie,n=Ie){return e&n}:function(e=Ie,n=Ie){return e.and(n)},Zo=$t?function(e=Ie,n=Ie){return e|n}:function(e=Ie,n=Ie){return e.or(n)},th=$t?function(e=Ie,n=Ie){return e^n}:function(e=Ie,n=Ie){return e.xor(n)},nh=$t?function(e=Ie){return~e}:function(e=Ie){return e.not()},os=$t?function(e,n){return e===n}:function(e,n){return e==null||n==null?e==n:e.equals(n)};function rh(...t){let e=t[0];for(let n=1;n<t.length;n++)e=Zo(e,t[n]);return e}function ih(t,e){return os(ii(t,e),e)}function sh(t,e){return!os(ii(t,e),Ie)}function oh(t,e){return e===Ie?t:Zo(t,e)}function ah(t,e){return e===Ie?t:th(t,ii(t,e))}const lh=$t?function(e){return BigInt(1)<<BigInt(e)}:function(e){return at.fromBit(e)};var Ps={combine:rh,add:oh,remove:ah,filter:ii,invert:nh,has:ih,hasAny:sh,equals:os,deserialize:Go,getFlag:lh},Us;(function(t){t[t.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",t[t.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",t[t.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",t[t.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",t[t.INVALID_ORIGIN=4001]="INVALID_ORIGIN",t[t.RATELIMITED=4002]="RATELIMITED",t[t.TOKEN_REVOKED=4003]="TOKEN_REVOKED",t[t.INVALID_VERSION=4004]="INVALID_VERSION",t[t.INVALID_ENCODING=4005]="INVALID_ENCODING"})(Us||(Us={}));var zi;(function(t){t[t.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",t[t.INVALID_COMMAND=4002]="INVALID_COMMAND",t[t.INVALID_EVENT=4004]="INVALID_EVENT",t[t.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"})(zi||(zi={}));var Yi;(function(t){t.LANDSCAPE="landscape",t.PORTRAIT="portrait"})(Yi||(Yi={}));var Ot;(function(t){t.MOBILE="mobile",t.DESKTOP="desktop"})(Ot||(Ot={}));Object.freeze({CREATE_INSTANT_INVITE:Ps.getFlag(0),ADMINISTRATOR:Ps.getFlag(3)});const Bs=-1,ch=250;function Le(t){return Po(e=>{var n;const[r]=(n=Object.entries(t).find(([,i])=>i===e))!==null&&n!==void 0?n:[];return e!=null&&r===void 0?t.UNHANDLED:e},_().or(G()))}function uh(t){const e=rs().transform(n=>{const r=t.safeParse(n);return r.success?r.data:t._def.defaultValue()});return e.overlayType=t,e}const hh=U.object({image_url:U.string()}),fh=U.object({mediaUrl:U.string().max(1024)}),dh=U.object({access_token:U.union([U.string(),U.null()]).optional()}),qo=U.object({access_token:U.string(),user:U.object({username:U.string(),discriminator:U.string(),id:U.string(),avatar:U.union([U.string(),U.null()]).optional(),public_flags:U.number(),global_name:U.union([U.string(),U.null()]).optional()}),scopes:U.array(uh(U.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","guilds.channels.read","gdm.join","bot","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.permissions.update","applications.commands.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","relationships.write","voice","dm_channels.read","role_connections.write","presences.read","presences.write","openid","dm_channels.messages.read","dm_channels.messages.write","gateway.connect","account.global_name.update","payment_sources.country_code","sdk.social_layer"]).or(U.literal(-1)).default(-1))),expires:U.string(),application:U.object({description:U.string(),icon:U.union([U.string(),U.null()]).optional(),id:U.string(),rpc_origins:U.array(U.string()).optional(),name:U.string()})}),Ho=U.object({participants:U.array(U.object({id:U.string(),username:U.string(),global_name:U.union([U.string(),U.null()]).optional(),discriminator:U.string(),avatar:U.union([U.string(),U.null()]).optional(),flags:U.number(),bot:U.boolean(),avatar_decoration_data:U.union([U.object({asset:U.string(),skuId:U.string().optional()}),U.null()]).optional(),premium_type:U.union([U.number(),U.null()]).optional(),nickname:U.string().optional()}))});var ct;(function(t){t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.AUTHENTICATE="AUTHENTICATE",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(ct||(ct={}));const ph=U.object({}).optional().nullable(),Vs=U.void(),Fo={[ct.INITIATE_IMAGE_UPLOAD]:{request:Vs,response:hh},[ct.OPEN_SHARE_MOMENT_DIALOG]:{request:fh,response:ph},[ct.AUTHENTICATE]:{request:dh,response:qo},[ct.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:Vs,response:Ho}},gh="DISPATCH";var Z;(function(t){t.AUTHORIZE="AUTHORIZE",t.AUTHENTICATE="AUTHENTICATE",t.GET_GUILDS="GET_GUILDS",t.GET_GUILD="GET_GUILD",t.GET_CHANNEL="GET_CHANNEL",t.GET_CHANNELS="GET_CHANNELS",t.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",t.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",t.SUBSCRIBE="SUBSCRIBE",t.UNSUBSCRIBE="UNSUBSCRIBE",t.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",t.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",t.SET_ACTIVITY="SET_ACTIVITY",t.GET_SKUS="GET_SKUS",t.GET_ENTITLEMENTS="GET_ENTITLEMENTS",t.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",t.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",t.START_PURCHASE="START_PURCHASE",t.SET_CONFIG="SET_CONFIG",t.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",t.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",t.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",t.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",t.CAPTURE_LOG="CAPTURE_LOG",t.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",t.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",t.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",t.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(Z||(Z={}));const Tn=x({cmd:_(),data:nr(),evt:is(),nonce:_()}).passthrough(),mh=Object.assign(Object.assign({},qo.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1});Le(mh);const Kt=x({id:_(),username:_(),discriminator:_(),global_name:_().optional().nullable(),avatar:_().optional().nullable(),avatar_decoration_data:x({asset:_(),sku_id:_().optional()}).nullable(),bot:K(),flags:G().optional().nullable(),premium_type:G().optional().nullable()}),as=x({user:Kt,nick:_().optional().nullable(),roles:te(_()),joined_at:_(),deaf:K(),mute:K()}),_h=x({user_id:_(),nick:_().optional().nullable(),guild_id:_(),avatar:_().optional().nullable(),avatar_decoration_data:x({asset:_(),sku_id:_().optional().nullable()}).optional().nullable(),color_string:_().optional().nullable()}),ls=x({id:_(),name:_().optional().nullable(),roles:te(_()).optional().nullable(),user:Kt.optional().nullable(),require_colons:K().optional().nullable(),managed:K().optional().nullable(),animated:K().optional().nullable(),available:K().optional().nullable()}),Co=x({mute:K(),deaf:K(),self_mute:K(),self_deaf:K(),suppress:K()}),jo=x({mute:K(),nick:_(),user:Kt,voice_state:Co,volume:G()}),vh={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},Ur=Le(vh),Gn=x({name:_(),type:G(),url:_().optional().nullable(),created_at:G().optional().nullable(),timestamps:x({start:G(),end:G()}).partial().optional().nullable(),application_id:_().optional().nullable(),details:_().optional().nullable(),state:_().optional().nullable(),emoji:ls.optional().nullable(),party:x({id:_().optional().nullable(),size:te(G()).optional().nullable()}).optional().nullable(),assets:x({large_image:_().nullable(),large_text:_().nullable(),small_image:_().nullable(),small_text:_().nullable()}).partial().optional().nullable(),secrets:x({join:_(),match:_()}).partial().optional().nullable(),instance:K().optional().nullable(),flags:G().optional().nullable()}),yh={UNHANDLED:-1,ROLE:0,MEMBER:1},bh=x({id:_(),type:Le(yh),allow:_(),deny:_()}),Ko={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},$o=x({id:_(),type:Le(Ko),guild_id:_().optional().nullable(),position:G().optional().nullable(),permission_overwrites:te(bh).optional().nullable(),name:_().optional().nullable(),topic:_().optional().nullable(),nsfw:K().optional().nullable(),last_message_id:_().optional().nullable(),bitrate:G().optional().nullable(),user_limit:G().optional().nullable(),rate_limit_per_user:G().optional().nullable(),recipients:te(Kt).optional().nullable(),icon:_().optional().nullable(),owner_id:_().optional().nullable(),application_id:_().optional().nullable(),parent_id:_().optional().nullable(),last_pin_timestamp:_().optional().nullable()}),Eh=x({user:Kt,guild_id:_(),status:Ur,activities:te(Gn),client_status:x({desktop:Ur,mobile:Ur,web:Ur}).partial()}),wh=x({id:_(),name:_(),color:G(),hoist:K(),position:G(),permissions:_(),managed:K(),mentionable:K()});x({id:_(),name:_(),owner_id:_(),icon:_().nullable(),icon_hash:_().optional().nullable(),splash:_().nullable(),discovery_splash:_().nullable(),owner:K().optional().nullable(),permissions:_().optional().nullable(),region:_(),afk_channel_id:_().nullable(),afk_timeout:G(),widget_enabled:K().optional().nullable(),widget_channel_id:_().optional().nullable(),verification_level:G(),default_message_notifications:G(),explicit_content_filter:G(),roles:te(wh),emojis:te(ls),features:te(_()),mfa_level:G(),application_id:_().nullable(),system_channel_id:_().nullable(),system_channel_flags:G(),rules_channel_id:_().nullable(),joined_at:_().optional().nullable(),large:K().optional().nullable(),unavailable:K().optional().nullable(),member_count:G().optional().nullable(),voice_states:te(Co).optional().nullable(),members:te(as).optional().nullable(),channels:te($o).optional().nullable(),presences:te(Eh).optional().nullable(),max_presences:G().optional().nullable(),max_members:G().optional().nullable(),vanity_url_code:_().nullable(),description:_().nullable(),banner:_().nullable(),premium_tier:G(),premium_subscription_count:G().optional().nullable(),preferred_locale:_(),public_updates_channel_id:_().nullable(),max_video_channel_users:G().optional().nullable(),approximate_member_count:G().optional().nullable(),approximate_presence_count:G().optional().nullable()});const Th=x({id:_(),guild_id:_(),type:G(),name:_()}),Ah=x({id:_(),filename:_(),size:G(),url:_(),proxy_url:_(),height:G().optional().nullable(),width:G().optional().nullable()}),Sh=x({text:_(),icon_url:_().optional().nullable(),proxy_icon_url:_().optional().nullable()}),Wi=x({url:_().optional().nullable(),proxy_url:_().optional().nullable(),height:G().optional().nullable(),width:G().optional().nullable()}),Nh=Wi.omit({proxy_url:!0}),Ih=x({name:_().optional().nullable(),url:_().optional().nullable()}),Oh=x({name:_().optional().nullable(),url:_().optional().nullable(),icon_url:_().optional().nullable(),proxy_icon_url:_().optional().nullable()}),xh=x({name:_(),value:_(),inline:K()}),kh=x({title:_().optional().nullable(),type:_().optional().nullable(),description:_().optional().nullable(),url:_().optional().nullable(),timestamp:_().optional().nullable(),color:G().optional().nullable(),footer:Sh.optional().nullable(),image:Wi.optional().nullable(),thumbnail:Wi.optional().nullable(),video:Nh.optional().nullable(),provider:Ih.optional().nullable(),author:Oh.optional().nullable(),fields:te(xh).optional().nullable()}),Rh=x({count:G(),me:K(),emoji:ls}),Dh=x({type:G(),party_id:_().optional().nullable()}),Lh=x({id:_(),cover_image:_().optional().nullable(),description:_(),icon:_().optional().nullable(),name:_()}),Mh=x({message_id:_().optional().nullable(),channel_id:_().optional().nullable(),guild_id:_().optional().nullable()}),Ph=x({id:_(),channel_id:_(),guild_id:_().optional().nullable(),author:Kt.optional().nullable(),member:as.optional().nullable(),content:_(),timestamp:_(),edited_timestamp:_().optional().nullable(),tts:K(),mention_everyone:K(),mentions:te(Kt),mention_roles:te(_()),mention_channels:te(Th),attachments:te(Ah),embeds:te(kh),reactions:te(Rh).optional().nullable(),nonce:ss([_(),G()]).optional().nullable(),pinned:K(),webhook_id:_().optional().nullable(),type:G(),activity:Dh.optional().nullable(),application:Lh.optional().nullable(),message_reference:Mh.optional().nullable(),flags:G().optional().nullable(),stickers:te(nr()).optional().nullable(),referenced_message:nr().optional().nullable()}),Uh=x({id:_(),name:_()}),Bh={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},zo=x({type:Le(Bh),code:G(),name:_()}),Vh={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},Gh=x({type:Le(Vh),auto_threshold:K(),threshold:G(),shortcut:te(zo),delay:G()}),Gs=x({device_id:_(),volume:G(),available_devices:te(Uh)}),Zh={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"};x({type:Le(Zh),id:_(),vendor:x({name:_(),url:_()}),model:x({name:_(),url:_()}),related:te(_()),echo_cancellation:K().optional().nullable(),noise_suppression:K().optional().nullable(),automatic_gain_control:K().optional().nullable(),hardware_mute:K().optional().nullable()});const qh={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},Hh=x({id:_(),name:_(),type:Le(qh),price:x({amount:G(),currency:_()}),application_id:_(),flags:G(),release_date:_().nullable()}),Fh={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},cs=x({id:_(),sku_id:_(),application_id:_(),user_id:_(),gift_code_flags:G(),type:Le(Fh),gifter_user_id:_().optional().nullable(),branches:te(_()).optional().nullable(),starts_at:_().optional().nullable(),ends_at:_().optional().nullable(),parent_id:_().optional().nullable(),consumed:K().optional().nullable(),deleted:K().optional().nullable(),gift_code_batch_id:_().optional().nullable()}),Ch={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3};Le(Ch);const jh={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},Kh=Le(jh),Yo={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1};Le(Yo);const Wo={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2};Le(Wo);const us="ERROR";var oe;(function(t){t.READY="READY",t.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",t.SPEAKING_START="SPEAKING_START",t.SPEAKING_STOP="SPEAKING_STOP",t.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",t.ORIENTATION_UPDATE="ORIENTATION_UPDATE",t.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",t.CURRENT_GUILD_MEMBER_UPDATE="CURRENT_GUILD_MEMBER_UPDATE",t.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",t.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",t.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"})(oe||(oe={}));const Fe=Tn.extend({evt:wn(oe),nonce:_().nullable(),cmd:we(gh),data:x({}).passthrough()}),Xo=Tn.extend({evt:we(us),data:x({code:G(),message:_().optional()}).passthrough(),cmd:wn(Z),nonce:_().nullable()}),$h=Fe.extend({evt:_()}),zh=ss([Fe,$h,Xo]);function Yh(t){const e=t.evt;if(!(e in oe))throw new Error(`Unrecognized event type ${t.evt}`);return Wh[e].payload.parse(t)}const Wh={[oe.READY]:{payload:Fe.extend({evt:we(oe.READY),data:x({v:G(),config:x({cdn_host:_().optional(),api_endpoint:_(),environment:_()}),user:x({id:_(),username:_(),discriminator:_(),avatar:_().optional()}).optional()})})},[oe.VOICE_STATE_UPDATE]:{payload:Fe.extend({evt:we(oe.VOICE_STATE_UPDATE),data:jo}),subscribeArgs:x({channel_id:_()})},[oe.SPEAKING_START]:{payload:Fe.extend({evt:we(oe.SPEAKING_START),data:x({lobby_id:_().optional(),channel_id:_().optional(),user_id:_()})}),subscribeArgs:x({lobby_id:_().nullable().optional(),channel_id:_().nullable().optional()})},[oe.SPEAKING_STOP]:{payload:Fe.extend({evt:we(oe.SPEAKING_STOP),data:x({lobby_id:_().optional(),channel_id:_().optional(),user_id:_()})}),subscribeArgs:x({lobby_id:_().nullable().optional(),channel_id:_().nullable().optional()})},[oe.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:Fe.extend({evt:we(oe.ACTIVITY_LAYOUT_MODE_UPDATE),data:x({layout_mode:Le(Wo)})})},[oe.ORIENTATION_UPDATE]:{payload:Fe.extend({evt:we(oe.ORIENTATION_UPDATE),data:x({screen_orientation:Le(Yo),orientation:wn(Yi)})})},[oe.CURRENT_USER_UPDATE]:{payload:Fe.extend({evt:we(oe.CURRENT_USER_UPDATE),data:Kt})},[oe.CURRENT_GUILD_MEMBER_UPDATE]:{payload:Fe.extend({evt:we(oe.CURRENT_GUILD_MEMBER_UPDATE),data:_h}),subscribeArgs:x({guild_id:_()})},[oe.ENTITLEMENT_CREATE]:{payload:Fe.extend({evt:we(oe.ENTITLEMENT_CREATE),data:x({entitlement:cs})})},[oe.THERMAL_STATE_UPDATE]:{payload:Fe.extend({evt:we(oe.THERMAL_STATE_UPDATE),data:x({thermal_state:Kh})})},[oe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:Fe.extend({evt:we(oe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:x({participants:Ho.shape.participants})})}};function Xh(t,e){throw e}const or=x({}).nullable(),Jo=x({code:_()}),Jh=x({guilds:te(x({id:_(),name:_()}))}),Qh=x({id:_(),name:_(),icon_url:_().optional(),members:te(as)}),bn=x({id:_(),type:Le(Ko),guild_id:_().optional().nullable(),name:_().optional().nullable(),topic:_().optional().nullable(),bitrate:G().optional().nullable(),user_limit:G().optional().nullable(),position:G().optional().nullable(),voice_states:te(jo),messages:te(Ph)}),ef=x({channels:te($o)});bn.nullable();const tf=bn.nullable(),nf=bn.nullable();x({input:Gs,output:Gs,mode:Gh,automatic_gain_control:K(),echo_cancellation:K(),noise_suppression:K(),qos:K(),silence_warning:K(),deaf:K(),mute:K()});const rf=x({evt:_()}),sf=x({shortcut:zo}),Qo=Gn,ea=x({skus:te(Hh)}),ta=x({entitlements:te(cs)}),na=te(cs).nullable(),ra=x({use_interactive_pip:K()}),ia=x({locale:_()}),sa=x({enabled:K()}),oa=x({permissions:Lo().or(_())}),aa=x({iosKeyboardResizesView:Mo(K())}),of=Tn.extend({cmd:wn(Z),evt:is()});function af({cmd:t,data:e}){switch(t){case Z.AUTHORIZE:return Jo.parse(e);case Z.CAPTURE_SHORTCUT:return sf.parse(e);case Z.ENCOURAGE_HW_ACCELERATION:return sa.parse(e);case Z.GET_CHANNEL:return bn.parse(e);case Z.GET_CHANNELS:return ef.parse(e);case Z.GET_CHANNEL_PERMISSIONS:return oa.parse(e);case Z.GET_GUILD:return Qh.parse(e);case Z.GET_GUILDS:return Jh.parse(e);case Z.GET_PLATFORM_BEHAVIORS:return aa.parse(e);case Z.GET_CHANNEL:return bn.parse(e);case Z.SELECT_TEXT_CHANNEL:return nf.parse(e);case Z.SELECT_VOICE_CHANNEL:return tf.parse(e);case Z.SET_ACTIVITY:return Qo.parse(e);case Z.GET_SKUS_EMBEDDED:return ea.parse(e);case Z.GET_ENTITLEMENTS_EMBEDDED:return ta.parse(e);case Z.SET_CONFIG:return ra.parse(e);case Z.START_PURCHASE:return na.parse(e);case Z.SUBSCRIBE:case Z.UNSUBSCRIBE:return rf.parse(e);case Z.USER_SETTINGS_GET_LOCALE:return ia.parse(e);case Z.OPEN_EXTERNAL_LINK:case Z.SET_ORIENTATION_LOCK_STATE:case Z.SET_CERTIFIED_DEVICES:case Z.SEND_ANALYTICS_EVENT:case Z.OPEN_INVITE_DIALOG:case Z.CAPTURE_LOG:case Z.GET_SKUS:case Z.GET_ENTITLEMENTS:return or.parse(e);case Z.AUTHENTICATE:case Z.INITIATE_IMAGE_UPLOAD:case Z.OPEN_SHARE_MOMENT_DIALOG:case Z.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:n}=Fo[t];return n.parse(e);default:Xh(t,new Error(`Unrecognized command ${t}`))}}function lf(t){return Object.assign(Object.assign({},t),{data:af(t)})}x({frame_id:_(),platform:wn(Ot).optional().nullable()});x({v:we(1),encoding:we("json").optional(),client_id:_(),frame_id:_()});const cf=x({code:G(),message:_().optional()}),uf=x({evt:_().nullable(),nonce:_().nullable(),data:nr().nullable(),cmd:_()}).passthrough();function hf(t){const e=uf.parse(t);return e.evt!=null?e.evt===us?Xo.parse(e):Yh(zh.parse(e)):lf(of.passthrough().parse(e))}function qe(t,e,n,r=()=>{}){const i=Tn.extend({cmd:we(e),data:n});return async s=>{const o=await t({cmd:e,args:s,transfer:r(s)});return i.parse(o).data}}function si(t,e=()=>{}){const n=Fo[t].response,r=Tn.extend({cmd:we(t),data:n});return i=>async s=>{const o=await i({cmd:t,args:s,transfer:e(s)});return r.parse(o).data}}const ff=si(ct.AUTHENTICATE),df=t=>qe(t,Z.AUTHORIZE,Jo),pf=t=>qe(t,Z.CAPTURE_LOG,or),gf=t=>qe(t,Z.ENCOURAGE_HW_ACCELERATION,sa),mf=t=>qe(t,Z.GET_ENTITLEMENTS_EMBEDDED,ta),_f=t=>qe(t,Z.GET_SKUS_EMBEDDED,ea),vf=t=>qe(t,Z.GET_CHANNEL_PERMISSIONS,oa),yf=t=>qe(t,Z.GET_PLATFORM_BEHAVIORS,aa),bf=t=>qe(t,Z.OPEN_EXTERNAL_LINK,or),Ef=t=>qe(t,Z.OPEN_INVITE_DIALOG,or),wf=si(ct.OPEN_SHARE_MOMENT_DIALOG);Gn.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,instance:!0,type:!0}).extend({type:Gn.shape.type.optional(),instance:Gn.shape.instance.optional()}).nullable();const Tf=t=>qe(t,Z.SET_ACTIVITY,Qo),Af=t=>qe(t,Z.SET_CONFIG,ra);function Sf({sendCommand:t,cmd:e,response:n,fallbackTransform:r,transferTransform:i=()=>{}}){const s=Tn.extend({cmd:we(e),data:n});return async o=>{try{const a=await t({cmd:e,args:o,transfer:i(o)});return s.parse(a).data}catch(a){if(a.code===zi.INVALID_PAYLOAD){const u=r(o),d=await t({cmd:e,args:u,transfer:i(u)});return s.parse(d).data}else throw a}}}const Nf=t=>({lock_state:t.lock_state,picture_in_picture_lock_state:t.picture_in_picture_lock_state}),If=t=>Sf({sendCommand:t,cmd:Z.SET_ORIENTATION_LOCK_STATE,response:or,fallbackTransform:Nf}),Of=t=>qe(t,Z.START_PURCHASE,na),xf=t=>qe(t,Z.USER_SETTINGS_GET_LOCALE,ia),kf=si(ct.INITIATE_IMAGE_UPLOAD),Rf=t=>qe(t,Z.GET_CHANNEL,bn),Df=si(ct.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);function Lf(t){return{authenticate:ff(t),authorize:df(t),captureLog:pf(t),encourageHardwareAcceleration:gf(t),getChannel:Rf(t),getChannelPermissions:vf(t),getEntitlements:mf(t),getPlatformBehaviors:yf(t),getSkus:_f(t),openExternalLink:bf(t),openInviteDialog:Ef(t),openShareMomentDialog:wf(t),setActivity:Tf(t),setConfig:Af(t),setOrientationLockState:If(t),startPurchase:Of(t),userSettingsGetLocale:xf(t),initiateImageUpload:kf(t),getInstanceConnectedParticipants:Df(t)}}class Mf extends Error{constructor(e,n=""){super(n),this.code=e,this.message=n,this.name="Discord SDK Error"}}function Pf(){return{disableConsoleLogOverride:!1}}const Uf=["log","warn","debug","info","error"];function Bf(t,e,n){const r=t[e],i=t;r&&(t[e]=function(){const s=[].slice.call(arguments),o=""+s.join(" ");n(e,o),r.apply(i,s)})}var Vf="1.5.0",Gf=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zs={randomUUID:Gf},Br,Zf=new Uint8Array(16);function qf(){if(!Br&&(Br=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Br))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Br(Zf)}var Se=[];for(var Ni=0;Ni<256;++Ni)Se.push((Ni+256).toString(16).slice(1));function Hf(t,e=0){return(Se[t[e+0]]+Se[t[e+1]]+Se[t[e+2]]+Se[t[e+3]]+"-"+Se[t[e+4]]+Se[t[e+5]]+"-"+Se[t[e+6]]+Se[t[e+7]]+"-"+Se[t[e+8]]+Se[t[e+9]]+"-"+Se[t[e+10]]+Se[t[e+11]]+Se[t[e+12]]+Se[t[e+13]]+Se[t[e+14]]+Se[t[e+15]]).toLowerCase()}function qs(t,e,n){if(Zs.randomUUID&&!e&&!t)return Zs.randomUUID();t=t||{};var r=t.random||(t.rng||qf)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Hf(r)}var It;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.FRAME=1]="FRAME",t[t.CLOSE=2]="CLOSE",t[t.HELLO=3]="HELLO"})(It||(It={}));const Ff=new Set(Cf());function Cf(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function jf(){var t;return[(t=window.parent.opener)!==null&&t!==void 0?t:window.parent,document.referrer?document.referrer:"*"]}class Kf{getTransfer(e){var n;switch(e.cmd){case Z.SUBSCRIBE:case Z.UNSUBSCRIBE:return;default:return(n=e.transfer)!==null&&n!==void 0?n:void 0}}constructor(e,n){if(this.sdkVersion=Vf,this.mobileAppVersion=null,this.source=null,this.sourceOrigin="",this.eventBus=new ru,this.pendingCommands=new Map,this.sendCommand=a=>{var u;if(this.source==null)throw new Error("Attempting to send message before initialization");const d=qs();return(u=this.source)===null||u===void 0||u.postMessage([It.FRAME,Object.assign(Object.assign({},a),{nonce:d})],this.sourceOrigin,this.getTransfer(a)),new Promise((g,T)=>{this.pendingCommands.set(d,{resolve:g,reject:T})})},this.commands=Lf(this.sendCommand),this.handleMessage=a=>{if(!Ff.has(a.origin))return;const u=a.data;if(!Array.isArray(u))return;const[d,f]=u;switch(d){case It.HELLO:return;case It.CLOSE:return this.handleClose(f);case It.HANDSHAKE:return this.handleHandshake();case It.FRAME:return this.handleFrame(f);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=e,this.configuration=n??Pf(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.platform=Ot.DESKTOP,this.guildId=null,this.channelId=null;return}const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const s=r.get("instance_id");if(!s)throw new Error("instance_id query param is not defined");this.instanceId=s;const o=r.get("platform");if(o){if(o!==Ot.DESKTOP&&o!==Ot.MOBILE)throw new Error(`Invalid query param "platform" of "${o}". Valid values are "${Ot.DESKTOP}" or "${Ot.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=o,this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),this.mobileAppVersion=r.get("mobile_app_version"),[this.source,this.sourceOrigin]=jf(),this.addOnReadyListener(),this.handshake()}close(e,n){var r;window.removeEventListener("message",this.handleMessage);const i=qs();(r=this.source)===null||r===void 0||r.postMessage([It.CLOSE,{code:e,message:n,nonce:i}],this.sourceOrigin)}async subscribe(e,n,...r){const[i]=r,s=this.eventBus.listenerCount(e),o=this.eventBus.on(e,n);return Object.values(oe).includes(e)&&e!==oe.READY&&s===0&&await this.sendCommand({cmd:Z.SUBSCRIBE,args:i,evt:e}),o}async unsubscribe(e,n,...r){const[i]=r;return e!==oe.READY&&this.eventBus.listenerCount(e)===1&&await this.sendCommand({cmd:Z.UNSUBSCRIBE,evt:e,args:i}),this.eventBus.off(e,n)}async ready(){this.isReady||await new Promise(e=>{this.eventBus.once(oe.READY,e)})}parseMajorMobileVersion(){if(this.mobileAppVersion&&this.mobileAppVersion.includes("."))try{return parseInt(this.mobileAppVersion.split(".")[0])}catch{return Bs}return Bs}handshake(){var e;const n={v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId},r=this.parseMajorMobileVersion();(this.platform===Ot.DESKTOP||r>=ch)&&(n.sdk_version=this.sdkVersion),(e=this.source)===null||e===void 0||e.postMessage([It.HANDSHAKE,n],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(oe.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const e=(n,r)=>{this.commands.captureLog({level:n,message:r})};Uf.forEach(n=>{Bf(console,n,e)})}handleClose(e){cf.parse(e)}handleHandshake(){}handleFrame(e){var n,r;let i;try{i=hf(e)}catch(s){console.error("Failed to parse",e),console.error(s);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===us){if(i.nonce!=null){(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new Mf(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",e);return}(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}}var An=1e9,$f={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},da,fe=!0,Qe="[DecimalError] ",rn=Qe+"Invalid argument: ",hs=Qe+"Exponent out of range: ",Sn=Math.floor,Qt=Math.pow,zf=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,je,Te=1e7,he=7,la=9007199254740991,Qr=Sn(la/he),M={};M.absoluteValue=M.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};M.comparedTo=M.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};M.decimalPlaces=M.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*he;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};M.dividedBy=M.div=function(t){return Dt(this,new this.constructor(t))};M.dividedToIntegerBy=M.idiv=function(t){var e=this,n=e.constructor;return ue(Dt(e,new n(t),0,1),n.precision)};M.equals=M.eq=function(t){return!this.cmp(t)};M.exponent=function(){return be(this)};M.greaterThan=M.gt=function(t){return this.cmp(t)>0};M.greaterThanOrEqualTo=M.gte=function(t){return this.cmp(t)>=0};M.isInteger=M.isint=function(){return this.e>this.d.length-2};M.isNegative=M.isneg=function(){return this.s<0};M.isPositive=M.ispos=function(){return this.s>0};M.isZero=function(){return this.s===0};M.lessThan=M.lt=function(t){return this.cmp(t)<0};M.lessThanOrEqualTo=M.lte=function(t){return this.cmp(t)<1};M.logarithm=M.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(je))throw Error(Qe+"NaN");if(n.s<1)throw Error(Qe+(n.s?"NaN":"-Infinity"));return n.eq(je)?new r(0):(fe=!1,e=Dt(rr(n,s),rr(t,s),s),fe=!0,ue(e,i))};M.minus=M.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ha(e,t):ca(e,(t.s=-t.s,t))};M.modulo=M.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Qe+"NaN");return n.s?(fe=!1,e=Dt(n,t,0,1).times(t),fe=!0,n.minus(e)):ue(new r(n),i)};M.naturalExponential=M.exp=function(){return ua(this)};M.naturalLogarithm=M.ln=function(){return rr(this)};M.negated=M.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};M.plus=M.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ca(e,t):ha(e,(t.s=-t.s,t))};M.precision=M.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rn+t);if(e=be(i)+1,r=i.d.length-1,n=r*he+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};M.squareRoot=M.sqrt=function(){var t,e,n,r,i,s,o,a=this,u=a.constructor;if(a.s<1){if(!a.s)return new u(0);throw Error(Qe+"NaN")}for(t=be(a),fe=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=ut(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sn((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(s=r,r=s.plus(Dt(a,s,o+2)).times(.5),ut(s.d).slice(0,o)===(e=ut(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ue(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return fe=!0,ue(r,n)};M.times=M.mul=function(t){var e,n,r,i,s,o,a,u,d,f=this,g=f.constructor,T=f.d,L=(t=new g(t)).d;if(!f.s||!t.s)return new g(0);for(t.s*=f.s,n=f.e+t.e,u=T.length,d=L.length,u<d&&(s=T,T=L,L=s,o=u,u=d,d=o),s=[],o=u+d,r=o;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)a=s[i]+L[r]*T[i-r-1]+e,s[i--]=a%Te|0,e=a/Te|0;s[i]=(s[i]+e)%Te|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,fe?ue(t,g.precision):t};M.toDecimalPlaces=M.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(mt(t,0,An),e===void 0?e=r.rounding:mt(e,0,8),ue(n,t+be(n)+1,e))};M.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=an(r,!0):(mt(t,0,An),e===void 0?e=i.rounding:mt(e,0,8),r=ue(new i(r),t+1,e),n=an(r,!0,t+1)),n};M.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?an(i):(mt(t,0,An),e===void 0?e=s.rounding:mt(e,0,8),r=ue(new s(i),t+be(i)+1,e),n=an(r.abs(),!1,t+be(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};M.toInteger=M.toint=function(){var t=this,e=t.constructor;return ue(new e(t),be(t)+1,e.rounding)};M.toNumber=function(){return+this};M.toPower=M.pow=function(t){var e,n,r,i,s,o,a=this,u=a.constructor,d=12,f=+(t=new u(t));if(!t.s)return new u(je);if(a=new u(a),!a.s){if(t.s<1)throw Error(Qe+"Infinity");return a}if(a.eq(je))return a;if(r=u.precision,t.eq(je))return ue(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=f<0?-f:f)<=la){for(i=new u(je),e=Math.ceil(r/he+4),fe=!1;n%2&&(i=i.times(a),Fs(i.d,e)),n=Sn(n/2),n!==0;)a=a.times(a),Fs(a.d,e);return fe=!0,t.s<0?new u(je).div(i):ue(i,r)}}else if(s<0)throw Error(Qe+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,fe=!1,i=t.times(rr(a,r+d)),fe=!0,i=ua(i),i.s=s,i};M.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=be(i),r=an(i,n<=s.toExpNeg||n>=s.toExpPos)):(mt(t,1,An),e===void 0?e=s.rounding:mt(e,0,8),i=ue(new s(i),t,e),n=be(i),r=an(i,t<=n||n<=s.toExpNeg,t)),r};M.toSignificantDigits=M.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(mt(t,1,An),e===void 0?e=r.rounding:mt(e,0,8)),ue(new r(n),t,e)};M.toString=M.valueOf=M.val=M.toJSON=M[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=be(t),n=t.constructor;return an(t,e<=n.toExpNeg||e>=n.toExpPos)};function ca(t,e){var n,r,i,s,o,a,u,d,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),fe?ue(e,g):e;if(u=t.d,d=e.d,o=t.e,i=e.e,u=u.slice(),s=o-i,s){for(s<0?(r=u,s=-s,a=d.length):(r=d,i=o,a=u.length),o=Math.ceil(g/he),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=u.length,s=d.length,a-s<0&&(s=a,r=d,d=u,u=r),n=0;s;)n=(u[--s]=u[s]+d[s]+n)/Te|0,u[s]%=Te;for(n&&(u.unshift(n),++i),a=u.length;u[--a]==0;)u.pop();return e.d=u,e.e=i,fe?ue(e,g):e}function mt(t,e,n){if(t!==~~t||t<e||t>n)throw Error(rn+t)}function ut(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=he-r.length,n&&(s+=Ut(n)),s+=r;o=t[e],r=o+"",n=he-r.length,n&&(s+=Ut(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Dt=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Te|0,o=s/Te|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,u;if(s!=o)u=s>o?1:-1;else for(a=u=0;a<s;a++)if(r[a]!=i[a]){u=r[a]>i[a]?1:-1;break}return u}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Te+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,u,d,f,g,T,L,W,q,k,me,se,ae,Me,ve,ze,Oe,He,et=r.constructor,Ye=r.s==i.s?1:-1,Pe=r.d,ce=i.d;if(!r.s)return new et(r);if(!i.s)throw Error(Qe+"Division by zero");for(u=r.e-i.e,Oe=ce.length,ve=Pe.length,L=new et(Ye),W=L.d=[],d=0;ce[d]==(Pe[d]||0);)++d;if(ce[d]>(Pe[d]||0)&&--u,s==null?se=s=et.precision:o?se=s+(be(r)-be(i))+1:se=s,se<0)return new et(0);if(se=se/he+2|0,d=0,Oe==1)for(f=0,ce=ce[0],se++;(d<ve||f)&&se--;d++)ae=f*Te+(Pe[d]||0),W[d]=ae/ce|0,f=ae%ce|0;else{for(f=Te/(ce[0]+1)|0,f>1&&(ce=t(ce,f),Pe=t(Pe,f),Oe=ce.length,ve=Pe.length),Me=Oe,q=Pe.slice(0,Oe),k=q.length;k<Oe;)q[k++]=0;He=ce.slice(),He.unshift(0),ze=ce[0],ce[1]>=Te/2&&++ze;do f=0,a=e(ce,q,Oe,k),a<0?(me=q[0],Oe!=k&&(me=me*Te+(q[1]||0)),f=me/ze|0,f>1?(f>=Te&&(f=Te-1),g=t(ce,f),T=g.length,k=q.length,a=e(g,q,T,k),a==1&&(f--,n(g,Oe<T?He:ce,T))):(f==0&&(a=f=1),g=ce.slice()),T=g.length,T<k&&g.unshift(0),n(q,g,k),a==-1&&(k=q.length,a=e(ce,q,Oe,k),a<1&&(f++,n(q,Oe<k?He:ce,k))),k=q.length):a===0&&(f++,q=[0]),W[d++]=f,a&&q[0]?q[k++]=Pe[Me]||0:(q=[Pe[Me]],k=1);while((Me++<ve||q[0]!==void 0)&&se--)}return W[0]||W.shift(),L.e=u,ue(L,o?s+be(L)+1:s)}}();function ua(t,e){var n,r,i,s,o,a,u=0,d=0,f=t.constructor,g=f.precision;if(be(t)>16)throw Error(hs+be(t));if(!t.s)return new f(je);for(e==null?(fe=!1,a=g):a=e,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Qt(2,d))/Math.LN10*2+5|0,a+=r,n=i=s=new f(je),f.precision=a;;){if(i=ue(i.times(t),a),n=n.times(++u),o=s.plus(Dt(i,n,a)),ut(o.d).slice(0,a)===ut(s.d).slice(0,a)){for(;d--;)s=ue(s.times(s),a);return f.precision=g,e==null?(fe=!0,ue(s,g)):s}s=o}}function be(t){for(var e=t.e*he,n=t.d[0];n>=10;n/=10)e++;return e}function Ii(t,e,n){if(e>t.LN10.sd())throw fe=!0,n&&(t.precision=n),Error(Qe+"LN10 precision limit exceeded");return ue(new t(t.LN10),e)}function Ut(t){for(var e="";t--;)e+="0";return e}function rr(t,e){var n,r,i,s,o,a,u,d,f,g=1,T=10,L=t,W=L.d,q=L.constructor,k=q.precision;if(L.s<1)throw Error(Qe+(L.s?"NaN":"-Infinity"));if(L.eq(je))return new q(0);if(e==null?(fe=!1,d=k):d=e,L.eq(10))return e==null&&(fe=!0),Ii(q,d);if(d+=T,q.precision=d,n=ut(W),r=n.charAt(0),s=be(L),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)L=L.times(t),n=ut(L.d),r=n.charAt(0),g++;s=be(L),r>1?(L=new q("0."+n),s++):L=new q(r+"."+n.slice(1))}else return u=Ii(q,d+2,k).times(s+""),L=rr(new q(r+"."+n.slice(1)),d-T).plus(u),q.precision=k,e==null?(fe=!0,ue(L,k)):L;for(a=o=L=Dt(L.minus(je),L.plus(je),d),f=ue(L.times(L),d),i=3;;){if(o=ue(o.times(f),d),u=a.plus(Dt(o,new q(i),d)),ut(u.d).slice(0,d)===ut(a.d).slice(0,d))return a=a.times(2),s!==0&&(a=a.plus(Ii(q,d+2,k).times(s+""))),a=Dt(a,new q(g),d),q.precision=k,e==null?(fe=!0,ue(a,k)):a;a=u,i+=2}}function Hs(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sn(n/he),t.d=[],r=(n+1)%he,n<0&&(r+=he),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=he;r<i;)t.d.push(+e.slice(r,r+=he));e=e.slice(r),r=he-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),fe&&(t.e>Qr||t.e<-Qr))throw Error(hs+n)}else t.s=0,t.e=0,t.d=[0];return t}function ue(t,e,n){var r,i,s,o,a,u,d,f,g=t.d;for(o=1,s=g[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=he,i=e,d=g[f=0];else{if(f=Math.ceil((r+1)/he),s=g.length,f>=s)return t;for(d=s=g[f],o=1;s>=10;s/=10)o++;r%=he,i=r-he+o}if(n!==void 0&&(s=Qt(10,o-i-1),a=d/s%10|0,u=e<0||g[f+1]!==void 0||d%s,u=n<4?(a||u)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||u||n==6&&(r>0?i>0?d/Qt(10,o-i):0:g[f-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return u?(s=be(t),g.length=1,e=e-s-1,g[0]=Qt(10,(he-e%he)%he),t.e=Sn(-e/he)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=f,s=1,f--):(g.length=f+1,s=Qt(10,he-r),g[f]=i>0?(d/Qt(10,o-i)%Qt(10,i)|0)*s:0),u)for(;;)if(f==0){(g[0]+=s)==Te&&(g[0]=1,++t.e);break}else{if(g[f]+=s,g[f]!=Te)break;g[f--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(fe&&(t.e>Qr||t.e<-Qr))throw Error(hs+be(t));return t}function ha(t,e){var n,r,i,s,o,a,u,d,f,g,T=t.constructor,L=T.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new T(t),fe?ue(e,L):e;if(u=t.d,g=e.d,r=e.e,d=t.e,u=u.slice(),o=d-r,o){for(f=o<0,f?(n=u,o=-o,a=g.length):(n=g,r=d,a=u.length),i=Math.max(Math.ceil(L/he),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,a=g.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(u[i]!=g[i]){f=u[i]<g[i];break}o=0}for(f&&(n=u,u=g,g=n,e.s=-e.s),a=u.length,i=g.length-a;i>0;--i)u[a++]=0;for(i=g.length;i>o;){if(u[--i]<g[i]){for(s=i;s&&u[--s]===0;)u[s]=Te-1;--u[s],u[i]+=Te}u[i]-=g[i]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,fe?ue(e,L):e):new T(0)}function an(t,e,n){var r,i=be(t),s=ut(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ut(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ut(-i-1)+s,n&&(r=n-o)>0&&(s+=Ut(r))):i>=o?(s+=Ut(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Ut(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Ut(r))),t.s<0?"-"+s:s}function Fs(t,e){if(t.length>e)return t.length=e,!0}function fa(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(rn+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Hs(o,s.toString())}else if(typeof s!="string")throw Error(rn+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,zf.test(s))Hs(o,s);else throw Error(rn+s)}if(i.prototype=M,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fa,i.config=i.set=Yf,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Yf(t){if(!t||typeof t!="object")throw Error(Qe+"Object expected");var e,n,r,i=["precision",1,An,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sn(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(rn+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rn+n+": "+r);return this}var da=fa($f);je=new da(1);var v;(function(t){t.AED="aed",t.AFN="afn",t.ALL="all",t.AMD="amd",t.ANG="ang",t.AOA="aoa",t.ARS="ars",t.AUD="aud",t.AWG="awg",t.AZN="azn",t.BAM="bam",t.BBD="bbd",t.BDT="bdt",t.BGN="bgn",t.BHD="bhd",t.BIF="bif",t.BMD="bmd",t.BND="bnd",t.BOB="bob",t.BOV="bov",t.BRL="brl",t.BSD="bsd",t.BTN="btn",t.BWP="bwp",t.BYN="byn",t.BYR="byr",t.BZD="bzd",t.CAD="cad",t.CDF="cdf",t.CHE="che",t.CHF="chf",t.CHW="chw",t.CLF="clf",t.CLP="clp",t.CNY="cny",t.COP="cop",t.COU="cou",t.CRC="crc",t.CUC="cuc",t.CUP="cup",t.CVE="cve",t.CZK="czk",t.DJF="djf",t.DKK="dkk",t.DOP="dop",t.DZD="dzd",t.EGP="egp",t.ERN="ern",t.ETB="etb",t.EUR="eur",t.FJD="fjd",t.FKP="fkp",t.GBP="gbp",t.GEL="gel",t.GHS="ghs",t.GIP="gip",t.GMD="gmd",t.GNF="gnf",t.GTQ="gtq",t.GYD="gyd",t.HKD="hkd",t.HNL="hnl",t.HRK="hrk",t.HTG="htg",t.HUF="huf",t.IDR="idr",t.ILS="ils",t.INR="inr",t.IQD="iqd",t.IRR="irr",t.ISK="isk",t.JMD="jmd",t.JOD="jod",t.JPY="jpy",t.KES="kes",t.KGS="kgs",t.KHR="khr",t.KMF="kmf",t.KPW="kpw",t.KRW="krw",t.KWD="kwd",t.KYD="kyd",t.KZT="kzt",t.LAK="lak",t.LBP="lbp",t.LKR="lkr",t.LRD="lrd",t.LSL="lsl",t.LTL="ltl",t.LVL="lvl",t.LYD="lyd",t.MAD="mad",t.MDL="mdl",t.MGA="mga",t.MKD="mkd",t.MMK="mmk",t.MNT="mnt",t.MOP="mop",t.MRO="mro",t.MUR="mur",t.MVR="mvr",t.MWK="mwk",t.MXN="mxn",t.MXV="mxv",t.MYR="myr",t.MZN="mzn",t.NAD="nad",t.NGN="ngn",t.NIO="nio",t.NOK="nok",t.NPR="npr",t.NZD="nzd",t.OMR="omr",t.PAB="pab",t.PEN="pen",t.PGK="pgk",t.PHP="php",t.PKR="pkr",t.PLN="pln",t.PYG="pyg",t.QAR="qar",t.RON="ron",t.RSD="rsd",t.RUB="rub",t.RWF="rwf",t.SAR="sar",t.SBD="sbd",t.SCR="scr",t.SDG="sdg",t.SEK="sek",t.SGD="sgd",t.SHP="shp",t.SLL="sll",t.SOS="sos",t.SRD="srd",t.SSP="ssp",t.STD="std",t.SVC="svc",t.SYP="syp",t.SZL="szl",t.THB="thb",t.TJS="tjs",t.TMT="tmt",t.TND="tnd",t.TOP="top",t.TRY="try",t.TTD="ttd",t.TWD="twd",t.TZS="tzs",t.UAH="uah",t.UGX="ugx",t.USD="usd",t.USN="usn",t.USS="uss",t.UYI="uyi",t.UYU="uyu",t.UZS="uzs",t.VEF="vef",t.VND="vnd",t.VUV="vuv",t.WST="wst",t.XAF="xaf",t.XAG="xag",t.XAU="xau",t.XBA="xba",t.XBB="xbb",t.XBC="xbc",t.XBD="xbd",t.XCD="xcd",t.XDR="xdr",t.XFU="xfu",t.XOF="xof",t.XPD="xpd",t.XPF="xpf",t.XPT="xpt",t.XSU="xsu",t.XTS="xts",t.XUA="xua",t.YER="yer",t.ZAR="zar",t.ZMW="zmw",t.ZWL="zwl"})(v||(v={}));v.AED+"",v.AFN+"",v.ALL+"",v.AMD+"",v.ANG+"",v.AOA+"",v.ARS+"",v.AUD+"",v.AWG+"",v.AZN+"",v.BAM+"",v.BBD+"",v.BDT+"",v.BGN+"",v.BHD+"",v.BIF+"",v.BMD+"",v.BND+"",v.BOB+"",v.BOV+"",v.BRL+"",v.BSD+"",v.BTN+"",v.BWP+"",v.BYR+"",v.BYN+"",v.BZD+"",v.CAD+"",v.CDF+"",v.CHE+"",v.CHF+"",v.CHW+"",v.CLF+"",v.CLP+"",v.CNY+"",v.COP+"",v.COU+"",v.CRC+"",v.CUC+"",v.CUP+"",v.CVE+"",v.CZK+"",v.DJF+"",v.DKK+"",v.DOP+"",v.DZD+"",v.EGP+"",v.ERN+"",v.ETB+"",v.EUR+"",v.FJD+"",v.FKP+"",v.GBP+"",v.GEL+"",v.GHS+"",v.GIP+"",v.GMD+"",v.GNF+"",v.GTQ+"",v.GYD+"",v.HKD+"",v.HNL+"",v.HRK+"",v.HTG+"",v.HUF+"",v.IDR+"",v.ILS+"",v.INR+"",v.IQD+"",v.IRR+"",v.ISK+"",v.JMD+"",v.JOD+"",v.JPY+"",v.KES+"",v.KGS+"",v.KHR+"",v.KMF+"",v.KPW+"",v.KRW+"",v.KWD+"",v.KYD+"",v.KZT+"",v.LAK+"",v.LBP+"",v.LKR+"",v.LRD+"",v.LSL+"",v.LTL+"",v.LVL+"",v.LYD+"",v.MAD+"",v.MDL+"",v.MGA+"",v.MKD+"",v.MMK+"",v.MNT+"",v.MOP+"",v.MRO+"",v.MUR+"",v.MVR+"",v.MWK+"",v.MXN+"",v.MXV+"",v.MYR+"",v.MZN+"",v.NAD+"",v.NGN+"",v.NIO+"",v.NOK+"",v.NPR+"",v.NZD+"",v.OMR+"",v.PAB+"",v.PEN+"",v.PGK+"",v.PHP+"",v.PKR+"",v.PLN+"",v.PYG+"",v.QAR+"",v.RON+"",v.RSD+"",v.RUB+"",v.RWF+"",v.SAR+"",v.SBD+"",v.SCR+"",v.SDG+"",v.SEK+"",v.SGD+"",v.SHP+"",v.SLL+"",v.SOS+"",v.SRD+"",v.SSP+"",v.STD+"",v.SVC+"",v.SYP+"",v.SZL+"",v.THB+"",v.TJS+"",v.TMT+"",v.TND+"",v.TOP+"",v.TRY+"",v.TTD+"",v.TWD+"",v.TZS+"",v.UAH+"",v.UGX+"",v.USD+"",v.USN+"",v.USS+"",v.UYI+"",v.UYU+"",v.UZS+"",v.VEF+"",v.VND+"",v.VUV+"",v.WST+"",v.XAF+"",v.XAG+"",v.XAU+"",v.XBA+"",v.XBB+"",v.XBC+"",v.XBD+"",v.XCD+"",v.XDR+"",v.XFU+"",v.XOF+"",v.XPD+"",v.XPF+"",v.XPT+"",v.XSU+"",v.XTS+"",v.XUA+"",v.YER+"",v.ZAR+"",v.ZMW+"",v.ZWL+"";var ei={exports:{}};ei.exports;(function(t,e){var n=200,r="Expected a function",i="__lodash_hash_undefined__",s=1,o=2,a=1/0,u=9007199254740991,d="[object Arguments]",f="[object Array]",g="[object Boolean]",T="[object Date]",L="[object Error]",W="[object Function]",q="[object GeneratorFunction]",k="[object Map]",me="[object Number]",se="[object Object]",ae="[object Promise]",Me="[object RegExp]",ve="[object Set]",ze="[object String]",Oe="[object Symbol]",He="[object WeakMap]",et="[object ArrayBuffer]",Ye="[object DataView]",Pe="[object Float32Array]",ce="[object Float64Array]",oi="[object Int8Array]",ar="[object Int16Array]",lr="[object Int32Array]",ai="[object Uint8Array]",li="[object Uint8ClampedArray]",cr="[object Uint16Array]",_t="[object Uint32Array]",vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ur=/^\w*$/,Nn=/^\./,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/[\\^$.*+?()[\]{}|]/g,yt=/\\(\\)?/g,hr=/^\[object .+?Constructor\]$/,In=/^(?:0|[1-9]\d*)$/,le={};le[Pe]=le[ce]=le[oi]=le[ar]=le[lr]=le[ai]=le[li]=le[cr]=le[_t]=!0,le[d]=le[f]=le[et]=le[g]=le[Ye]=le[T]=le[L]=le[W]=le[k]=le[me]=le[se]=le[Me]=le[ve]=le[ze]=le[He]=!1;var fr=typeof Mr=="object"&&Mr&&Mr.Object===Object&&Mr,ln=typeof self=="object"&&self&&self.Object===Object&&self,nt=fr||ln||Function("return this")(),On=e&&!e.nodeType&&e,cn=On&&!0&&t&&!t.nodeType&&t,dr=cn&&cn.exports===On,pr=dr&&fr.process,gr=function(){try{return pr&&pr.binding("util")}catch{}}(),mr=gr&&gr.isTypedArray;function _r(c,p){for(var w=-1,O=c?c.length:0;++w<O&&p(c[w],w,c)!==!1;);return c}function ci(c,p){for(var w=-1,O=c?c.length:0;++w<O;)if(p(c[w],w,c))return!0;return!1}function Yt(c){return function(p){return p==null?void 0:p[c]}}function vr(c,p){for(var w=-1,O=Array(c);++w<c;)O[w]=p(w);return O}function yr(c){return function(p){return c(p)}}function ui(c,p){return c==null?void 0:c[p]}function F(c){var p=!1;if(c!=null&&typeof c.toString!="function")try{p=!!(c+"")}catch{}return p}function bt(c){var p=-1,w=Array(c.size);return c.forEach(function(O,z){w[++p]=[z,O]}),w}function l(c,p){return function(w){return c(p(w))}}function h(c){var p=-1,w=Array(c.size);return c.forEach(function(O){w[++p]=O}),w}var m=Array.prototype,y=Function.prototype,E=Object.prototype,b=nt["__core-js_shared__"],A=function(){var c=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),S=y.toString,N=E.hasOwnProperty,H=E.toString,Q=RegExp("^"+S.call(N).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=nt.Symbol,re=nt.Uint8Array,Ue=l(Object.getPrototypeOf,Object),xe=Object.create,xn=E.propertyIsEnumerable,kn=m.splice,ga=l(Object.keys,Object),hi=un(nt,"DataView"),Rn=un(nt,"Map"),fi=un(nt,"Promise"),di=un(nt,"Set"),pi=un(nt,"WeakMap"),Dn=un(Object,"create"),ma=Xt(hi),_a=Xt(Rn),va=Xt(fi),ya=Xt(di),ba=Xt(pi),br=$?$.prototype:void 0,gi=br?br.valueOf:void 0,fs=br?br.toString:void 0;function Wt(c){var p=-1,w=c?c.length:0;for(this.clear();++p<w;){var O=c[p];this.set(O[0],O[1])}}function Ea(){this.__data__=Dn?Dn(null):{}}function wa(c){return this.has(c)&&delete this.__data__[c]}function Ta(c){var p=this.__data__;if(Dn){var w=p[c];return w===i?void 0:w}return N.call(p,c)?p[c]:void 0}function Aa(c){var p=this.__data__;return Dn?p[c]!==void 0:N.call(p,c)}function Sa(c,p){var w=this.__data__;return w[c]=Dn&&p===void 0?i:p,this}Wt.prototype.clear=Ea,Wt.prototype.delete=wa,Wt.prototype.get=Ta,Wt.prototype.has=Aa,Wt.prototype.set=Sa;function Et(c){var p=-1,w=c?c.length:0;for(this.clear();++p<w;){var O=c[p];this.set(O[0],O[1])}}function Na(){this.__data__=[]}function Ia(c){var p=this.__data__,w=wr(p,c);if(w<0)return!1;var O=p.length-1;return w==O?p.pop():kn.call(p,w,1),!0}function Oa(c){var p=this.__data__,w=wr(p,c);return w<0?void 0:p[w][1]}function xa(c){return wr(this.__data__,c)>-1}function ka(c,p){var w=this.__data__,O=wr(w,c);return O<0?w.push([c,p]):w[O][1]=p,this}Et.prototype.clear=Na,Et.prototype.delete=Ia,Et.prototype.get=Oa,Et.prototype.has=xa,Et.prototype.set=ka;function wt(c){var p=-1,w=c?c.length:0;for(this.clear();++p<w;){var O=c[p];this.set(O[0],O[1])}}function Ra(){this.__data__={hash:new Wt,map:new(Rn||Et),string:new Wt}}function Da(c){return Tr(this,c).delete(c)}function La(c){return Tr(this,c).get(c)}function Ma(c){return Tr(this,c).has(c)}function Pa(c,p){return Tr(this,c).set(c,p),this}wt.prototype.clear=Ra,wt.prototype.delete=Da,wt.prototype.get=La,wt.prototype.has=Ma,wt.prototype.set=Pa;function Er(c){var p=-1,w=c?c.length:0;for(this.__data__=new wt;++p<w;)this.add(c[p])}function Ua(c){return this.__data__.set(c,i),this}function Ba(c){return this.__data__.has(c)}Er.prototype.add=Er.prototype.push=Ua,Er.prototype.has=Ba;function Tt(c){this.__data__=new Et(c)}function Va(){this.__data__=new Et}function Ga(c){return this.__data__.delete(c)}function Za(c){return this.__data__.get(c)}function qa(c){return this.__data__.has(c)}function Ha(c,p){var w=this.__data__;if(w instanceof Et){var O=w.__data__;if(!Rn||O.length<n-1)return O.push([c,p]),this;w=this.__data__=new wt(O)}return w.set(c,p),this}Tt.prototype.clear=Va,Tt.prototype.delete=Ga,Tt.prototype.get=Za,Tt.prototype.has=qa,Tt.prototype.set=Ha;function Fa(c,p){var w=At(c)||bs(c)?vr(c.length,String):[],O=w.length,z=!!O;for(var B in c)N.call(c,B)&&!(z&&(B=="length"||ms(B,O)))&&w.push(B);return w}function wr(c,p){for(var w=c.length;w--;)if(ys(c[w][0],p))return w;return-1}function Ca(c){return hn(c)?xe(c):{}}var ja=sl();function Ka(c,p){return c&&ja(c,p,Ir)}function ds(c,p){p=Ar(p,c)?[p]:ps(p);for(var w=0,O=p.length;c!=null&&w<O;)c=c[Sr(p[w++])];return w&&w==O?c:void 0}function $a(c){return H.call(c)}function za(c,p){return c!=null&&p in Object(c)}function mi(c,p,w,O,z){return c===p?!0:c==null||p==null||!hn(c)&&!Nr(p)?c!==c&&p!==p:Ya(c,p,mi,w,O,z)}function Ya(c,p,w,O,z,B){var J=At(c),_e=At(p),pe=f,ke=f;J||(pe=Mt(c),pe=pe==d?se:pe),_e||(ke=Mt(p),ke=ke==d?se:ke);var Ge=pe==se&&!F(c),Ze=ke==se&&!F(p),Be=pe==ke;if(Be&&!Ge)return B||(B=new Tt),J||ws(c)?gs(c,p,w,O,z,B):ol(c,p,pe,w,O,z,B);if(!(z&o)){var We=Ge&&N.call(c,"__wrapped__"),Xe=Ze&&N.call(p,"__wrapped__");if(We||Xe){var Pt=We?c.value():c,St=Xe?p.value():p;return B||(B=new Tt),w(Pt,St,O,z,B)}}return Be?(B||(B=new Tt),al(c,p,w,O,z,B)):!1}function Wa(c,p,w,O){var z=w.length,B=z;if(c==null)return!B;for(c=Object(c);z--;){var J=w[z];if(J[2]?J[1]!==c[J[0]]:!(J[0]in c))return!1}for(;++z<B;){J=w[z];var _e=J[0],pe=c[_e],ke=J[1];if(J[2]){if(pe===void 0&&!(_e in c))return!1}else{var Ge=new Tt,Ze;if(!(Ze===void 0?mi(ke,pe,O,s|o,Ge):Ze))return!1}}return!0}function Xa(c){if(!hn(c)||hl(c))return!1;var p=vi(c)||F(c)?Q:hr;return p.test(Xt(c))}function Ja(c){return Nr(c)&&yi(c.length)&&!!le[H.call(c)]}function Qa(c){return typeof c=="function"?c:c==null?yl:typeof c=="object"?At(c)?nl(c[0],c[1]):tl(c):bl(c)}function el(c){if(!fl(c))return ga(c);var p=[];for(var w in Object(c))N.call(c,w)&&w!="constructor"&&p.push(w);return p}function tl(c){var p=ll(c);return p.length==1&&p[0][2]?vs(p[0][0],p[0][1]):function(w){return w===c||Wa(w,c,p)}}function nl(c,p){return Ar(c)&&_s(p)?vs(Sr(c),p):function(w){var O=ml(w,c);return O===void 0&&O===p?_l(w,c):mi(p,O,void 0,s|o)}}function rl(c){return function(p){return ds(p,c)}}function il(c){if(typeof c=="string")return c;if(bi(c))return fs?fs.call(c):"";var p=c+"";return p=="0"&&1/c==-a?"-0":p}function ps(c){return At(c)?c:dl(c)}function sl(c){return function(p,w,O){for(var z=-1,B=Object(p),J=O(p),_e=J.length;_e--;){var pe=J[++z];if(w(B[pe],pe,B)===!1)break}return p}}function gs(c,p,w,O,z,B){var J=z&o,_e=c.length,pe=p.length;if(_e!=pe&&!(J&&pe>_e))return!1;var ke=B.get(c);if(ke&&B.get(p))return ke==p;var Ge=-1,Ze=!0,Be=z&s?new Er:void 0;for(B.set(c,p),B.set(p,c);++Ge<_e;){var We=c[Ge],Xe=p[Ge];if(O)var Pt=J?O(Xe,We,Ge,p,c,B):O(We,Xe,Ge,c,p,B);if(Pt!==void 0){if(Pt)continue;Ze=!1;break}if(Be){if(!ci(p,function(St,Jt){if(!Be.has(Jt)&&(We===St||w(We,St,O,z,B)))return Be.add(Jt)})){Ze=!1;break}}else if(!(We===Xe||w(We,Xe,O,z,B))){Ze=!1;break}}return B.delete(c),B.delete(p),Ze}function ol(c,p,w,O,z,B,J){switch(w){case Ye:if(c.byteLength!=p.byteLength||c.byteOffset!=p.byteOffset)return!1;c=c.buffer,p=p.buffer;case et:return!(c.byteLength!=p.byteLength||!O(new re(c),new re(p)));case g:case T:case me:return ys(+c,+p);case L:return c.name==p.name&&c.message==p.message;case Me:case ze:return c==p+"";case k:var _e=bt;case ve:var pe=B&o;if(_e||(_e=h),c.size!=p.size&&!pe)return!1;var ke=J.get(c);if(ke)return ke==p;B|=s,J.set(c,p);var Ge=gs(_e(c),_e(p),O,z,B,J);return J.delete(c),Ge;case Oe:if(gi)return gi.call(c)==gi.call(p)}return!1}function al(c,p,w,O,z,B){var J=z&o,_e=Ir(c),pe=_e.length,ke=Ir(p),Ge=ke.length;if(pe!=Ge&&!J)return!1;for(var Ze=pe;Ze--;){var Be=_e[Ze];if(!(J?Be in p:N.call(p,Be)))return!1}var We=B.get(c);if(We&&B.get(p))return We==p;var Xe=!0;B.set(c,p),B.set(p,c);for(var Pt=J;++Ze<pe;){Be=_e[Ze];var St=c[Be],Jt=p[Be];if(O)var Ts=J?O(Jt,St,Be,p,c,B):O(St,Jt,Be,c,p,B);if(!(Ts===void 0?St===Jt||w(St,Jt,O,z,B):Ts)){Xe=!1;break}Pt||(Pt=Be=="constructor")}if(Xe&&!Pt){var Or=c.constructor,xr=p.constructor;Or!=xr&&"constructor"in c&&"constructor"in p&&!(typeof Or=="function"&&Or instanceof Or&&typeof xr=="function"&&xr instanceof xr)&&(Xe=!1)}return B.delete(c),B.delete(p),Xe}function Tr(c,p){var w=c.__data__;return ul(p)?w[typeof p=="string"?"string":"hash"]:w.map}function ll(c){for(var p=Ir(c),w=p.length;w--;){var O=p[w],z=c[O];p[w]=[O,z,_s(z)]}return p}function un(c,p){var w=ui(c,p);return Xa(w)?w:void 0}var Mt=$a;(hi&&Mt(new hi(new ArrayBuffer(1)))!=Ye||Rn&&Mt(new Rn)!=k||fi&&Mt(fi.resolve())!=ae||di&&Mt(new di)!=ve||pi&&Mt(new pi)!=He)&&(Mt=function(c){var p=H.call(c),w=p==se?c.constructor:void 0,O=w?Xt(w):void 0;if(O)switch(O){case ma:return Ye;case _a:return k;case va:return ae;case ya:return ve;case ba:return He}return p});function cl(c,p,w){p=Ar(p,c)?[p]:ps(p);for(var O,z=-1,J=p.length;++z<J;){var B=Sr(p[z]);if(!(O=c!=null&&w(c,B)))break;c=c[B]}if(O)return O;var J=c?c.length:0;return!!J&&yi(J)&&ms(B,J)&&(At(c)||bs(c))}function ms(c,p){return p=p??u,!!p&&(typeof c=="number"||In.test(c))&&c>-1&&c%1==0&&c<p}function Ar(c,p){if(At(c))return!1;var w=typeof c;return w=="number"||w=="symbol"||w=="boolean"||c==null||bi(c)?!0:ur.test(c)||!vt.test(c)||p!=null&&c in Object(p)}function ul(c){var p=typeof c;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?c!=="__proto__":c===null}function hl(c){return!!A&&A in c}function fl(c){var p=c&&c.constructor,w=typeof p=="function"&&p.prototype||E;return c===w}function _s(c){return c===c&&!hn(c)}function vs(c,p){return function(w){return w==null?!1:w[c]===p&&(p!==void 0||c in Object(w))}}var dl=_i(function(c){c=gl(c);var p=[];return Nn.test(c)&&p.push(""),c.replace(tt,function(w,O,z,B){p.push(z?B.replace(yt,"$1"):O||w)}),p});function Sr(c){if(typeof c=="string"||bi(c))return c;var p=c+"";return p=="0"&&1/c==-a?"-0":p}function Xt(c){if(c!=null){try{return S.call(c)}catch{}try{return c+""}catch{}}return""}function _i(c,p){if(typeof c!="function"||p&&typeof p!="function")throw new TypeError(r);var w=function(){var O=arguments,z=p?p.apply(this,O):O[0],B=w.cache;if(B.has(z))return B.get(z);var J=c.apply(this,O);return w.cache=B.set(z,J),J};return w.cache=new(_i.Cache||wt),w}_i.Cache=wt;function ys(c,p){return c===p||c!==c&&p!==p}function bs(c){return pl(c)&&N.call(c,"callee")&&(!xn.call(c,"callee")||H.call(c)==d)}var At=Array.isArray;function Es(c){return c!=null&&yi(c.length)&&!vi(c)}function pl(c){return Nr(c)&&Es(c)}function vi(c){var p=hn(c)?H.call(c):"";return p==W||p==q}function yi(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=u}function hn(c){var p=typeof c;return!!c&&(p=="object"||p=="function")}function Nr(c){return!!c&&typeof c=="object"}function bi(c){return typeof c=="symbol"||Nr(c)&&H.call(c)==Oe}var ws=mr?yr(mr):Ja;function gl(c){return c==null?"":il(c)}function ml(c,p,w){var O=c==null?void 0:ds(c,p);return O===void 0?w:O}function _l(c,p){return c!=null&&cl(c,p,za)}function Ir(c){return Es(c)?Fa(c):el(c)}function vl(c,p,w){var O=At(c)||ws(c);if(p=Qa(p),w==null)if(O||hn(c)){var z=c.constructor;O?w=At(c)?new z:[]:w=vi(z)?Ca(Ue(c)):{}}else w={};return(O?_r:Ka)(c,function(B,J,_e){return p(w,B,J,_e)}),w}function yl(c){return c}function bl(c){return Ar(c)?Yt(Sr(c)):rl(c)}t.exports=vl})(ei,ei.exports);ei.exports;let Cs;const Hr=new Kf("1289906387039682570"),pa=Hr.instanceId;lo(pa);mc(t=>{console.log(t)});bc();Wf().then(()=>{console.log("Discord SDK is authenticated"),lo(pa),zc()});document.addEventListener("keydown",function(t){Yc(t.key)});document.addEventListener("keyup",function(t){Wc(t.key)});async function Wf(){await Hr.ready(),console.log("Discord SDK is ready");const{code:t}=await Hr.commands.authorize({client_id:"1289906387039682570",response_type:"code",state:"",prompt:"none",scope:["identify","guilds","applications.commands","guilds.members.read"]}),e=await fetch("/.proxy/api/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}),{access_token:n}=await e.json();if(Cs=await Hr.commands.authenticate({access_token:n}),Cs==null)throw new Error("Authenticate command failed")}

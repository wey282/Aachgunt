(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const pt=Object.create(null);pt.open="0";pt.close="1";pt.ping="2";pt.pong="3";pt.message="4";pt.upgrade="5";pt.noop="6";const Hr=Object.create(null);Object.keys(pt).forEach(t=>{Hr[pt[t]]=t});const Ui={type:"error",data:"parser error"},to=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",no=typeof ArrayBuffer=="function",ro=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ss=({type:t,data:e},n,r)=>to&&e instanceof Blob?n?r(e):Ls(e,r):no&&(e instanceof ArrayBuffer||ro(e))?n?r(e):Ls(new Blob([e]),r):r(pt[t]+(e||"")),Ls=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Ms(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Oi;function xl(t,e){if(to&&t.data instanceof Blob)return t.data.arrayBuffer().then(Ms).then(e);if(no&&(t.data instanceof ArrayBuffer||ro(t.data)))return e(Ms(t.data));ss(t,!1,n=>{Oi||(Oi=new TextEncoder),e(Oi.encode(n))})}const Ps="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Ps.length;t++)Vn[Ps.charCodeAt(t)]=t;const kl=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),h=new Uint8Array(d);for(r=0;r<n;r+=4)s=Vn[t.charCodeAt(r)],o=Vn[t.charCodeAt(r+1)],a=Vn[t.charCodeAt(r+2)],u=Vn[t.charCodeAt(r+3)],h[i++]=s<<2|o>>4,h[i++]=(o&15)<<4|a>>2,h[i++]=(a&3)<<6|u&63;return d},Rl=typeof ArrayBuffer=="function",os=(t,e)=>{if(typeof t!="string")return{type:"message",data:io(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Dl(t.substring(1),e)}:Hr[n]?t.length>1?{type:Hr[n],data:t.substring(1)}:{type:Hr[n]}:Ui},Dl=(t,e)=>{if(Rl){const n=kl(t);return io(n,e)}else return{base64:!0,data:t}},io=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},so="",Ll=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{ss(s,!1,a=>{r[o]=a,++i===n&&e(r.join(so))})})},Ml=(t,e)=>{const n=t.split(so),r=[];for(let i=0;i<n.length;i++){const s=os(n[i],e);if(r.push(s),s.type==="error")break}return r};function Pl(){return new TransformStream({transform(t,e){xl(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let xi;function Pr(t){return t.reduce((e,n)=>e+n.length,0)}function Ur(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function Ul(t,e){xi||(xi=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Pr(n)<1)break;const u=Ur(n,1);s=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Pr(n)<2)break;const u=Ur(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Pr(n)<8)break;const u=Ur(n,8),d=new DataView(u.buffer,u.byteOffset,u.length),h=d.getUint32(0);if(h>Math.pow(2,21)-1){a.enqueue(Ui);break}i=h*Math.pow(2,32)+d.getUint32(4),r=3}else{if(Pr(n)<i)break;const u=Ur(n,i);a.enqueue(os(s?u:xi.decode(u),e)),r=0}if(i===0||i>t){a.enqueue(Ui);break}}}})}const oo=4;function be(t){if(t)return Bl(t)}function Bl(t){for(var e in be.prototype)t[e]=be.prototype[e];return t}be.prototype.on=be.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};be.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};be.prototype.off=be.prototype.removeListener=be.prototype.removeAllListeners=be.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};be.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};be.prototype.emitReserved=be.prototype.emit;be.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};be.prototype.hasListeners=function(t){return!!this.listeners(t).length};const li=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Qe=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Vl="arraybuffer";function ao(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const Gl=Qe.setTimeout,Zl=Qe.clearTimeout;function ci(t,e){e.useNativeTimers?(t.setTimeoutFn=Gl.bind(Qe),t.clearTimeoutFn=Zl.bind(Qe)):(t.setTimeoutFn=Qe.setTimeout.bind(Qe),t.clearTimeoutFn=Qe.clearTimeout.bind(Qe))}const ql=1.33;function Hl(t){return typeof t=="string"?Cl(t):Math.ceil((t.byteLength||t.size)*ql)}function Cl(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function lo(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Fl(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function jl(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Kl extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class as extends be{constructor(e){super(),this.writable=!1,ci(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new Kl(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=os(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Fl(e);return n.length?"?"+n:""}}class $l extends as{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Ml(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ll(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=lo()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let co=!1;try{co=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const zl=co;function Yl(){}class Wl extends $l{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class ht extends be{constructor(e,n,r){super(),this.createRequest=e,ci(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=ao(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ht.requestsCount++,ht.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Yl,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ht.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ht.requestsCount=0;ht.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Us);else if(typeof addEventListener=="function"){const t="onpagehide"in Qe?"pagehide":"unload";addEventListener(t,Us,!1)}}function Us(){for(let t in ht.requests)ht.requests.hasOwnProperty(t)&&ht.requests[t].abort()}const Xl=function(){const t=uo({xdomain:!1});return t&&t.responseType!==null}();class Jl extends Wl{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Xl&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ht(uo,this.uri(),e)}}function uo(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||zl))return new XMLHttpRequest}catch{}if(!e)try{return new Qe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const fo=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ql extends as{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=fo?{}:ao(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;ss(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&li(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=lo()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const ki=Qe.WebSocket||Qe.MozWebSocket;class ec extends Ql{createSocket(e,n,r){return fo?new ki(e,n,r):n?new ki(e,n):new ki(e)}doWrite(e,n){this.ws.send(n)}}class tc extends as{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Ul(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=Pl();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:u})=>{a||(this.onPacket(u),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&li(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const nc={websocket:ec,webtransport:tc,polling:Jl},rc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ic=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Bi(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=rc.exec(t||""),s={},o=14;for(;o--;)s[ic[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=sc(s,s.path),s.queryKey=oc(s,s.query),s}function sc(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function oc(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const Vi=typeof addEventListener=="function"&&typeof removeEventListener=="function",Cr=[];Vi&&addEventListener("offline",()=>{Cr.forEach(t=>t())},!1);class qt extends be{constructor(e,n){if(super(),this.binaryType=Vl,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Bi(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Bi(n.host).host);ci(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=jl(this.opts.query)),Vi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Cr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=oo,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&qt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",qt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=Hl(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,li(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(qt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Vi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Cr.indexOf(this._offlineEventListener);r!==-1&&Cr.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}qt.protocol=oo;class ac extends qt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;qt.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;qt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const T=new Error("probe error");T.transport=n.name,this.emitReserved("upgradeError",T)}}))};function s(){r||(r=!0,h(),n.close(),n=null)}const o=g=>{const T=new Error("probe error: "+g);T.transport=n.name,s(),this.emitReserved("upgradeError",T)};function a(){o("transport closed")}function u(){o("socket closed")}function d(g){n&&g.name!==n.name&&s()}const h=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",u),this.off("upgrading",d)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",u),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let lc=class extends ac{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>nc[i]).filter(i=>!!i)),super(e,r)}};function cc(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Bi(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const uc=typeof ArrayBuffer=="function",fc=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ho=Object.prototype.toString,hc=typeof Blob=="function"||typeof Blob<"u"&&ho.call(Blob)==="[object BlobConstructor]",dc=typeof File=="function"||typeof File<"u"&&ho.call(File)==="[object FileConstructor]";function ls(t){return uc&&(t instanceof ArrayBuffer||fc(t))||hc&&t instanceof Blob||dc&&t instanceof File}function Fr(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Fr(t[n]))return!0;return!1}if(ls(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Fr(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Fr(t[n]))return!0;return!1}function pc(t){const e=[],n=t.data,r=t;return r.data=Gi(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Gi(t,e){if(!t)return t;if(ls(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Gi(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Gi(t[r],e));return n}return t}function gc(t,e){return t.data=Zi(t.data,e),delete t.attachments,t}function Zi(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Zi(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Zi(t[n],e));return t}const mc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_c=5;var te;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(te||(te={}));class vc{constructor(e){this.replacer=e}encode(e){return(e.type===te.EVENT||e.type===te.ACK)&&Fr(e)?this.encodeAsBinary({type:e.type===te.EVENT?te.BINARY_EVENT:te.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===te.BINARY_EVENT||e.type===te.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=pc(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Bs(t){return Object.prototype.toString.call(t)==="[object Object]"}class cs extends be{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===te.BINARY_EVENT;r||n.type===te.BINARY_ACK?(n.type=r?te.EVENT:te.ACK,this.reconstructor=new yc(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ls(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(te[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===te.BINARY_EVENT||r.type===te.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(cs.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case te.CONNECT:return Bs(n);case te.DISCONNECT:return n===void 0;case te.CONNECT_ERROR:return typeof n=="string"||Bs(n);case te.EVENT:case te.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&mc.indexOf(n[0])===-1);case te.ACK:case te.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yc{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=gc(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const bc=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cs,Encoder:vc,get PacketType(){return te},protocol:_c},Symbol.toStringTag,{value:"Module"}));function it(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Ec=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class po extends be{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[it(e,"open",this.onopen.bind(this)),it(e,"packet",this.onpacket.bind(this)),it(e,"error",this.onerror.bind(this)),it(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(Ec.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:te.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,g=n.pop();this._registerAckCallback(h,g),o.id=h}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case te.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case te.EVENT:case te.BINARY_EVENT:this.onevent(e);break;case te.ACK:case te.BINARY_ACK:this.onack(e);break;case te.DISCONNECT:this.ondisconnect();break;case te.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:te.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function An(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}An.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};An.prototype.reset=function(){this.attempts=0};An.prototype.setMin=function(t){this.ms=t};An.prototype.setMax=function(t){this.max=t};An.prototype.setJitter=function(t){this.jitter=t};class qi extends be{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ci(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new An({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||bc;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new lc(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=it(n,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=it(n,"error",s);if(this._timeout!==!1){const a=this._timeout,u=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(it(e,"ping",this.onping.bind(this)),it(e,"data",this.ondata.bind(this)),it(e,"error",this.onerror.bind(this)),it(e,"close",this.onclose.bind(this)),it(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){li(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new po(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Un={};function jr(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=cc(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Un[i]&&s in Un[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return a?u=new qi(r,e):(Un[i]||(Un[i]=new qi(r,e)),u=Un[i]),n.query&&!e.query&&(e.query=n.queryKey),u.socket(n.path,e)}Object.assign(jr,{Manager:qi,Socket:po,io:jr,connect:jr});var wc={VITE_DISCORD_CLIENT_ID:"1289906387039682570",VITE_USER_NODE_ENV:"production",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ct=jr(window.location.host,{transports:["websocket"],path:"/socket",auth:{token:wc.VITE_SOCKET_TOKEN}});var go=!1,zr,mo,_o,vo,Gn;ct.on("connect",()=>{go=!0,console.log("Socket io connected! LOOK AT ME"),_o(!0)});ct.on("connect_error",t=>{console.log(`connect_error due to ${t.message}`),console.log(`description: ${t.description}`),console.log(`context: ${t.context}`),console.log(`stack: ${t.stack}`),Tc()});async function Tc(){for(let t=0;t<10;t++)console.log("WAITING 5 SEC!");await Rc(5e3);for(let t=0;t<10;t++)console.log("SECOND CONNECTION ATEMPT!");ct.connect()}function yo(t){zr=t}function Ac(t){Gn=t}function Sc(t){mo=t}function Nc(t){_o=t}function Ic(t){vo=t}function Oc(){ct.emit("playerDied",{})}async function xc(){Gn("starting up socketIO, socket connected "+go),ct.on("update-players",t=>{Gn("Received player positions: "+t),mo(t)}),ct.on("player-update",t=>{Gn(t.id+": "+t.x+", "+t.y)}),ct.on("on-join-instance",t=>{Gn("ON JOIN INSTANCE"+t+" = "+zr)}),ct.on("playerDied",t=>{vo()}),ct.emit("join-instance",zr)}function kc(t,e,n){ct.emit("player-update",{id:t,x:e,y:n,instanceId:zr})}async function Rc(t){return await new Promise(e=>setTimeout(e,t)),1}function Dc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bo={exports:{}},Eo={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},wo={exports:{}},Lc=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")},Mc=Lc,Pc=Array.prototype.concat,Uc=Array.prototype.slice,Vs=wo.exports=function(e){for(var n=[],r=0,i=e.length;r<i;r++){var s=e[r];Mc(s)?n=Pc.call(n,Uc.call(s)):n.push(s)}return n};Vs.wrap=function(t){return function(){return t(Vs(arguments))}};var Bc=wo.exports,Cn=Eo,cr=Bc,To=Object.hasOwnProperty,Ao=Object.create(null);for(var Ri in Cn)To.call(Cn,Ri)&&(Ao[Cn[Ri]]=Ri);var $e=bo.exports={to:{},get:{}};$e.get=function(t){var e=t.substring(0,3).toLowerCase(),n,r;switch(e){case"hsl":n=$e.get.hsl(t),r="hsl";break;case"hwb":n=$e.get.hwb(t),r="hwb";break;default:n=$e.get.rgb(t),r="rgb";break}return n?{model:r,value:n}:null};$e.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,o=[0,0,0,1],a,u,d;if(a=t.match(n)){for(d=a[2],a=a[1],u=0;u<3;u++){var h=u*2;o[u]=parseInt(a.slice(h,h+2),16)}d&&(o[3]=parseInt(d,16)/255)}else if(a=t.match(e)){for(a=a[1],d=a[3],u=0;u<3;u++)o[u]=parseInt(a[u]+a[u],16);d&&(o[3]=parseInt(d+d,16)/255)}else if(a=t.match(r)){for(u=0;u<3;u++)o[u]=parseInt(a[u+1],0);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(u=0;u<3;u++)o[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(a[5]?o[3]=parseFloat(a[4])*.01:o[3]=parseFloat(a[4]))}else return(a=t.match(s))?a[1]==="transparent"?[0,0,0,0]:To.call(Cn,a[1])?(o=Cn[a[1]],o[3]=1,o):null:null;for(u=0;u<3;u++)o[u]=Ht(o[u],0,255);return o[3]=Ht(o[3],0,1),o};$e.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,s=Ht(parseFloat(n[2]),0,100),o=Ht(parseFloat(n[3]),0,100),a=Ht(isNaN(r)?1:r,0,1);return[i,s,o,a]}return null};$e.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,s=Ht(parseFloat(n[2]),0,100),o=Ht(parseFloat(n[3]),0,100),a=Ht(isNaN(r)?1:r,0,1);return[i,s,o,a]}return null};$e.to.hex=function(){var t=cr(arguments);return"#"+Br(t[0])+Br(t[1])+Br(t[2])+(t[3]<1?Br(Math.round(t[3]*255)):"")};$e.to.rgb=function(){var t=cr(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};$e.to.rgb.percent=function(){var t=cr(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"};$e.to.hsl=function(){var t=cr(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};$e.to.hwb=function(){var t=cr(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};$e.to.keyword=function(t){return Ao[t.slice(0,3)]};function Ht(t,e,n){return Math.min(Math.max(e,t),n)}function Br(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}var Vc=bo.exports;const Kn=Eo,So={};for(const t of Object.keys(Kn))So[Kn[t]]=t;const P={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var No=P;for(const t of Object.keys(P)){if(!("channels"in P[t]))throw new Error("missing channels property: "+t);if(!("labels"in P[t]))throw new Error("missing channel labels property: "+t);if(P[t].labels.length!==P[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=P[t];delete P[t].channels,delete P[t].labels,Object.defineProperty(P[t],"channels",{value:e}),Object.defineProperty(P[t],"labels",{value:n})}P.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=s-i;let a,u;s===i?a=0:e===s?a=(n-r)/o:n===s?a=2+(r-e)/o:r===s&&(a=4+(e-n)/o),a=Math.min(a*60,360),a<0&&(a+=360);const d=(i+s)/2;return s===i?u=0:d<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,d*100]};P.rgb.hsv=function(t){let e,n,r,i,s;const o=t[0]/255,a=t[1]/255,u=t[2]/255,d=Math.max(o,a,u),h=d-Math.min(o,a,u),g=function(T){return(d-T)/6/h+1/2};return h===0?(i=0,s=0):(s=h/d,e=g(o),n=g(a),r=g(u),o===d?i=r-n:a===d?i=1/3+e-r:u===d&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,d*100]};P.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const i=P.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};P.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r),s=(1-e-i)/(1-i)||0,o=(1-n-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function Gc(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}P.rgb.keyword=function(t){const e=So[t];if(e)return e;let n=1/0,r;for(const i of Object.keys(Kn)){const s=Kn[i],o=Gc(t,s);o<n&&(n=o,r=i)}return r};P.keyword.rgb=function(t){return Kn[t]};P.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,o=e*.0193+n*.1192+r*.9505;return[i*100,s*100,o*100]};P.rgb.lab=function(t){const e=P.rgb.xyz(t);let n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*r-16,o=500*(n-r),a=200*(r-i);return[s,o,a]};P.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let i,s,o;if(n===0)return o=r*255,[o,o,o];r<.5?i=r*(1+n):i=r+n-r*n;const a=2*r-i,u=[0,0,0];for(let d=0;d<3;d++)s=e+1/3*-(d-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[d]=o*255;return u};P.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,i=n;const s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;const o=(r+n)/2,a=r===0?2*i/(s+i):2*n/(r+n);return[e,a*100,o*100]};P.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const i=Math.floor(e)%6,s=e-Math.floor(e),o=255*r*(1-n),a=255*r*(1-n*s),u=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,u,o];case 1:return[a,r,o];case 2:return[o,r,u];case 3:return[o,a,r];case 4:return[u,o,r];case 5:return[r,o,a]}};P.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01);let s,o;o=(2-n)*r;const a=(2-n)*i;return s=n*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};P.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const i=n+r;let s;i>1&&(n/=i,r/=i);const o=Math.floor(6*e),a=1-r;s=6*e-o,o&1&&(s=1-s);const u=n+s*(a-n);let d,h,g;switch(o){default:case 6:case 0:d=a,h=u,g=n;break;case 1:d=u,h=a,g=n;break;case 2:d=n,h=a,g=u;break;case 3:d=n,h=u,g=a;break;case 4:d=u,h=n,g=a;break;case 5:d=a,h=n,g=u;break}return[d*255,h*255,g*255]};P.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[s*255,o*255,a*255]};P.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let i,s,o;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,o=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};P.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*n-16,s=500*(e-n),o=200*(n-r);return[i,s,o]};P.lab.xyz=function(t){const e=t[0],n=t[1],r=t[2];let i,s,o;s=(e+16)/116,i=n/500+s,o=s-r/200;const a=s**3,u=i**3,d=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=d>.008856?d:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};P.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(n*n+r*r);return[e,o,i]};P.lch.lab=function(t){const e=t[0],n=t[1],i=t[2]/360*2*Math.PI,s=n*Math.cos(i),o=n*Math.sin(i);return[e,s,o]};P.rgb.ansi16=function(t,e=null){const[n,r,i]=t;let s=e===null?P.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(o+=60),o};P.hsv.ansi16=function(t){return P.rgb.ansi16(P.hsv.rgb(t),t[2])};P.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};P.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};P.ansi256.rgb=function(t){if(t>=232){const s=(t-232)*10+8;return[s,s,s]}t-=16;let e;const n=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[n,r,i]};P.rgb.hex=function(t){const n=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};P.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];e[0].length===3&&(n=n.split("").map(a=>a+a).join(""));const r=parseInt(n,16),i=r>>16&255,s=r>>8&255,o=r&255;return[i,s,o]};P.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),o=i-s;let a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(n-r)/o%6:i===n?u=2+(r-e)/o:u=4+(e-n)/o,u/=6,u%=1,[u*360,o*100,a*100]};P.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};P.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};P.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];const i=[0,0,0],s=e%1*6,o=s%1,a=1-o;let u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-n)*r,[(n*i[0]+u)*255,(n*i[1]+u)*255,(n*i[2]+u)*255]};P.hcg.hsv=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);let i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};P.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};P.hcg.hwb=function(t){const e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};P.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,i=r-e;let s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};P.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};P.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};P.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};P.gray.hsl=function(t){return[0,0,t[0]]};P.gray.hsv=P.gray.hsl;P.gray.hwb=function(t){return[0,100,t[0]]};P.gray.cmyk=function(t){return[0,0,0,t[0]]};P.gray.lab=function(t){return[t[0],0,0]};P.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r};P.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const Yr=No;function Zc(){const t={},e=Object.keys(Yr);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function qc(t){const e=Zc(),n=[t];for(e[t].distance=0;n.length;){const r=n.pop(),i=Object.keys(Yr[r]);for(let s=i.length,o=0;o<s;o++){const a=i[o],u=e[a];u.distance===-1&&(u.distance=e[r].distance+1,u.parent=r,n.unshift(a))}}return e}function Hc(t,e){return function(n){return e(t(n))}}function Cc(t,e){const n=[e[t].parent,t];let r=Yr[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=Hc(Yr[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}var Fc=function(t){const e=qc(t),n={},r=Object.keys(e);for(let i=r.length,s=0;s<i;s++){const o=r[s];e[o].parent!==null&&(n[o]=Cc(o,e))}return n};const Hi=No,jc=Fc,pn={},Kc=Object.keys(Hi);function $c(t){const e=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function zc(t){const e=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const i=t(n);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}Kc.forEach(t=>{pn[t]={},Object.defineProperty(pn[t],"channels",{value:Hi[t].channels}),Object.defineProperty(pn[t],"labels",{value:Hi[t].labels});const e=jc(t);Object.keys(e).forEach(r=>{const i=e[r];pn[t][r]=zc(i),pn[t][r].raw=$c(i)})});var Yc=pn;const gn=Vc,je=Yc,Io=["keyword","gray","hex"],Ci={};for(const t of Object.keys(je))Ci[[...je[t].labels].sort().join("")]=t;const Wr={};function Se(t,e){if(!(this instanceof Se))return new Se(t,e);if(e&&e in Io&&(e=null),e&&!(e in je))throw new Error("Unknown model: "+e);let n,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Se)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const i=gn.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,r=je[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=je[this.model].channels;const i=Array.prototype.slice.call(t,0,r);this.color=Fi(i,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const s=i.sort().join("");if(!(s in Ci))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=Ci[s];const{labels:o}=je[this.model],a=[];for(n=0;n<o.length;n++)a.push(t[o[n]]);this.color=Fi(a)}if(Wr[this.model])for(r=je[this.model].channels,n=0;n<r;n++){const i=Wr[this.model][n];i&&(this.color[n]=i(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Se.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in gn.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const n=e.valpha===1?e.color:[...e.color,this.valpha];return gn.to[e.model](n)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),n=e.valpha===1?e.color:[...e.color,this.valpha];return gn.to.rgb.percent(n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=je[this.model],{labels:n}=je[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Se([...this.color.map(Xc(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new Se([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:me("rgb",0,we(255)),green:me("rgb",1,we(255)),blue:me("rgb",2,we(255)),hue:me(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:me("hsl",1,we(100)),lightness:me("hsl",2,we(100)),saturationv:me("hsv",1,we(100)),value:me("hsv",2,we(100)),chroma:me("hcg",1,we(100)),gray:me("hcg",2,we(100)),white:me("hwb",1,we(100)),wblack:me("hwb",2,we(100)),cyan:me("cmyk",0,we(100)),magenta:me("cmyk",1,we(100)),yellow:me("cmyk",2,we(100)),black:me("cmyk",3,we(100)),x:me("xyz",0,we(95.047)),y:me("xyz",1,we(100)),z:me("xyz",2,we(108.833)),l:me("lab",0,we(100)),a:me("lab",1),b:me("lab",2),keyword(t){return t!==void 0?new Se(t):je[this.model].keyword(this.color)},hex(t){return t!==void 0?new Se(t):gn.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new Se(t);const e=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),gn.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const i=r/255;e[n]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return Se.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),i=e===void 0?.5:e,s=2*i-1,o=n.alpha()-r.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,u=1-a;return Se.rgb(a*n.red()+u*r.red(),a*n.green()+u*r.green(),a*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const t of Object.keys(je)){if(Io.includes(t))continue;const{channels:e}=je[t];Se.prototype[t]=function(...n){return this.model===t?new Se(this):n.length>0?new Se(n,t):new Se([...Jc(je[this.model][t].raw(this.color)),this.valpha],t)},Se[t]=function(...n){let r=n[0];return typeof r=="number"&&(r=Fi(n,e)),new Se(r,t)}}function Wc(t,e){return Number(t.toFixed(e))}function Xc(t){return function(e){return Wc(e,t)}}function me(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(Wr[r]||(Wr[r]=[]))[e]=n;return t=t[0],function(r){let i;return r!==void 0?(n&&(r=n(r)),i=this[t](),i.color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function we(t){return function(e){return Math.max(0,Math.min(t,e))}}function Jc(t){return Array.isArray(t)?t:[t]}function Fi(t,e){for(let n=0;n<e;n++)typeof t[n]!="number"&&(t[n]=0);return t}var Qc=Se;const ji=Dc(Qc);var Gs,Q,Be,Ve,Zn,de,kt,Ki,Zt,Oo,$i,xo,Ct,rn,zi=new Map,Xr,tn=0,Zs=!1,ko=!1,Yi=!1,Wi=0,Fn=[],yn=!1,us=0,Jr=!1,qs=["TANK","CHAIR"],Kr=[],Rt=500,Dt=500;const eu=async t=>{ko=!0,uu(t.id,t.x,t.y)},tu=async t=>{Yi=t},nu=async()=>{rn&&Wi++};Sc(eu);Nc(tu);Ic(nu);async function ru(){Xr=cu(),document.querySelector("#app"),Gs=document.getElementById("tailCanvas"),Q=Gs.getContext("2d"),Ct=Q.createImageData(Rt,Dt);const t=ji.rgb(0,0,0);for(let e=0;e<Rt;e++)for(let n=0;n<Dt;n++)Ro(Ct,e,n,t);rn=!0,Zn=1,Ki=.07,de=0,kt=0,Zt=5,Oo=2,lu(),xo=ji.rgb(255,0,0),Be=100,Ve=200,document.body.style.background="gray",setInterval(ou,1e3/60)}async function iu(t){if(t=="a"||t=="A"?kt=-Ki:(t=="d"||t=="D")&&(kt=Ki),t=="k"||t=="K"){const e=Be+Math.cos(de)*Zt,n=Ve+Math.sin(de)*Zt;for(e<=0?de=Math.PI-de:e>=Dt?de=Math.PI*3-de:(n<=0||n>=Rt)&&(de=-de);Do();)Be+=Math.cos(de)*Zt/2,Ve+=Math.sin(de)*Zt/2;rn=!0}}async function su(t){(t=="a"||t=="A")&&kt<0||(t=="d"||t=="D")&&kt>0?kt=0:(t=="space"||t=="Space"||t=="SPACE"||t==" ")&&(yn&&(Be+=Math.cos(de)*10,Ve+=Math.sin(de)*10),Jr&&(Jr=!1,Kr.push({x:Be,y:Ve,dir:de})))}async function ou(){Q.clearRect(0,0,Rt,Dt),Hs(Ct,Math.floor(Be),Math.floor(Ve),$i,2),Q.putImageData(Ct,0,0),Q.fillStyle="green",Q.fillText("x = "+Be,10,100),Q.fillText("y = "+Ve,10,120),Q.fillText("dir = "+de,10,140),Q.fillText("dirVel = "+kt,10,160),Q.fillText("alive = "+rn,10,180),au(Be,Ve,Zt,$i.hex()),rn&&(Be+=Math.cos(de)*Zn,Ve+=Math.sin(de)*Zn,tn>=60&&Yi&&(tn=0,Zs=!0,kc(Xr,Be,Ve))),de+=kt;var t=Do();Q.fillText("colliding: "+t,10,380),t==!0&&(rn&&(Wi--,Oc()),rn=!1),Q.fillText("wrote: "+Zs,10,400),Q.fillText("others exist: "+zi.size,10,420),Q.fillText("has read: "+ko,10,440),Q.fillText("frame % 60: "+tn,10,460),Q.fillText("connected: "+Yi,10,480),Q.fillText("points: "+Wi,400,20),Fn.forEach(n=>{switch(n.type){case"TANK":{Bn("tankUp.png",2*n.r,2*n.r,n.x,n.y,0);break}case"CHAIR":{Bn("chairUp.png",2*n.r,2*n.r,n.x,n.y,0);break}}});var e=[];Kr.forEach(n=>{n.x+=Zn*3*Math.cos(n.dir),n.y+=Zn*3*Math.sin(n.dir),(n.x<0||n.x>Rt||n.y<0||n.y>Dt)&&e.push(n),Bn("chair.png",30,30,n.x,n.y,n.dir)}),Kr=Kr.filter(n=>!e.includes(n)),zi.forEach((n,r)=>{Hs(Ct,Math.floor(r.x),Math.floor(r.y),xo,2)}),tn+=1,fu(),yn&&(Bn("tank.png",20,20,Be,Ve,de),tn-us>60*15&&(yn=!1)),Jr&&Bn("chair.png",30,30,Be-Math.cos(de)*20,Ve-Math.sin(de)*20,0),tn%120==0&&Math.random()<.3&&Fn.push({x:Math.random()*Rt,y:Math.random()*Dt,r:15,type:qs[Math.floor(Math.random()*qs.length)]})}async function au(t,e,n,r){Q.beginPath(),Q.arc(t,e,n,0,2*Math.PI,!1),Q.fillStyle=r,Q.fill(),Q.lineWidth=Oo,Q.strokeStyle="#ffffff",Q.stroke()}async function Hs(t,e,n,r,i){for(let s=Math.max(e-i,0);s<Math.min(e+i,t.width-1);s++)for(let o=Math.max(n-i,0);o<Math.min(n+i,t.height-1);o++)(e-s)*(e-s)+(n-o)*(n-o)<i*i&&Ro(t,s,o,r)}async function Ro(t,e,n,r){var i=4*(e+n*t.width);t.data[i]=r.red(),t.data[i+1]=r.green(),t.data[i+2]=r.blue(),t.data[i+3]=255}function Di(t,e,n){var r=4*(e+n*t.width);return t.data[r]==0&&t.data[r+1]==0&&t.data[r+2]==0}function Do(){const t=Be+Math.cos(de)*Zt,e=Ve+Math.sin(de)*Zt;return Q.fillText("checkX = "+t,10,200),Q.fillText("checkY = "+e,10,220),Q.fillText("canvasWidth = "+Rt,10,240),Q.fillText("canvasHeight = "+Dt,10,260),Q.fillText("X >= width: "+(t>=Rt),10,280),Q.fillText("Y >= height: "+(e>=Dt),10,300),Q.fillText("X <= 0: "+(t<=0),10,320),Q.fillText("Y <= 0: "+(e<=0),10,340),Q.fillText("colliding with tail: "+!Di(Ct,Math.round(t),Math.round(e)),10,360),yn&&!Di(Ct,Math.round(t),Math.round(e))&&(us-=50),t<=0||t>=Rt||e<=0||e>=Dt||!yn&&!Di(Ct,Math.round(t),Math.round(e))}function lu(){const t=Math.random()*360,e=.8,n=1,r=e*n,i=r*(1-Math.abs(t/60%2-1)),s=n-r;var o,a,u;t<60?(o=r,a=i,u=0):t<120?(o=i,a=r,u=0):t<180?(o=0,a=r,u=i):t<240?(o=0,a=i,u=r):t<300?(o=i,a=0,u=r):(o=r,a=0,u=i),$i=ji.rgb(Math.round((o+s)*255),Math.round((a+s)*255),Math.round((u+s)*255))}function cu(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}async function uu(t,e,n){Xr!=t&&zi.set(Xr,{x:e,y:n})}function fu(){var t=[];Fn.forEach(e=>{if((Be-e.x)*(Be-e.x)+(Ve-e.y)*(Ve-e.y)<e.r*e.r)switch(t.push(e),e.type){case"TANK":{yn=!0,us=tn;break}case"CHAIR":{Jr=!0;break}}}),Fn=Fn.filter(e=>!t.includes(e))}function Bn(t,e,n,r,i,s){let o=new Image(e,n);o.src=t,Q.save(),Q.translate(r,i),Q.rotate(s),Q.drawImage(o,-e/2,-n/2,e,n),Q.restore()}var Vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mo={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,g,T){if(typeof h!="function")throw new TypeError("The listener must be a function");var L=new i(h,g||u,T),W=n?n+d:d;return u._events[W]?u._events[W].fn?u._events[W]=[u._events[W],L]:u._events[W].push(L):(u._events[W]=L,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],h,g;if(this._eventsCount===0)return d;for(g in h=this._events)e.call(h,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},a.prototype.listeners=function(d){var h=n?n+d:d,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var T=0,L=g.length,W=new Array(L);T<L;T++)W[T]=g[T].fn;return W},a.prototype.listenerCount=function(d){var h=n?n+d:d,g=this._events[h];return g?g.fn?1:g.length:0},a.prototype.emit=function(d,h,g,T,L,W){var q=n?n+d:d;if(!this._events[q])return!1;var k=this._events[q],_e=arguments.length,se,ae;if(k.fn){switch(k.once&&this.removeListener(d,k.fn,void 0,!0),_e){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,h),!0;case 3:return k.fn.call(k.context,h,g),!0;case 4:return k.fn.call(k.context,h,g,T),!0;case 5:return k.fn.call(k.context,h,g,T,L),!0;case 6:return k.fn.call(k.context,h,g,T,L,W),!0}for(ae=1,se=new Array(_e-1);ae<_e;ae++)se[ae-1]=arguments[ae];k.fn.apply(k.context,se)}else{var Le=k.length,ye;for(ae=0;ae<Le;ae++)switch(k[ae].once&&this.removeListener(d,k[ae].fn,void 0,!0),_e){case 1:k[ae].fn.call(k[ae].context);break;case 2:k[ae].fn.call(k[ae].context,h);break;case 3:k[ae].fn.call(k[ae].context,h,g);break;case 4:k[ae].fn.call(k[ae].context,h,g,T);break;default:if(!se)for(ye=1,se=new Array(_e-1);ye<_e;ye++)se[ye-1]=arguments[ye];k[ae].fn.apply(k[ae].context,se)}}return!0},a.prototype.on=function(d,h,g){return s(this,d,h,g,!1)},a.prototype.once=function(d,h,g){return s(this,d,h,g,!0)},a.prototype.removeListener=function(d,h,g,T){var L=n?n+d:d;if(!this._events[L])return this;if(!h)return o(this,L),this;var W=this._events[L];if(W.fn)W.fn===h&&(!T||W.once)&&(!g||W.context===g)&&o(this,L);else{for(var q=0,k=[],_e=W.length;q<_e;q++)(W[q].fn!==h||T&&!W[q].once||g&&W[q].context!==g)&&k.push(W[q]);k.length?this._events[L]=k.length===1?k[0]:k:o(this,L)}return this},a.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Mo);var hu=Mo.exports,du=Lo(hu),re;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(re||(re={}));var Xi;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Xi||(Xi={}));const D=re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vt=t=>{switch(typeof t){case"undefined":return D.undefined;case"string":return D.string;case"number":return isNaN(t)?D.nan:D.number;case"boolean":return D.boolean;case"function":return D.function;case"bigint":return D.bigint;case"symbol":return D.symbol;case"object":return Array.isArray(t)?D.array:t===null?D.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?D.promise:typeof Map<"u"&&t instanceof Map?D.map:typeof Set<"u"&&t instanceof Set?D.set:typeof Date<"u"&&t instanceof Date?D.date:D.object;default:return D.unknown}},I=re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),pu=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ze extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(n(o))):a[d]=a[d]||{_errors:[]},a=a[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof ze))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ze.create=t=>new ze(t);const bn=(t,e)=>{let n;switch(t.code){case I.invalid_type:t.received===D.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,re.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:n=`Unrecognized key(s) in object: ${re.joinValues(t.keys,", ")}`;break;case I.invalid_union:n="Invalid input";break;case I.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${re.joinValues(t.options)}`;break;case I.invalid_enum_value:n=`Invalid enum value. Expected ${re.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:n="Invalid function arguments";break;case I.invalid_return_type:n="Invalid function return type";break;case I.invalid_date:n="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:re.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case I.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case I.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case I.custom:n="Invalid input";break;case I.invalid_intersection_types:n="Intersection results could not be merged";break;case I.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case I.not_finite:n="Number must be finite";break;default:n=e.defaultError,re.assertNever(t)}return{message:n}};let Po=bn;function gu(t){Po=t}function Qr(){return Po}const ei=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)a=d(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},mu=[];function R(t,e){const n=Qr(),r=ei({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===bn?void 0:bn].filter(i=>!!i)});t.common.issues.push(r)}class Re{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return j;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Re.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return j;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const j=Object.freeze({status:"aborted"}),_n=t=>({status:"dirty",value:t}),Ge=t=>({status:"valid",value:t}),Ji=t=>t.status==="aborted",Qi=t=>t.status==="dirty",$n=t=>t.status==="valid",zn=t=>typeof Promise<"u"&&t instanceof Promise;function ti(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Uo(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var V;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(V||(V={}));var qn,Hn;class gt{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Cs=(t,e)=>{if($n(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ze(t.common.issues);return this._error=n,this._error}}};function Y(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var u,d;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??a.defaultError}:typeof a.data>"u"?{message:(u=h??r)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(d=h??n)!==null&&d!==void 0?d:a.defaultError}},description:i}}class X{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Vt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Vt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Re,ctx:{common:e.parent.common,data:e.data,parsedType:Vt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(zn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vt(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Cs(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vt(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(zn(i)?i:Promise.resolve(i));return Cs(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:I.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new at({schema:this,typeName:F.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return dt.create(this,this._def)}nullable(){return $t.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ot.create(this,this._def)}promise(){return wn.create(this,this._def)}or(e){return Jn.create([this,e],this._def)}and(e){return Qn.create(this,e,this._def)}transform(e){return new at({...Y(this._def),schema:this,typeName:F.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ir({...Y(this._def),innerType:this,defaultValue:n,typeName:F.ZodDefault})}brand(){return new fs({typeName:F.ZodBranded,type:this,...Y(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new sr({...Y(this._def),innerType:this,catchValue:n,typeName:F.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ur.create(this,e)}readonly(){return or.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _u=/^c[^\s-]{8,}$/i,vu=/^[0-9a-z]+$/,yu=/^[0-9A-HJKMNP-TV-Z]{26}$/,bu=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Eu=/^[a-z0-9_-]{21}$/i,wu=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Tu=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Au="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Li;const Su=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nu=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Iu=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bo="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ou=new RegExp(`^${Bo}$`);function Vo(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function xu(t){return new RegExp(`^${Vo(t)}$`)}function Go(t){let e=`${Bo}T${Vo(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function ku(t,e){return!!((e==="v4"||!e)&&Su.test(t)||(e==="v6"||!e)&&Nu.test(t))}class st extends X{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==D.string){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_type,expected:D.string,received:s.parsedType}),j}const r=new Re;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:I.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:I.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?R(i,{code:I.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&R(i,{code:I.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Tu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"email",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Li||(Li=new RegExp(Au,"u")),Li.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"emoji",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")bu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"uuid",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Eu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"nanoid",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")_u.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"cuid",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")vu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"cuid2",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")yu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"ulid",code:I.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),R(i,{validation:"url",code:I.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"regex",code:I.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Go(s).test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Ou.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?xu(s).test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{code:I.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?wu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"duration",code:I.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?ku(e.data,s.version)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"ip",code:I.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Iu.test(e.data)||(i=this._getOrReturnCtx(e,i),R(i,{validation:"base64",code:I.invalid_string,message:s.message}),r.dirty()):re.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:I.invalid_string,...V.errToObj(r)})}_addCheck(e){return new st({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...V.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...V.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...V.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...V.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...V.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...V.errToObj(n)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new st({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new st({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new st({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}st.create=t=>{var e;return new st({checks:[],typeName:F.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};function Ru(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ft extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==D.number){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_type,expected:D.number,received:s.parsedType}),j}let r;const i=new Re;for(const s of this._def.checks)s.kind==="int"?re.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Ru(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.not_finite,message:s.message}),i.dirty()):re.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,r,i){return new Ft({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(e){return new Ft({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&re.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ft.create=t=>new Ft({checks:[],typeName:F.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class jt extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==D.bigint){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_type,expected:D.bigint,received:s.parsedType}),j}let r;const i=new Re;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):re.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,r,i){return new jt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(e){return new jt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}jt.create=t=>{var e;return new jt({checks:[],typeName:F.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};class Yn extends X{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==D.boolean){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.boolean,received:r.parsedType}),j}return Ge(e.data)}}Yn.create=t=>new Yn({typeName:F.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class an extends X{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==D.date){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_type,expected:D.date,received:s.parsedType}),j}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return R(s,{code:I.invalid_date}),j}const r=new Re;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:I.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),R(i,{code:I.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):re.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new an({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}an.create=t=>new an({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:F.ZodDate,...Y(t)});class ni extends X{_parse(e){if(this._getType(e)!==D.symbol){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.symbol,received:r.parsedType}),j}return Ge(e.data)}}ni.create=t=>new ni({typeName:F.ZodSymbol,...Y(t)});class Wn extends X{_parse(e){if(this._getType(e)!==D.undefined){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.undefined,received:r.parsedType}),j}return Ge(e.data)}}Wn.create=t=>new Wn({typeName:F.ZodUndefined,...Y(t)});class Xn extends X{_parse(e){if(this._getType(e)!==D.null){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.null,received:r.parsedType}),j}return Ge(e.data)}}Xn.create=t=>new Xn({typeName:F.ZodNull,...Y(t)});class En extends X{constructor(){super(...arguments),this._any=!0}_parse(e){return Ge(e.data)}}En.create=t=>new En({typeName:F.ZodAny,...Y(t)});class sn extends X{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ge(e.data)}}sn.create=t=>new sn({typeName:F.ZodUnknown,...Y(t)});class Mt extends X{_parse(e){const n=this._getOrReturnCtx(e);return R(n,{code:I.invalid_type,expected:D.never,received:n.parsedType}),j}}Mt.create=t=>new Mt({typeName:F.ZodNever,...Y(t)});class ri extends X{_parse(e){if(this._getType(e)!==D.undefined){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.void,received:r.parsedType}),j}return Ge(e.data)}}ri.create=t=>new ri({typeName:F.ZodVoid,...Y(t)});class ot extends X{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==D.array)return R(n,{code:I.invalid_type,expected:D.array,received:n.parsedType}),j;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(R(n,{code:o?I.too_big:I.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(R(n,{code:I.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(R(n,{code:I.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new gt(n,o,n.path,a)))).then(o=>Re.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new gt(n,o,n.path,a)));return Re.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new ot({...this._def,minLength:{value:e,message:V.toString(n)}})}max(e,n){return new ot({...this._def,maxLength:{value:e,message:V.toString(n)}})}length(e,n){return new ot({...this._def,exactLength:{value:e,message:V.toString(n)}})}nonempty(e){return this.min(1,e)}}ot.create=(t,e)=>new ot({type:t,minLength:null,maxLength:null,exactLength:null,typeName:F.ZodArray,...Y(e)});function mn(t){if(t instanceof pe){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=dt.create(mn(r))}return new pe({...t._def,shape:()=>e})}else return t instanceof ot?new ot({...t._def,type:mn(t.element)}):t instanceof dt?dt.create(mn(t.unwrap())):t instanceof $t?$t.create(mn(t.unwrap())):t instanceof mt?mt.create(t.items.map(e=>mn(e))):t}class pe extends X{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=re.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==D.object){const d=this._getOrReturnCtx(e);return R(d,{code:I.invalid_type,expected:D.object,received:d.parsedType}),j}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Mt&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||a.push(d);const u=[];for(const d of o){const h=s[d],g=i.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new gt(i,g,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Mt){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of a)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")a.length>0&&(R(i,{code:I.unrecognized_keys,keys:a}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of a){const g=i.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new gt(i,g,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const g=await h.key,T=await h.value;d.push({key:g,value:T,alwaysSet:h.alwaysSet})}return d}).then(d=>Re.mergeObjectSync(r,d)):Re.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new pe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=V.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new pe({...this._def,unknownKeys:"strip"})}passthrough(){return new pe({...this._def,unknownKeys:"passthrough"})}extend(e){return new pe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:F.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new pe({...this._def,catchall:e})}pick(e){const n={};return re.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new pe({...this._def,shape:()=>n})}omit(e){const n={};return re.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new pe({...this._def,shape:()=>n})}deepPartial(){return mn(this)}partial(e){const n={};return re.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new pe({...this._def,shape:()=>n})}required(e){const n={};return re.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof dt;)s=s._def.innerType;n[r]=s}}),new pe({...this._def,shape:()=>n})}keyof(){return Zo(re.objectKeys(this.shape))}}pe.create=(t,e)=>new pe({shape:()=>t,unknownKeys:"strip",catchall:Mt.create(),typeName:F.ZodObject,...Y(e)});pe.strictCreate=(t,e)=>new pe({shape:()=>t,unknownKeys:"strict",catchall:Mt.create(),typeName:F.ZodObject,...Y(e)});pe.lazycreate=(t,e)=>new pe({shape:t,unknownKeys:"strip",catchall:Mt.create(),typeName:F.ZodObject,...Y(e)});class Jn extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new ze(a.ctx.common.issues));return R(n,{code:I.invalid_union,unionErrors:o}),j}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(u=>new ze(u));return R(n,{code:I.invalid_union,unionErrors:a}),j}}get options(){return this._def.options}}Jn.create=(t,e)=>new Jn({options:t,typeName:F.ZodUnion,...Y(e)});const It=t=>t instanceof tr?It(t.schema):t instanceof at?It(t.innerType()):t instanceof nr?[t.value]:t instanceof Kt?t.options:t instanceof rr?re.objectValues(t.enum):t instanceof ir?It(t._def.innerType):t instanceof Wn?[void 0]:t instanceof Xn?[null]:t instanceof dt?[void 0,...It(t.unwrap())]:t instanceof $t?[null,...It(t.unwrap())]:t instanceof fs||t instanceof or?It(t.unwrap()):t instanceof sr?It(t._def.innerType):[];class ui extends X{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==D.object)return R(n,{code:I.invalid_type,expected:D.object,received:n.parsedType}),j;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(R(n,{code:I.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),j)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=It(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new ui({typeName:F.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Y(r)})}}function es(t,e){const n=Vt(t),r=Vt(e);if(t===e)return{valid:!0,data:t};if(n===D.object&&r===D.object){const i=re.objectKeys(e),s=re.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const u=es(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===D.array&&r===D.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],u=es(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===D.date&&r===D.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Qn extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Ji(s)||Ji(o))return j;const a=es(s.value,o.value);return a.valid?((Qi(s)||Qi(o))&&n.dirty(),{status:n.value,value:a.data}):(R(r,{code:I.invalid_intersection_types}),j)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Qn.create=(t,e,n)=>new Qn({left:t,right:e,typeName:F.ZodIntersection,...Y(n)});class mt extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.array)return R(r,{code:I.invalid_type,expected:D.array,received:r.parsedType}),j;if(r.data.length<this._def.items.length)return R(r,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j;!this._def.rest&&r.data.length>this._def.items.length&&(R(r,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new gt(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Re.mergeArray(n,o)):Re.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new mt({...this._def,rest:e})}}mt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mt({items:t,typeName:F.ZodTuple,rest:null,...Y(e)})};class er extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.object)return R(r,{code:I.invalid_type,expected:D.object,received:r.parsedType}),j;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new gt(r,a,r.path,a)),value:o._parse(new gt(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Re.mergeObjectAsync(n,i):Re.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof X?new er({keyType:e,valueType:n,typeName:F.ZodRecord,...Y(r)}):new er({keyType:st.create(),valueType:e,typeName:F.ZodRecord,...Y(n)})}}class ii extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.map)return R(r,{code:I.invalid_type,expected:D.map,received:r.parsedType}),j;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,u],d)=>({key:i._parse(new gt(r,a,r.path,[d,"key"])),value:s._parse(new gt(r,u,r.path,[d,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return j;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(d.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return j;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(d.value,h.value)}return{status:n.value,value:a}}}}ii.create=(t,e,n)=>new ii({valueType:e,keyType:t,typeName:F.ZodMap,...Y(n)});class ln extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.set)return R(r,{code:I.invalid_type,expected:D.set,received:r.parsedType}),j;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(R(r,{code:I.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(R(r,{code:I.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const d=new Set;for(const h of u){if(h.status==="aborted")return j;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const a=[...r.data.values()].map((u,d)=>s._parse(new gt(r,u,r.path,d)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,n){return new ln({...this._def,minSize:{value:e,message:V.toString(n)}})}max(e,n){return new ln({...this._def,maxSize:{value:e,message:V.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ln.create=(t,e)=>new ln({valueType:t,minSize:null,maxSize:null,typeName:F.ZodSet,...Y(e)});class vn extends X{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==D.function)return R(n,{code:I.invalid_type,expected:D.function,received:n.parsedType}),j;function r(a,u){return ei({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qr(),bn].filter(d=>!!d),issueData:{code:I.invalid_arguments,argumentsError:u}})}function i(a,u){return ei({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qr(),bn].filter(d=>!!d),issueData:{code:I.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof wn){const a=this;return Ge(async function(...u){const d=new ze([]),h=await a._def.args.parseAsync(u,s).catch(L=>{throw d.addIssue(r(u,L)),d}),g=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(g,s).catch(L=>{throw d.addIssue(i(g,L)),d})})}else{const a=this;return Ge(function(...u){const d=a._def.args.safeParse(u,s);if(!d.success)throw new ze([r(u,d.error)]);const h=Reflect.apply(o,this,d.data),g=a._def.returns.safeParse(h,s);if(!g.success)throw new ze([i(h,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new vn({...this._def,args:mt.create(e).rest(sn.create())})}returns(e){return new vn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new vn({args:e||mt.create([]).rest(sn.create()),returns:n||sn.create(),typeName:F.ZodFunction,...Y(r)})}}class tr extends X{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}tr.create=(t,e)=>new tr({getter:t,typeName:F.ZodLazy,...Y(e)});class nr extends X{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return R(n,{received:n.data,code:I.invalid_literal,expected:this._def.value}),j}return{status:"valid",value:e.data}}get value(){return this._def.value}}nr.create=(t,e)=>new nr({value:t,typeName:F.ZodLiteral,...Y(e)});function Zo(t,e){return new Kt({values:t,typeName:F.ZodEnum,...Y(e)})}class Kt extends X{constructor(){super(...arguments),qn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return R(n,{expected:re.joinValues(r),received:n.parsedType,code:I.invalid_type}),j}if(ti(this,qn)||Uo(this,qn,new Set(this._def.values)),!ti(this,qn).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return R(n,{received:n.data,code:I.invalid_enum_value,options:r}),j}return Ge(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Kt.create(e,{...this._def,...n})}exclude(e,n=this._def){return Kt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}qn=new WeakMap;Kt.create=Zo;class rr extends X{constructor(){super(...arguments),Hn.set(this,void 0)}_parse(e){const n=re.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==D.string&&r.parsedType!==D.number){const i=re.objectValues(n);return R(r,{expected:re.joinValues(i),received:r.parsedType,code:I.invalid_type}),j}if(ti(this,Hn)||Uo(this,Hn,new Set(re.getValidEnumValues(this._def.values))),!ti(this,Hn).has(e.data)){const i=re.objectValues(n);return R(r,{received:r.data,code:I.invalid_enum_value,options:i}),j}return Ge(e.data)}get enum(){return this._def.values}}Hn=new WeakMap;rr.create=(t,e)=>new rr({values:t,typeName:F.ZodNativeEnum,...Y(e)});class wn extends X{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==D.promise&&n.common.async===!1)return R(n,{code:I.invalid_type,expected:D.promise,received:n.parsedType}),j;const r=n.parsedType===D.promise?n.data:Promise.resolve(n.data);return Ge(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wn.create=(t,e)=>new wn({type:t,typeName:F.ZodPromise,...Y(e)});class at extends X{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===F.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{R(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return j;const u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?j:u.status==="dirty"||n.value==="dirty"?_n(u.value):u});{if(n.value==="aborted")return j;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?j:a.status==="dirty"||n.value==="dirty"?_n(a.value):a}}if(i.type==="refinement"){const o=a=>{const u=i.refinement(a,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?j:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?j:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$n(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>$n(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);re.assertNever(i)}}at.create=(t,e,n)=>new at({schema:t,typeName:F.ZodEffects,effect:e,...Y(n)});at.createWithPreprocess=(t,e,n)=>new at({schema:e,effect:{type:"preprocess",transform:t},typeName:F.ZodEffects,...Y(n)});class dt extends X{_parse(e){return this._getType(e)===D.undefined?Ge(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dt.create=(t,e)=>new dt({innerType:t,typeName:F.ZodOptional,...Y(e)});class $t extends X{_parse(e){return this._getType(e)===D.null?Ge(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$t.create=(t,e)=>new $t({innerType:t,typeName:F.ZodNullable,...Y(e)});class ir extends X{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===D.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ir.create=(t,e)=>new ir({innerType:t,typeName:F.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Y(e)});class sr extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return zn(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ze(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ze(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}sr.create=(t,e)=>new sr({innerType:t,typeName:F.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Y(e)});class si extends X{_parse(e){if(this._getType(e)!==D.nan){const r=this._getOrReturnCtx(e);return R(r,{code:I.invalid_type,expected:D.nan,received:r.parsedType}),j}return{status:"valid",value:e.data}}}si.create=t=>new si({typeName:F.ZodNaN,...Y(t)});const Du=Symbol("zod_brand");class fs extends X{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ur extends X{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?j:s.status==="dirty"?(n.dirty(),_n(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?j:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new ur({in:e,out:n,typeName:F.ZodPipeline})}}class or extends X{_parse(e){const n=this._def.innerType._parse(e),r=i=>($n(i)&&(i.value=Object.freeze(i.value)),i);return zn(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}or.create=(t,e)=>new or({innerType:t,typeName:F.ZodReadonly,...Y(e)});function hs(t,e={},n){return t?En.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,d=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...d,fatal:u})}}):En.create()}const Lu={object:pe.lazycreate};var F;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(F||(F={}));const Mu=(t,e={message:`Input not instance of ${t.name}`})=>hs(n=>n instanceof t,e),_=st.create,G=Ft.create,Pu=si.create,qo=jt.create,K=Yn.create,Uu=an.create,Bu=ni.create,Vu=Wn.create,ds=Xn.create,Gu=En.create,ar=sn.create,Zu=Mt.create,qu=ri.create,ne=ot.create,x=pe.create,Hu=pe.strictCreate,ps=Jn.create,Cu=ui.create,Fu=Qn.create,ju=mt.create,Ku=er.create,$u=ii.create,zu=ln.create,Yu=vn.create,Wu=tr.create,Te=nr.create,Xu=Kt.create,Sn=rr.create,Ju=wn.create,Fs=at.create,Ho=dt.create,Qu=$t.create,Co=at.createWithPreprocess,ef=ur.create,tf=()=>_().optional(),nf=()=>G().optional(),rf=()=>K().optional(),sf={string:t=>st.create({...t,coerce:!0}),number:t=>Ft.create({...t,coerce:!0}),boolean:t=>Yn.create({...t,coerce:!0}),bigint:t=>jt.create({...t,coerce:!0}),date:t=>an.create({...t,coerce:!0})},of=j;var U=Object.freeze({__proto__:null,defaultErrorMap:bn,setErrorMap:gu,getErrorMap:Qr,makeIssue:ei,EMPTY_PATH:mu,addIssueToContext:R,ParseStatus:Re,INVALID:j,DIRTY:_n,OK:Ge,isAborted:Ji,isDirty:Qi,isValid:$n,isAsync:zn,get util(){return re},get objectUtil(){return Xi},ZodParsedType:D,getParsedType:Vt,ZodType:X,datetimeRegex:Go,ZodString:st,ZodNumber:Ft,ZodBigInt:jt,ZodBoolean:Yn,ZodDate:an,ZodSymbol:ni,ZodUndefined:Wn,ZodNull:Xn,ZodAny:En,ZodUnknown:sn,ZodNever:Mt,ZodVoid:ri,ZodArray:ot,ZodObject:pe,ZodUnion:Jn,ZodDiscriminatedUnion:ui,ZodIntersection:Qn,ZodTuple:mt,ZodRecord:er,ZodMap:ii,ZodSet:ln,ZodFunction:vn,ZodLazy:tr,ZodLiteral:nr,ZodEnum:Kt,ZodNativeEnum:rr,ZodPromise:wn,ZodEffects:at,ZodTransformer:at,ZodOptional:dt,ZodNullable:$t,ZodDefault:ir,ZodCatch:sr,ZodNaN:si,BRAND:Du,ZodBranded:fs,ZodPipeline:ur,ZodReadonly:or,custom:hs,Schema:X,ZodSchema:X,late:Lu,get ZodFirstPartyTypeKind(){return F},coerce:sf,any:Gu,array:ne,bigint:qo,boolean:K,date:Uu,discriminatedUnion:Cu,effect:Fs,enum:Xu,function:Yu,instanceof:Mu,intersection:Fu,lazy:Wu,literal:Te,map:$u,nan:Pu,nativeEnum:Sn,never:Zu,null:ds,nullable:Qu,number:G,object:x,oboolean:rf,onumber:nf,optional:Ho,ostring:tf,pipeline:ef,preprocess:Co,promise:Ju,record:Ku,set:zu,strictObject:Hu,string:_,symbol:Bu,transformer:Fs,tuple:ju,undefined:Vu,union:ps,unknown:ar,void:qu,NEVER:of,ZodIssueCode:I,quotelessJson:pu,ZodError:ze}),Fo={exports:{}};(function(t){var e=function(n){var r=1e7,i=7,s=9007199254740992,o=W(s),a="0123456789abcdefghijklmnopqrstuvwxyz",u=typeof BigInt=="function";function d(l,f,m,y){return typeof l>"u"?d[0]:typeof f<"u"?+f==10&&!m?C(l):Er(l,f,m,y):C(l)}function h(l,f){this.value=l,this.sign=f,this.isSmall=!1}h.prototype=Object.create(d.prototype);function g(l){this.value=l,this.sign=l<0,this.isSmall=!0}g.prototype=Object.create(d.prototype);function T(l){this.value=l}T.prototype=Object.create(d.prototype);function L(l){return-s<l&&l<s}function W(l){return l<1e7?[l]:l<1e14?[l%1e7,Math.floor(l/1e7)]:[l%1e7,Math.floor(l/1e7)%1e7,Math.floor(l/1e14)]}function q(l){k(l);var f=l.length;if(f<4&&yt(l,o)<0)switch(f){case 0:return 0;case 1:return l[0];case 2:return l[0]+l[1]*r;default:return l[0]+(l[1]+l[2]*r)*r}return l}function k(l){for(var f=l.length;l[--f]===0;);l.length=f+1}function _e(l){for(var f=new Array(l),m=-1;++m<l;)f[m]=0;return f}function se(l){return l>0?Math.floor(l):Math.ceil(l)}function ae(l,f){var m=l.length,y=f.length,E=new Array(m),b=0,A=r,S,N;for(N=0;N<y;N++)S=l[N]+f[N]+b,b=S>=A?1:0,E[N]=S-b*A;for(;N<m;)S=l[N]+b,b=S===A?1:0,E[N++]=S-b*A;return b>0&&E.push(b),E}function Le(l,f){return l.length>=f.length?ae(l,f):ae(f,l)}function ye(l,f){var m=l.length,y=new Array(m),E=r,b,A;for(A=0;A<m;A++)b=l[A]-E+f,f=Math.floor(b/E),y[A]=b-f*E,f+=1;for(;f>0;)y[A++]=f%E,f=Math.floor(f/E);return y}h.prototype.add=function(l){var f=C(l);if(this.sign!==f.sign)return this.subtract(f.negate());var m=this.value,y=f.value;return f.isSmall?new h(ye(m,Math.abs(y)),this.sign):new h(Le(m,y),this.sign)},h.prototype.plus=h.prototype.add,g.prototype.add=function(l){var f=C(l),m=this.value;if(m<0!==f.sign)return this.subtract(f.negate());var y=f.value;if(f.isSmall){if(L(m+y))return new g(m+y);y=W(Math.abs(y))}return new h(ye(y,Math.abs(m)),m<0)},g.prototype.plus=g.prototype.add,T.prototype.add=function(l){return new T(this.value+C(l).value)},T.prototype.plus=T.prototype.add;function Ye(l,f){var m=l.length,y=f.length,E=new Array(m),b=0,A=r,S,N;for(S=0;S<y;S++)N=l[S]-b-f[S],N<0?(N+=A,b=1):b=0,E[S]=N;for(S=y;S<m;S++){if(N=l[S]-b,N<0)N+=A;else{E[S++]=N;break}E[S]=N}for(;S<m;S++)E[S]=l[S];return k(E),E}function Oe(l,f,m){var y;return yt(l,f)>=0?y=Ye(l,f):(y=Ye(f,l),m=!m),y=q(y),typeof y=="number"?(m&&(y=-y),new g(y)):new h(y,m)}function Ce(l,f,m){var y=l.length,E=new Array(y),b=-f,A=r,S,N;for(S=0;S<y;S++)N=l[S]+b,b=Math.floor(N/A),N%=A,E[S]=N<0?N+A:N;return E=q(E),typeof E=="number"?(m&&(E=-E),new g(E)):new h(E,m)}h.prototype.subtract=function(l){var f=C(l);if(this.sign!==f.sign)return this.add(f.negate());var m=this.value,y=f.value;return f.isSmall?Ce(m,Math.abs(y),this.sign):Oe(m,y,this.sign)},h.prototype.minus=h.prototype.subtract,g.prototype.subtract=function(l){var f=C(l),m=this.value;if(m<0!==f.sign)return this.add(f.negate());var y=f.value;return f.isSmall?new g(m-y):Ce(y,Math.abs(m),m>=0)},g.prototype.minus=g.prototype.subtract,T.prototype.subtract=function(l){return new T(this.value-C(l).value)},T.prototype.minus=T.prototype.subtract,h.prototype.negate=function(){return new h(this.value,!this.sign)},g.prototype.negate=function(){var l=this.sign,f=new g(-this.value);return f.sign=!l,f},T.prototype.negate=function(){return new T(-this.value)},h.prototype.abs=function(){return new h(this.value,!1)},g.prototype.abs=function(){return new g(Math.abs(this.value))},T.prototype.abs=function(){return new T(this.value>=0?this.value:-this.value)};function tt(l,f){var m=l.length,y=f.length,E=m+y,b=_e(E),A=r,S,N,H,ee,$;for(H=0;H<m;++H){ee=l[H];for(var ie=0;ie<y;++ie)$=f[ie],S=ee*$+b[H+ie],N=Math.floor(S/A),b[H+ie]=S-N*A,b[H+ie+1]+=N}return k(b),b}function We(l,f){var m=l.length,y=new Array(m),E=r,b=0,A,S;for(S=0;S<m;S++)A=l[S]*f+b,b=Math.floor(A/E),y[S]=A-b*E;for(;b>0;)y[S++]=b%E,b=Math.floor(b/E);return y}function Me(l,f){for(var m=[];f-- >0;)m.push(0);return m.concat(l)}function ce(l,f){var m=Math.max(l.length,f.length);if(m<=30)return tt(l,f);m=Math.ceil(m/2);var y=l.slice(m),E=l.slice(0,m),b=f.slice(m),A=f.slice(0,m),S=ce(E,A),N=ce(y,b),H=ce(Le(E,y),Le(A,b)),ee=Le(Le(S,Me(Ye(Ye(H,S),N),m)),Me(N,2*m));return k(ee),ee}function di(l,f){return-.012*l-.012*f+15e-6*l*f>0}h.prototype.multiply=function(l){var f=C(l),m=this.value,y=f.value,E=this.sign!==f.sign,b;if(f.isSmall){if(y===0)return d[0];if(y===1)return this;if(y===-1)return this.negate();if(b=Math.abs(y),b<r)return new h(We(m,b),E);y=W(b)}return di(m.length,y.length)?new h(ce(m,y),E):new h(tt(m,y),E)},h.prototype.times=h.prototype.multiply;function hr(l,f,m){return l<r?new h(We(f,l),m):new h(tt(f,W(l)),m)}g.prototype._multiplyBySmall=function(l){return L(l.value*this.value)?new g(l.value*this.value):hr(Math.abs(l.value),W(Math.abs(this.value)),this.sign!==l.sign)},h.prototype._multiplyBySmall=function(l){return l.value===0?d[0]:l.value===1?this:l.value===-1?this.negate():hr(Math.abs(l.value),this.value,this.sign!==l.sign)},g.prototype.multiply=function(l){return C(l)._multiplyBySmall(this)},g.prototype.times=g.prototype.multiply,T.prototype.multiply=function(l){return new T(this.value*C(l).value)},T.prototype.times=T.prototype.multiply;function dr(l){var f=l.length,m=_e(f+f),y=r,E,b,A,S,N;for(A=0;A<f;A++){S=l[A],b=0-S*S;for(var H=A;H<f;H++)N=l[H],E=2*(S*N)+m[A+H]+b,b=Math.floor(E/y),m[A+H]=E-b*y;m[A+f]=b}return k(m),m}h.prototype.square=function(){return new h(dr(this.value),!1)},g.prototype.square=function(){var l=this.value*this.value;return L(l)?new g(l):new h(dr(W(Math.abs(this.value))),!1)},T.prototype.square=function(l){return new T(this.value*this.value)};function pi(l,f){var m=l.length,y=f.length,E=r,b=_e(f.length),A=f[y-1],S=Math.ceil(E/(2*A)),N=We(l,S),H=We(f,S),ee,$,ie,Pe,xe,Dn,Ln;for(N.length<=m&&N.push(0),H.push(0),A=H[y-1],$=m-y;$>=0;$--){for(ee=E-1,N[$+y]!==A&&(ee=Math.floor((N[$+y]*E+N[$+y-1])/A)),ie=0,Pe=0,Dn=H.length,xe=0;xe<Dn;xe++)ie+=ee*H[xe],Ln=Math.floor(ie/E),Pe+=N[$+xe]-(ie-Ln*E),ie=Ln,Pe<0?(N[$+xe]=Pe+E,Pe=-1):(N[$+xe]=Pe,Pe=0);for(;Pe!==0;){for(ee-=1,ie=0,xe=0;xe<Dn;xe++)ie+=N[$+xe]-E+H[xe],ie<0?(N[$+xe]=ie+E,ie=0):(N[$+xe]=ie,ie=1);Pe+=ie}b[$]=ee}return N=pr(N,S)[0],[q(b),q(N)]}function gi(l,f){for(var m=l.length,y=f.length,E=[],b=[],A=r,S,N,H,ee,$;m;){if(b.unshift(l[--m]),k(b),yt(b,f)<0){E.push(0);continue}N=b.length,H=b[N-1]*A+b[N-2],ee=f[y-1]*A+f[y-2],N>y&&(H=(H+1)*A),S=Math.ceil(H/ee);do{if($=We(f,S),yt($,b)<=0)break;S--}while(S);E.push(S),b=Ye(b,$)}return E.reverse(),[q(E),q(b)]}function pr(l,f){var m=l.length,y=_e(m),E=r,b,A,S,N;for(S=0,b=m-1;b>=0;--b)N=S*E+l[b],A=se(N/f),S=N-A*f,y[b]=A|0;return[y,S|0]}function vt(l,f){var m,y=C(f);if(u)return[new T(l.value/y.value),new T(l.value%y.value)];var E=l.value,b=y.value,A;if(b===0)throw new Error("Cannot divide by zero");if(l.isSmall)return y.isSmall?[new g(se(E/b)),new g(E%b)]:[d[0],l];if(y.isSmall){if(b===1)return[l,d[0]];if(b==-1)return[l.negate(),d[0]];var S=Math.abs(b);if(S<r){m=pr(E,S),A=q(m[0]);var N=m[1];return l.sign&&(N=-N),typeof A=="number"?(l.sign!==y.sign&&(A=-A),[new g(A),new g(N)]):[new h(A,l.sign!==y.sign),new g(N)]}b=W(S)}var H=yt(E,b);if(H===-1)return[d[0],l];if(H===0)return[d[l.sign===y.sign?1:-1],d[0]];E.length+b.length<=200?m=pi(E,b):m=gi(E,b),A=m[0];var ee=l.sign!==y.sign,$=m[1],ie=l.sign;return typeof A=="number"?(ee&&(A=-A),A=new g(A)):A=new h(A,ee),typeof $=="number"?(ie&&($=-$),$=new g($)):$=new h($,ie),[A,$]}h.prototype.divmod=function(l){var f=vt(this,l);return{quotient:f[0],remainder:f[1]}},T.prototype.divmod=g.prototype.divmod=h.prototype.divmod,h.prototype.divide=function(l){return vt(this,l)[0]},T.prototype.over=T.prototype.divide=function(l){return new T(this.value/C(l).value)},g.prototype.over=g.prototype.divide=h.prototype.over=h.prototype.divide,h.prototype.mod=function(l){return vt(this,l)[1]},T.prototype.mod=T.prototype.remainder=function(l){return new T(this.value%C(l).value)},g.prototype.remainder=g.prototype.mod=h.prototype.remainder=h.prototype.mod,h.prototype.pow=function(l){var f=C(l),m=this.value,y=f.value,E,b,A;if(y===0)return d[1];if(m===0)return d[0];if(m===1)return d[1];if(m===-1)return f.isEven()?d[1]:d[-1];if(f.sign)return d[0];if(!f.isSmall)throw new Error("The exponent "+f.toString()+" is too large.");if(this.isSmall&&L(E=Math.pow(m,y)))return new g(se(E));for(b=this,A=d[1];y&!0&&(A=A.times(b),--y),y!==0;)y/=2,b=b.square();return A},g.prototype.pow=h.prototype.pow,T.prototype.pow=function(l){var f=C(l),m=this.value,y=f.value,E=BigInt(0),b=BigInt(1),A=BigInt(2);if(y===E)return d[1];if(m===E)return d[0];if(m===b)return d[1];if(m===BigInt(-1))return f.isEven()?d[1]:d[-1];if(f.isNegative())return new T(E);for(var S=this,N=d[1];(y&b)===b&&(N=N.times(S),--y),y!==E;)y/=A,S=S.square();return N},h.prototype.modPow=function(l,f){if(l=C(l),f=C(f),f.isZero())throw new Error("Cannot take modPow with modulus 0");var m=d[1],y=this.mod(f);for(l.isNegative()&&(l=l.multiply(d[-1]),y=y.modInv(f));l.isPositive();){if(y.isZero())return d[0];l.isOdd()&&(m=m.multiply(y).mod(f)),l=l.divide(2),y=y.square().mod(f)}return m},T.prototype.modPow=g.prototype.modPow=h.prototype.modPow;function yt(l,f){if(l.length!==f.length)return l.length>f.length?1:-1;for(var m=l.length-1;m>=0;m--)if(l[m]!==f[m])return l[m]>f[m]?1:-1;return 0}h.prototype.compareAbs=function(l){var f=C(l),m=this.value,y=f.value;return f.isSmall?1:yt(m,y)},g.prototype.compareAbs=function(l){var f=C(l),m=Math.abs(this.value),y=f.value;return f.isSmall?(y=Math.abs(y),m===y?0:m>y?1:-1):-1},T.prototype.compareAbs=function(l){var f=this.value,m=C(l).value;return f=f>=0?f:-f,m=m>=0?m:-m,f===m?0:f>m?1:-1},h.prototype.compare=function(l){if(l===1/0)return-1;if(l===-1/0)return 1;var f=C(l),m=this.value,y=f.value;return this.sign!==f.sign?f.sign?1:-1:f.isSmall?this.sign?-1:1:yt(m,y)*(this.sign?-1:1)},h.prototype.compareTo=h.prototype.compare,g.prototype.compare=function(l){if(l===1/0)return-1;if(l===-1/0)return 1;var f=C(l),m=this.value,y=f.value;return f.isSmall?m==y?0:m>y?1:-1:m<0!==f.sign?m<0?-1:1:m<0?1:-1},g.prototype.compareTo=g.prototype.compare,T.prototype.compare=function(l){if(l===1/0)return-1;if(l===-1/0)return 1;var f=this.value,m=C(l).value;return f===m?0:f>m?1:-1},T.prototype.compareTo=T.prototype.compare,h.prototype.equals=function(l){return this.compare(l)===0},T.prototype.eq=T.prototype.equals=g.prototype.eq=g.prototype.equals=h.prototype.eq=h.prototype.equals,h.prototype.notEquals=function(l){return this.compare(l)!==0},T.prototype.neq=T.prototype.notEquals=g.prototype.neq=g.prototype.notEquals=h.prototype.neq=h.prototype.notEquals,h.prototype.greater=function(l){return this.compare(l)>0},T.prototype.gt=T.prototype.greater=g.prototype.gt=g.prototype.greater=h.prototype.gt=h.prototype.greater,h.prototype.lesser=function(l){return this.compare(l)<0},T.prototype.lt=T.prototype.lesser=g.prototype.lt=g.prototype.lesser=h.prototype.lt=h.prototype.lesser,h.prototype.greaterOrEquals=function(l){return this.compare(l)>=0},T.prototype.geq=T.prototype.greaterOrEquals=g.prototype.geq=g.prototype.greaterOrEquals=h.prototype.geq=h.prototype.greaterOrEquals,h.prototype.lesserOrEquals=function(l){return this.compare(l)<=0},T.prototype.leq=T.prototype.lesserOrEquals=g.prototype.leq=g.prototype.lesserOrEquals=h.prototype.leq=h.prototype.lesserOrEquals,h.prototype.isEven=function(){return(this.value[0]&1)===0},g.prototype.isEven=function(){return(this.value&1)===0},T.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},h.prototype.isOdd=function(){return(this.value[0]&1)===1},g.prototype.isOdd=function(){return(this.value&1)===1},T.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},h.prototype.isPositive=function(){return!this.sign},g.prototype.isPositive=function(){return this.value>0},T.prototype.isPositive=g.prototype.isPositive,h.prototype.isNegative=function(){return this.sign},g.prototype.isNegative=function(){return this.value<0},T.prototype.isNegative=g.prototype.isNegative,h.prototype.isUnit=function(){return!1},g.prototype.isUnit=function(){return Math.abs(this.value)===1},T.prototype.isUnit=function(){return this.abs().value===BigInt(1)},h.prototype.isZero=function(){return!1},g.prototype.isZero=function(){return this.value===0},T.prototype.isZero=function(){return this.value===BigInt(0)},h.prototype.isDivisibleBy=function(l){var f=C(l);return f.isZero()?!1:f.isUnit()?!0:f.compareAbs(2)===0?this.isEven():this.mod(f).isZero()},T.prototype.isDivisibleBy=g.prototype.isDivisibleBy=h.prototype.isDivisibleBy;function gr(l){var f=l.abs();if(f.isUnit())return!1;if(f.equals(2)||f.equals(3)||f.equals(5))return!0;if(f.isEven()||f.isDivisibleBy(3)||f.isDivisibleBy(5))return!1;if(f.lesser(49))return!0}function xn(l,f){for(var m=l.prev(),y=m,E=0,b,A,S;y.isEven();)y=y.divide(2),E++;e:for(A=0;A<f.length;A++)if(!l.lesser(f[A])&&(S=e(f[A]).modPow(y,l),!(S.isUnit()||S.equals(m)))){for(b=E-1;b!=0;b--){if(S=S.square().mod(l),S.isUnit())return!1;if(S.equals(m))continue e}return!1}return!0}h.prototype.isPrime=function(l){var f=gr(this);if(f!==n)return f;var m=this.abs(),y=m.bitLength();if(y<=64)return xn(m,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var E=Math.log(2)*y.toJSNumber(),b=Math.ceil(l===!0?2*Math.pow(E,2):E),A=[],S=0;S<b;S++)A.push(e(S+2));return xn(m,A)},T.prototype.isPrime=g.prototype.isPrime=h.prototype.isPrime,h.prototype.isProbablePrime=function(l,f){var m=gr(this);if(m!==n)return m;for(var y=this.abs(),E=l===n?5:l,b=[],A=0;A<E;A++)b.push(e.randBetween(2,y.minus(2),f));return xn(y,b)},T.prototype.isProbablePrime=g.prototype.isProbablePrime=h.prototype.isProbablePrime,h.prototype.modInv=function(l){for(var f=e.zero,m=e.one,y=C(l),E=this.abs(),b,A,S;!E.isZero();)b=y.divide(E),A=f,S=y,f=m,y=E,m=A.subtract(b.multiply(m)),E=S.subtract(b.multiply(E));if(!y.isUnit())throw new Error(this.toString()+" and "+l.toString()+" are not co-prime");return f.compare(0)===-1&&(f=f.add(l)),this.isNegative()?f.negate():f},T.prototype.modInv=g.prototype.modInv=h.prototype.modInv,h.prototype.next=function(){var l=this.value;return this.sign?Ce(l,1,this.sign):new h(ye(l,1),this.sign)},g.prototype.next=function(){var l=this.value;return l+1<s?new g(l+1):new h(o,!1)},T.prototype.next=function(){return new T(this.value+BigInt(1))},h.prototype.prev=function(){var l=this.value;return this.sign?new h(ye(l,1),!0):Ce(l,1,this.sign)},g.prototype.prev=function(){var l=this.value;return l-1>-s?new g(l-1):new h(o,!0)},T.prototype.prev=function(){return new T(this.value-BigInt(1))};for(var nt=[1];2*nt[nt.length-1]<=r;)nt.push(2*nt[nt.length-1]);var Wt=nt.length,bt=nt[Wt-1];function mr(l){return Math.abs(l)<=r}h.prototype.shiftLeft=function(l){var f=C(l).toJSNumber();if(!mr(f))throw new Error(String(f)+" is too large for shifting.");if(f<0)return this.shiftRight(-f);var m=this;if(m.isZero())return m;for(;f>=Wt;)m=m.multiply(bt),f-=Wt-1;return m.multiply(nt[f])},T.prototype.shiftLeft=g.prototype.shiftLeft=h.prototype.shiftLeft,h.prototype.shiftRight=function(l){var f,m=C(l).toJSNumber();if(!mr(m))throw new Error(String(m)+" is too large for shifting.");if(m<0)return this.shiftLeft(-m);for(var y=this;m>=Wt;){if(y.isZero()||y.isNegative()&&y.isUnit())return y;f=vt(y,bt),y=f[1].isNegative()?f[0].prev():f[0],m-=Wt-1}return f=vt(y,nt[m]),f[1].isNegative()?f[0].prev():f[0]},T.prototype.shiftRight=g.prototype.shiftRight=h.prototype.shiftRight;function kn(l,f,m){f=C(f);for(var y=l.isNegative(),E=f.isNegative(),b=y?l.not():l,A=E?f.not():f,S=0,N=0,H=null,ee=null,$=[];!b.isZero()||!A.isZero();)H=vt(b,bt),S=H[1].toJSNumber(),y&&(S=bt-1-S),ee=vt(A,bt),N=ee[1].toJSNumber(),E&&(N=bt-1-N),b=H[0],A=ee[0],$.push(m(S,N));for(var ie=m(y?1:0,E?1:0)!==0?e(-1):e(0),Pe=$.length-1;Pe>=0;Pe-=1)ie=ie.multiply(bt).add(e($[Pe]));return ie}h.prototype.not=function(){return this.negate().prev()},T.prototype.not=g.prototype.not=h.prototype.not,h.prototype.and=function(l){return kn(this,l,function(f,m){return f&m})},T.prototype.and=g.prototype.and=h.prototype.and,h.prototype.or=function(l){return kn(this,l,function(f,m){return f|m})},T.prototype.or=g.prototype.or=h.prototype.or,h.prototype.xor=function(l){return kn(this,l,function(f,m){return f^m})},T.prototype.xor=g.prototype.xor=h.prototype.xor;var le=1<<30,_r=(r&-r)*(r&-r)|le;function un(l){var f=l.value,m=typeof f=="number"?f|le:typeof f=="bigint"?f|BigInt(le):f[0]+f[1]*r|_r;return m&-m}function rt(l,f){if(f.compareTo(l)<=0){var m=rt(l,f.square(f)),y=m.p,E=m.e,b=y.multiply(f);return b.compareTo(l)<=0?{p:b,e:E*2+1}:{p:y,e:E*2}}return{p:e(1),e:0}}h.prototype.bitLength=function(){var l=this;return l.compareTo(e(0))<0&&(l=l.negate().subtract(e(1))),l.compareTo(e(0))===0?e(0):e(rt(l,e(2)).e).add(e(1))},T.prototype.bitLength=g.prototype.bitLength=h.prototype.bitLength;function Rn(l,f){return l=C(l),f=C(f),l.greater(f)?l:f}function fn(l,f){return l=C(l),f=C(f),l.lesser(f)?l:f}function vr(l,f){if(l=C(l).abs(),f=C(f).abs(),l.equals(f))return l;if(l.isZero())return f;if(f.isZero())return l;for(var m=d[1],y,E;l.isEven()&&f.isEven();)y=fn(un(l),un(f)),l=l.divide(y),f=f.divide(y),m=m.multiply(y);for(;l.isEven();)l=l.divide(un(l));do{for(;f.isEven();)f=f.divide(un(f));l.greater(f)&&(E=f,f=l,l=E),f=f.subtract(l)}while(!f.isZero());return m.isUnit()?l:l.multiply(m)}function yr(l,f){return l=C(l).abs(),f=C(f).abs(),l.divide(vr(l,f)).multiply(f)}function br(l,f,m){l=C(l),f=C(f);var y=m||Math.random,E=fn(l,f),b=Rn(l,f),A=b.subtract(E).add(1);if(A.isSmall)return E.add(Math.floor(y()*A));for(var S=Xt(A,r).value,N=[],H=!0,ee=0;ee<S.length;ee++){var $=H?S[ee]+(ee+1<S.length?S[ee+1]/r:0):r,ie=se(y()*$);N.push(ie),ie<S[ee]&&(H=!1)}return E.add(d.fromArray(N,r,!1))}var Er=function(l,f,m,y){m=m||a,l=String(l),y||(l=l.toLowerCase(),m=m.toLowerCase());var E=l.length,b,A=Math.abs(f),S={};for(b=0;b<m.length;b++)S[m[b]]=b;for(b=0;b<E;b++){var N=l[b];if(N!=="-"&&N in S&&S[N]>=A){if(N==="1"&&A===1)continue;throw new Error(N+" is not a valid digit in base "+f+".")}}f=C(f);var H=[],ee=l[0]==="-";for(b=ee?1:0;b<l.length;b++){var N=l[b];if(N in S)H.push(C(S[N]));else if(N==="<"){var $=b;do b++;while(l[b]!==">"&&b<l.length);H.push(C(l.slice($+1,b)))}else throw new Error(N+" is not a valid character")}return wr(H,f,ee)};function wr(l,f,m){var y=d[0],E=d[1],b;for(b=l.length-1;b>=0;b--)y=y.add(l[b].times(E)),E=E.times(f);return m?y.negate():y}function mi(l,f){return f=f||a,l<f.length?f[l]:"<"+l+">"}function Xt(l,f){if(f=e(f),f.isZero()){if(l.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(f.equals(-1)){if(l.isZero())return{value:[0],isNegative:!1};if(l.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-l.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var m=Array.apply(null,Array(l.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return m.unshift([1]),{value:[].concat.apply([],m),isNegative:!1}}var y=!1;if(l.isNegative()&&f.isPositive()&&(y=!0,l=l.abs()),f.isUnit())return l.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(l.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:y};for(var E=[],b=l,A;b.isNegative()||b.compareAbs(f)>=0;){A=b.divmod(f),b=A.quotient;var S=A.remainder;S.isNegative()&&(S=f.minus(S).abs(),b=b.next()),E.push(S.toJSNumber())}return E.push(b.toJSNumber()),{value:E.reverse(),isNegative:y}}function Tr(l,f,m){var y=Xt(l,f);return(y.isNegative?"-":"")+y.value.map(function(E){return mi(E,m)}).join("")}h.prototype.toArray=function(l){return Xt(this,l)},g.prototype.toArray=function(l){return Xt(this,l)},T.prototype.toArray=function(l){return Xt(this,l)},h.prototype.toString=function(l,f){if(l===n&&(l=10),l!==10||f)return Tr(this,l,f);for(var m=this.value,y=m.length,E=String(m[--y]),b="0000000",A;--y>=0;)A=String(m[y]),E+=b.slice(A.length)+A;var S=this.sign?"-":"";return S+E},g.prototype.toString=function(l,f){return l===n&&(l=10),l!=10||f?Tr(this,l,f):String(this.value)},T.prototype.toString=g.prototype.toString,T.prototype.toJSON=h.prototype.toJSON=g.prototype.toJSON=function(){return this.toString()},h.prototype.valueOf=function(){return parseInt(this.toString(),10)},h.prototype.toJSNumber=h.prototype.valueOf,g.prototype.valueOf=function(){return this.value},g.prototype.toJSNumber=g.prototype.valueOf,T.prototype.valueOf=T.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Ar(l){if(L(+l)){var f=+l;if(f===se(f))return u?new T(BigInt(f)):new g(f);throw new Error("Invalid integer: "+l)}var m=l[0]==="-";m&&(l=l.slice(1));var y=l.split(/e/i);if(y.length>2)throw new Error("Invalid integer: "+y.join("e"));if(y.length===2){var E=y[1];if(E[0]==="+"&&(E=E.slice(1)),E=+E,E!==se(E)||!L(E))throw new Error("Invalid integer: "+E+" is not a valid exponent.");var b=y[0],A=b.indexOf(".");if(A>=0&&(E-=b.length-A-1,b=b.slice(0,A)+b.slice(A+1)),E<0)throw new Error("Cannot include negative exponent part for integers");b+=new Array(E+1).join("0"),l=b}var S=/^([0-9][0-9]*)$/.test(l);if(!S)throw new Error("Invalid integer: "+l);if(u)return new T(BigInt(m?"-"+l:l));for(var N=[],H=l.length,ee=i,$=H-ee;H>0;)N.push(+l.slice($,H)),$-=ee,$<0&&($=0),H-=ee;return k(N),new h(N,m)}function _i(l){if(u)return new T(BigInt(l));if(L(l)){if(l!==se(l))throw new Error(l+" is not an integer.");return new g(l)}return Ar(l.toString())}function C(l){return typeof l=="number"?_i(l):typeof l=="string"?Ar(l):typeof l=="bigint"?new T(l):l}for(var Et=0;Et<1e3;Et++)d[Et]=C(Et),Et>0&&(d[-Et]=C(-Et));return d.one=d[1],d.zero=d[0],d.minusOne=d[-1],d.max=Rn,d.min=fn,d.gcd=vr,d.lcm=yr,d.isInstance=function(l){return l instanceof h||l instanceof g||l instanceof T},d.randBetween=br,d.fromArray=function(l,f,m){return wr(l.map(C),C(f||10),m)},d}();t.hasOwnProperty("exports")&&(t.exports=e)})(Fo);var af=Fo.exports,lf=Lo(af);const jo=64,ts=16,Gt=jo/ts;function cf(){try{return!0}catch{return!1}}function uf(t,e,n){let r=0;for(let i=0;i<n;i++){const s=t[e+i];if(s===void 0)break;r+=s*16**i}return r}function Ko(t){const e=[];for(let n=0;n<t.length;n++){let r=Number(t[n]);for(let i=0;r||i<e.length;i++)r+=(e[i]||0)*10,e[i]=r%16,r=(r-e[i])/16}return e}function ff(t){const e=Ko(t),n=Array(Gt);for(let r=0;r<Gt;r++)n[Gt-1-r]=uf(e,r*Gt,Gt);return n}class lt{static fromString(e){return new lt(ff(e),e)}static fromBit(e){const n=Array(Gt),r=Math.floor(e/ts);for(let i=0;i<Gt;i++)n[Gt-1-i]=i===r?1<<e-r*ts:0;return new lt(n)}constructor(e,n){this.parts=e,this.str=n}and({parts:e}){return new lt(this.parts.map((n,r)=>n&e[r]))}or({parts:e}){return new lt(this.parts.map((n,r)=>n|e[r]))}xor({parts:e}){return new lt(this.parts.map((n,r)=>n^e[r]))}not(){return new lt(this.parts.map(e=>~e))}equals({parts:e}){return this.parts.every((n,r)=>n===e[r])}toString(){if(this.str!=null)return this.str;const e=new Array(jo/4);return this.parts.forEach((n,r)=>{const i=Ko(n.toString());for(let s=0;s<4;s++)e[s+r*4]=i[3-s]||0}),this.str=lf.fromArray(e,16).toString()}toJSON(){return this.toString()}}const Yt=cf();Yt&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});const Gr={},$o=Yt?function(e){return BigInt(e)}:function(e){return e instanceof lt?e:(typeof e=="number"&&(e=e.toString()),Gr[e]!=null||(Gr[e]=lt.fromString(e)),Gr[e])},Ie=$o(0),fi=Yt?function(e=Ie,n=Ie){return e&n}:function(e=Ie,n=Ie){return e.and(n)},zo=Yt?function(e=Ie,n=Ie){return e|n}:function(e=Ie,n=Ie){return e.or(n)},hf=Yt?function(e=Ie,n=Ie){return e^n}:function(e=Ie,n=Ie){return e.xor(n)},df=Yt?function(e=Ie){return~e}:function(e=Ie){return e.not()},gs=Yt?function(e,n){return e===n}:function(e,n){return e==null||n==null?e==n:e.equals(n)};function pf(...t){let e=t[0];for(let n=1;n<t.length;n++)e=zo(e,t[n]);return e}function gf(t,e){return gs(fi(t,e),e)}function mf(t,e){return!gs(fi(t,e),Ie)}function _f(t,e){return e===Ie?t:zo(t,e)}function vf(t,e){return e===Ie?t:hf(t,fi(t,e))}const yf=Yt?function(e){return BigInt(1)<<BigInt(e)}:function(e){return lt.fromBit(e)};var js={combine:pf,add:_f,remove:vf,filter:fi,invert:df,has:gf,hasAny:mf,equals:gs,deserialize:$o,getFlag:yf},Ks;(function(t){t[t.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",t[t.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",t[t.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",t[t.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",t[t.INVALID_ORIGIN=4001]="INVALID_ORIGIN",t[t.RATELIMITED=4002]="RATELIMITED",t[t.TOKEN_REVOKED=4003]="TOKEN_REVOKED",t[t.INVALID_VERSION=4004]="INVALID_VERSION",t[t.INVALID_ENCODING=4005]="INVALID_ENCODING"})(Ks||(Ks={}));var ns;(function(t){t[t.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",t[t.INVALID_COMMAND=4002]="INVALID_COMMAND",t[t.INVALID_EVENT=4004]="INVALID_EVENT",t[t.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"})(ns||(ns={}));var rs;(function(t){t.LANDSCAPE="landscape",t.PORTRAIT="portrait"})(rs||(rs={}));var xt;(function(t){t.MOBILE="mobile",t.DESKTOP="desktop"})(xt||(xt={}));Object.freeze({CREATE_INSTANT_INVITE:js.getFlag(0),ADMINISTRATOR:js.getFlag(3)});const $s=-1,bf=250;function De(t){return Co(e=>{var n;const[r]=(n=Object.entries(t).find(([,i])=>i===e))!==null&&n!==void 0?n:[];return e!=null&&r===void 0?t.UNHANDLED:e},_().or(G()))}function Ef(t){const e=hs().transform(n=>{const r=t.safeParse(n);return r.success?r.data:t._def.defaultValue()});return e.overlayType=t,e}const wf=U.object({image_url:U.string()}),Tf=U.object({mediaUrl:U.string().max(1024)}),Af=U.object({access_token:U.union([U.string(),U.null()]).optional()}),Yo=U.object({access_token:U.string(),user:U.object({username:U.string(),discriminator:U.string(),id:U.string(),avatar:U.union([U.string(),U.null()]).optional(),public_flags:U.number(),global_name:U.union([U.string(),U.null()]).optional()}),scopes:U.array(Ef(U.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","guilds.channels.read","gdm.join","bot","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.permissions.update","applications.commands.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","relationships.write","voice","dm_channels.read","role_connections.write","presences.read","presences.write","openid","dm_channels.messages.read","dm_channels.messages.write","gateway.connect","account.global_name.update","payment_sources.country_code","sdk.social_layer"]).or(U.literal(-1)).default(-1))),expires:U.string(),application:U.object({description:U.string(),icon:U.union([U.string(),U.null()]).optional(),id:U.string(),rpc_origins:U.array(U.string()).optional(),name:U.string()})}),Wo=U.object({participants:U.array(U.object({id:U.string(),username:U.string(),global_name:U.union([U.string(),U.null()]).optional(),discriminator:U.string(),avatar:U.union([U.string(),U.null()]).optional(),flags:U.number(),bot:U.boolean(),avatar_decoration_data:U.union([U.object({asset:U.string(),skuId:U.string().optional()}),U.null()]).optional(),premium_type:U.union([U.number(),U.null()]).optional(),nickname:U.string().optional()}))});var ut;(function(t){t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.AUTHENTICATE="AUTHENTICATE",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(ut||(ut={}));const Sf=U.object({}).optional().nullable(),zs=U.void(),Xo={[ut.INITIATE_IMAGE_UPLOAD]:{request:zs,response:wf},[ut.OPEN_SHARE_MOMENT_DIALOG]:{request:Tf,response:Sf},[ut.AUTHENTICATE]:{request:Af,response:Yo},[ut.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:zs,response:Wo}},Nf="DISPATCH";var Z;(function(t){t.AUTHORIZE="AUTHORIZE",t.AUTHENTICATE="AUTHENTICATE",t.GET_GUILDS="GET_GUILDS",t.GET_GUILD="GET_GUILD",t.GET_CHANNEL="GET_CHANNEL",t.GET_CHANNELS="GET_CHANNELS",t.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",t.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",t.SUBSCRIBE="SUBSCRIBE",t.UNSUBSCRIBE="UNSUBSCRIBE",t.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",t.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",t.SET_ACTIVITY="SET_ACTIVITY",t.GET_SKUS="GET_SKUS",t.GET_ENTITLEMENTS="GET_ENTITLEMENTS",t.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",t.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",t.START_PURCHASE="START_PURCHASE",t.SET_CONFIG="SET_CONFIG",t.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",t.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",t.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",t.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",t.CAPTURE_LOG="CAPTURE_LOG",t.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",t.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",t.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",t.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(Z||(Z={}));const Nn=x({cmd:_(),data:ar(),evt:ds(),nonce:_()}).passthrough(),If=Object.assign(Object.assign({},Yo.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1});De(If);const zt=x({id:_(),username:_(),discriminator:_(),global_name:_().optional().nullable(),avatar:_().optional().nullable(),avatar_decoration_data:x({asset:_(),sku_id:_().optional()}).nullable(),bot:K(),flags:G().optional().nullable(),premium_type:G().optional().nullable()}),ms=x({user:zt,nick:_().optional().nullable(),roles:ne(_()),joined_at:_(),deaf:K(),mute:K()}),Of=x({user_id:_(),nick:_().optional().nullable(),guild_id:_(),avatar:_().optional().nullable(),avatar_decoration_data:x({asset:_(),sku_id:_().optional().nullable()}).optional().nullable(),color_string:_().optional().nullable()}),_s=x({id:_(),name:_().optional().nullable(),roles:ne(_()).optional().nullable(),user:zt.optional().nullable(),require_colons:K().optional().nullable(),managed:K().optional().nullable(),animated:K().optional().nullable(),available:K().optional().nullable()}),Jo=x({mute:K(),deaf:K(),self_mute:K(),self_deaf:K(),suppress:K()}),Qo=x({mute:K(),nick:_(),user:zt,voice_state:Jo,volume:G()}),xf={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},Zr=De(xf),jn=x({name:_(),type:G(),url:_().optional().nullable(),created_at:G().optional().nullable(),timestamps:x({start:G(),end:G()}).partial().optional().nullable(),application_id:_().optional().nullable(),details:_().optional().nullable(),state:_().optional().nullable(),emoji:_s.optional().nullable(),party:x({id:_().optional().nullable(),size:ne(G()).optional().nullable()}).optional().nullable(),assets:x({large_image:_().nullable(),large_text:_().nullable(),small_image:_().nullable(),small_text:_().nullable()}).partial().optional().nullable(),secrets:x({join:_(),match:_()}).partial().optional().nullable(),instance:K().optional().nullable(),flags:G().optional().nullable()}),kf={UNHANDLED:-1,ROLE:0,MEMBER:1},Rf=x({id:_(),type:De(kf),allow:_(),deny:_()}),ea={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},ta=x({id:_(),type:De(ea),guild_id:_().optional().nullable(),position:G().optional().nullable(),permission_overwrites:ne(Rf).optional().nullable(),name:_().optional().nullable(),topic:_().optional().nullable(),nsfw:K().optional().nullable(),last_message_id:_().optional().nullable(),bitrate:G().optional().nullable(),user_limit:G().optional().nullable(),rate_limit_per_user:G().optional().nullable(),recipients:ne(zt).optional().nullable(),icon:_().optional().nullable(),owner_id:_().optional().nullable(),application_id:_().optional().nullable(),parent_id:_().optional().nullable(),last_pin_timestamp:_().optional().nullable()}),Df=x({user:zt,guild_id:_(),status:Zr,activities:ne(jn),client_status:x({desktop:Zr,mobile:Zr,web:Zr}).partial()}),Lf=x({id:_(),name:_(),color:G(),hoist:K(),position:G(),permissions:_(),managed:K(),mentionable:K()});x({id:_(),name:_(),owner_id:_(),icon:_().nullable(),icon_hash:_().optional().nullable(),splash:_().nullable(),discovery_splash:_().nullable(),owner:K().optional().nullable(),permissions:_().optional().nullable(),region:_(),afk_channel_id:_().nullable(),afk_timeout:G(),widget_enabled:K().optional().nullable(),widget_channel_id:_().optional().nullable(),verification_level:G(),default_message_notifications:G(),explicit_content_filter:G(),roles:ne(Lf),emojis:ne(_s),features:ne(_()),mfa_level:G(),application_id:_().nullable(),system_channel_id:_().nullable(),system_channel_flags:G(),rules_channel_id:_().nullable(),joined_at:_().optional().nullable(),large:K().optional().nullable(),unavailable:K().optional().nullable(),member_count:G().optional().nullable(),voice_states:ne(Jo).optional().nullable(),members:ne(ms).optional().nullable(),channels:ne(ta).optional().nullable(),presences:ne(Df).optional().nullable(),max_presences:G().optional().nullable(),max_members:G().optional().nullable(),vanity_url_code:_().nullable(),description:_().nullable(),banner:_().nullable(),premium_tier:G(),premium_subscription_count:G().optional().nullable(),preferred_locale:_(),public_updates_channel_id:_().nullable(),max_video_channel_users:G().optional().nullable(),approximate_member_count:G().optional().nullable(),approximate_presence_count:G().optional().nullable()});const Mf=x({id:_(),guild_id:_(),type:G(),name:_()}),Pf=x({id:_(),filename:_(),size:G(),url:_(),proxy_url:_(),height:G().optional().nullable(),width:G().optional().nullable()}),Uf=x({text:_(),icon_url:_().optional().nullable(),proxy_icon_url:_().optional().nullable()}),is=x({url:_().optional().nullable(),proxy_url:_().optional().nullable(),height:G().optional().nullable(),width:G().optional().nullable()}),Bf=is.omit({proxy_url:!0}),Vf=x({name:_().optional().nullable(),url:_().optional().nullable()}),Gf=x({name:_().optional().nullable(),url:_().optional().nullable(),icon_url:_().optional().nullable(),proxy_icon_url:_().optional().nullable()}),Zf=x({name:_(),value:_(),inline:K()}),qf=x({title:_().optional().nullable(),type:_().optional().nullable(),description:_().optional().nullable(),url:_().optional().nullable(),timestamp:_().optional().nullable(),color:G().optional().nullable(),footer:Uf.optional().nullable(),image:is.optional().nullable(),thumbnail:is.optional().nullable(),video:Bf.optional().nullable(),provider:Vf.optional().nullable(),author:Gf.optional().nullable(),fields:ne(Zf).optional().nullable()}),Hf=x({count:G(),me:K(),emoji:_s}),Cf=x({type:G(),party_id:_().optional().nullable()}),Ff=x({id:_(),cover_image:_().optional().nullable(),description:_(),icon:_().optional().nullable(),name:_()}),jf=x({message_id:_().optional().nullable(),channel_id:_().optional().nullable(),guild_id:_().optional().nullable()}),Kf=x({id:_(),channel_id:_(),guild_id:_().optional().nullable(),author:zt.optional().nullable(),member:ms.optional().nullable(),content:_(),timestamp:_(),edited_timestamp:_().optional().nullable(),tts:K(),mention_everyone:K(),mentions:ne(zt),mention_roles:ne(_()),mention_channels:ne(Mf),attachments:ne(Pf),embeds:ne(qf),reactions:ne(Hf).optional().nullable(),nonce:ps([_(),G()]).optional().nullable(),pinned:K(),webhook_id:_().optional().nullable(),type:G(),activity:Cf.optional().nullable(),application:Ff.optional().nullable(),message_reference:jf.optional().nullable(),flags:G().optional().nullable(),stickers:ne(ar()).optional().nullable(),referenced_message:ar().optional().nullable()}),$f=x({id:_(),name:_()}),zf={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},na=x({type:De(zf),code:G(),name:_()}),Yf={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},Wf=x({type:De(Yf),auto_threshold:K(),threshold:G(),shortcut:ne(na),delay:G()}),Ys=x({device_id:_(),volume:G(),available_devices:ne($f)}),Xf={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"};x({type:De(Xf),id:_(),vendor:x({name:_(),url:_()}),model:x({name:_(),url:_()}),related:ne(_()),echo_cancellation:K().optional().nullable(),noise_suppression:K().optional().nullable(),automatic_gain_control:K().optional().nullable(),hardware_mute:K().optional().nullable()});const Jf={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},Qf=x({id:_(),name:_(),type:De(Jf),price:x({amount:G(),currency:_()}),application_id:_(),flags:G(),release_date:_().nullable()}),eh={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},vs=x({id:_(),sku_id:_(),application_id:_(),user_id:_(),gift_code_flags:G(),type:De(eh),gifter_user_id:_().optional().nullable(),branches:ne(_()).optional().nullable(),starts_at:_().optional().nullable(),ends_at:_().optional().nullable(),parent_id:_().optional().nullable(),consumed:K().optional().nullable(),deleted:K().optional().nullable(),gift_code_batch_id:_().optional().nullable()}),th={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3};De(th);const nh={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},rh=De(nh),ra={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1};De(ra);const ia={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2};De(ia);const ys="ERROR";var oe;(function(t){t.READY="READY",t.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",t.SPEAKING_START="SPEAKING_START",t.SPEAKING_STOP="SPEAKING_STOP",t.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",t.ORIENTATION_UPDATE="ORIENTATION_UPDATE",t.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",t.CURRENT_GUILD_MEMBER_UPDATE="CURRENT_GUILD_MEMBER_UPDATE",t.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",t.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",t.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"})(oe||(oe={}));const Fe=Nn.extend({evt:Sn(oe),nonce:_().nullable(),cmd:Te(Nf),data:x({}).passthrough()}),sa=Nn.extend({evt:Te(ys),data:x({code:G(),message:_().optional()}).passthrough(),cmd:Sn(Z),nonce:_().nullable()}),ih=Fe.extend({evt:_()}),sh=ps([Fe,ih,sa]);function oh(t){const e=t.evt;if(!(e in oe))throw new Error(`Unrecognized event type ${t.evt}`);return ah[e].payload.parse(t)}const ah={[oe.READY]:{payload:Fe.extend({evt:Te(oe.READY),data:x({v:G(),config:x({cdn_host:_().optional(),api_endpoint:_(),environment:_()}),user:x({id:_(),username:_(),discriminator:_(),avatar:_().optional()}).optional()})})},[oe.VOICE_STATE_UPDATE]:{payload:Fe.extend({evt:Te(oe.VOICE_STATE_UPDATE),data:Qo}),subscribeArgs:x({channel_id:_()})},[oe.SPEAKING_START]:{payload:Fe.extend({evt:Te(oe.SPEAKING_START),data:x({lobby_id:_().optional(),channel_id:_().optional(),user_id:_()})}),subscribeArgs:x({lobby_id:_().nullable().optional(),channel_id:_().nullable().optional()})},[oe.SPEAKING_STOP]:{payload:Fe.extend({evt:Te(oe.SPEAKING_STOP),data:x({lobby_id:_().optional(),channel_id:_().optional(),user_id:_()})}),subscribeArgs:x({lobby_id:_().nullable().optional(),channel_id:_().nullable().optional()})},[oe.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:Fe.extend({evt:Te(oe.ACTIVITY_LAYOUT_MODE_UPDATE),data:x({layout_mode:De(ia)})})},[oe.ORIENTATION_UPDATE]:{payload:Fe.extend({evt:Te(oe.ORIENTATION_UPDATE),data:x({screen_orientation:De(ra),orientation:Sn(rs)})})},[oe.CURRENT_USER_UPDATE]:{payload:Fe.extend({evt:Te(oe.CURRENT_USER_UPDATE),data:zt})},[oe.CURRENT_GUILD_MEMBER_UPDATE]:{payload:Fe.extend({evt:Te(oe.CURRENT_GUILD_MEMBER_UPDATE),data:Of}),subscribeArgs:x({guild_id:_()})},[oe.ENTITLEMENT_CREATE]:{payload:Fe.extend({evt:Te(oe.ENTITLEMENT_CREATE),data:x({entitlement:vs})})},[oe.THERMAL_STATE_UPDATE]:{payload:Fe.extend({evt:Te(oe.THERMAL_STATE_UPDATE),data:x({thermal_state:rh})})},[oe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:Fe.extend({evt:Te(oe.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:x({participants:Wo.shape.participants})})}};function lh(t,e){throw e}const fr=x({}).nullable(),oa=x({code:_()}),ch=x({guilds:ne(x({id:_(),name:_()}))}),uh=x({id:_(),name:_(),icon_url:_().optional(),members:ne(ms)}),Tn=x({id:_(),type:De(ea),guild_id:_().optional().nullable(),name:_().optional().nullable(),topic:_().optional().nullable(),bitrate:G().optional().nullable(),user_limit:G().optional().nullable(),position:G().optional().nullable(),voice_states:ne(Qo),messages:ne(Kf)}),fh=x({channels:ne(ta)});Tn.nullable();const hh=Tn.nullable(),dh=Tn.nullable();x({input:Ys,output:Ys,mode:Wf,automatic_gain_control:K(),echo_cancellation:K(),noise_suppression:K(),qos:K(),silence_warning:K(),deaf:K(),mute:K()});const ph=x({evt:_()}),gh=x({shortcut:na}),aa=jn,la=x({skus:ne(Qf)}),ca=x({entitlements:ne(vs)}),ua=ne(vs).nullable(),fa=x({use_interactive_pip:K()}),ha=x({locale:_()}),da=x({enabled:K()}),pa=x({permissions:qo().or(_())}),ga=x({iosKeyboardResizesView:Ho(K())}),mh=Nn.extend({cmd:Sn(Z),evt:ds()});function _h({cmd:t,data:e}){switch(t){case Z.AUTHORIZE:return oa.parse(e);case Z.CAPTURE_SHORTCUT:return gh.parse(e);case Z.ENCOURAGE_HW_ACCELERATION:return da.parse(e);case Z.GET_CHANNEL:return Tn.parse(e);case Z.GET_CHANNELS:return fh.parse(e);case Z.GET_CHANNEL_PERMISSIONS:return pa.parse(e);case Z.GET_GUILD:return uh.parse(e);case Z.GET_GUILDS:return ch.parse(e);case Z.GET_PLATFORM_BEHAVIORS:return ga.parse(e);case Z.GET_CHANNEL:return Tn.parse(e);case Z.SELECT_TEXT_CHANNEL:return dh.parse(e);case Z.SELECT_VOICE_CHANNEL:return hh.parse(e);case Z.SET_ACTIVITY:return aa.parse(e);case Z.GET_SKUS_EMBEDDED:return la.parse(e);case Z.GET_ENTITLEMENTS_EMBEDDED:return ca.parse(e);case Z.SET_CONFIG:return fa.parse(e);case Z.START_PURCHASE:return ua.parse(e);case Z.SUBSCRIBE:case Z.UNSUBSCRIBE:return ph.parse(e);case Z.USER_SETTINGS_GET_LOCALE:return ha.parse(e);case Z.OPEN_EXTERNAL_LINK:case Z.SET_ORIENTATION_LOCK_STATE:case Z.SET_CERTIFIED_DEVICES:case Z.SEND_ANALYTICS_EVENT:case Z.OPEN_INVITE_DIALOG:case Z.CAPTURE_LOG:case Z.GET_SKUS:case Z.GET_ENTITLEMENTS:return fr.parse(e);case Z.AUTHENTICATE:case Z.INITIATE_IMAGE_UPLOAD:case Z.OPEN_SHARE_MOMENT_DIALOG:case Z.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:n}=Xo[t];return n.parse(e);default:lh(t,new Error(`Unrecognized command ${t}`))}}function vh(t){return Object.assign(Object.assign({},t),{data:_h(t)})}x({frame_id:_(),platform:Sn(xt).optional().nullable()});x({v:Te(1),encoding:Te("json").optional(),client_id:_(),frame_id:_()});const yh=x({code:G(),message:_().optional()}),bh=x({evt:_().nullable(),nonce:_().nullable(),data:ar().nullable(),cmd:_()}).passthrough();function Eh(t){const e=bh.parse(t);return e.evt!=null?e.evt===ys?sa.parse(e):oh(sh.parse(e)):vh(mh.passthrough().parse(e))}function He(t,e,n,r=()=>{}){const i=Nn.extend({cmd:Te(e),data:n});return async s=>{const o=await t({cmd:e,args:s,transfer:r(s)});return i.parse(o).data}}function hi(t,e=()=>{}){const n=Xo[t].response,r=Nn.extend({cmd:Te(t),data:n});return i=>async s=>{const o=await i({cmd:t,args:s,transfer:e(s)});return r.parse(o).data}}const wh=hi(ut.AUTHENTICATE),Th=t=>He(t,Z.AUTHORIZE,oa),Ah=t=>He(t,Z.CAPTURE_LOG,fr),Sh=t=>He(t,Z.ENCOURAGE_HW_ACCELERATION,da),Nh=t=>He(t,Z.GET_ENTITLEMENTS_EMBEDDED,ca),Ih=t=>He(t,Z.GET_SKUS_EMBEDDED,la),Oh=t=>He(t,Z.GET_CHANNEL_PERMISSIONS,pa),xh=t=>He(t,Z.GET_PLATFORM_BEHAVIORS,ga),kh=t=>He(t,Z.OPEN_EXTERNAL_LINK,fr),Rh=t=>He(t,Z.OPEN_INVITE_DIALOG,fr),Dh=hi(ut.OPEN_SHARE_MOMENT_DIALOG);jn.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,instance:!0,type:!0}).extend({type:jn.shape.type.optional(),instance:jn.shape.instance.optional()}).nullable();const Lh=t=>He(t,Z.SET_ACTIVITY,aa),Mh=t=>He(t,Z.SET_CONFIG,fa);function Ph({sendCommand:t,cmd:e,response:n,fallbackTransform:r,transferTransform:i=()=>{}}){const s=Nn.extend({cmd:Te(e),data:n});return async o=>{try{const a=await t({cmd:e,args:o,transfer:i(o)});return s.parse(a).data}catch(a){if(a.code===ns.INVALID_PAYLOAD){const u=r(o),d=await t({cmd:e,args:u,transfer:i(u)});return s.parse(d).data}else throw a}}}const Uh=t=>({lock_state:t.lock_state,picture_in_picture_lock_state:t.picture_in_picture_lock_state}),Bh=t=>Ph({sendCommand:t,cmd:Z.SET_ORIENTATION_LOCK_STATE,response:fr,fallbackTransform:Uh}),Vh=t=>He(t,Z.START_PURCHASE,ua),Gh=t=>He(t,Z.USER_SETTINGS_GET_LOCALE,ha),Zh=hi(ut.INITIATE_IMAGE_UPLOAD),qh=t=>He(t,Z.GET_CHANNEL,Tn),Hh=hi(ut.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);function Ch(t){return{authenticate:wh(t),authorize:Th(t),captureLog:Ah(t),encourageHardwareAcceleration:Sh(t),getChannel:qh(t),getChannelPermissions:Oh(t),getEntitlements:Nh(t),getPlatformBehaviors:xh(t),getSkus:Ih(t),openExternalLink:kh(t),openInviteDialog:Rh(t),openShareMomentDialog:Dh(t),setActivity:Lh(t),setConfig:Mh(t),setOrientationLockState:Bh(t),startPurchase:Vh(t),userSettingsGetLocale:Gh(t),initiateImageUpload:Zh(t),getInstanceConnectedParticipants:Hh(t)}}class Fh extends Error{constructor(e,n=""){super(n),this.code=e,this.message=n,this.name="Discord SDK Error"}}function jh(){return{disableConsoleLogOverride:!1}}const Kh=["log","warn","debug","info","error"];function $h(t,e,n){const r=t[e],i=t;r&&(t[e]=function(){const s=[].slice.call(arguments),o=""+s.join(" ");n(e,o),r.apply(i,s)})}var zh="1.5.0",Yh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ws={randomUUID:Yh},qr,Wh=new Uint8Array(16);function Xh(){if(!qr&&(qr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qr(Wh)}var Ne=[];for(var Mi=0;Mi<256;++Mi)Ne.push((Mi+256).toString(16).slice(1));function Jh(t,e=0){return(Ne[t[e+0]]+Ne[t[e+1]]+Ne[t[e+2]]+Ne[t[e+3]]+"-"+Ne[t[e+4]]+Ne[t[e+5]]+"-"+Ne[t[e+6]]+Ne[t[e+7]]+"-"+Ne[t[e+8]]+Ne[t[e+9]]+"-"+Ne[t[e+10]]+Ne[t[e+11]]+Ne[t[e+12]]+Ne[t[e+13]]+Ne[t[e+14]]+Ne[t[e+15]]).toLowerCase()}function Xs(t,e,n){if(Ws.randomUUID&&!e&&!t)return Ws.randomUUID();t=t||{};var r=t.random||(t.rng||Xh)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Jh(r)}var Ot;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.FRAME=1]="FRAME",t[t.CLOSE=2]="CLOSE",t[t.HELLO=3]="HELLO"})(Ot||(Ot={}));const Qh=new Set(ed());function ed(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function td(){var t;return[(t=window.parent.opener)!==null&&t!==void 0?t:window.parent,document.referrer?document.referrer:"*"]}class nd{getTransfer(e){var n;switch(e.cmd){case Z.SUBSCRIBE:case Z.UNSUBSCRIBE:return;default:return(n=e.transfer)!==null&&n!==void 0?n:void 0}}constructor(e,n){if(this.sdkVersion=zh,this.mobileAppVersion=null,this.source=null,this.sourceOrigin="",this.eventBus=new du,this.pendingCommands=new Map,this.sendCommand=a=>{var u;if(this.source==null)throw new Error("Attempting to send message before initialization");const d=Xs();return(u=this.source)===null||u===void 0||u.postMessage([Ot.FRAME,Object.assign(Object.assign({},a),{nonce:d})],this.sourceOrigin,this.getTransfer(a)),new Promise((g,T)=>{this.pendingCommands.set(d,{resolve:g,reject:T})})},this.commands=Ch(this.sendCommand),this.handleMessage=a=>{if(!Qh.has(a.origin))return;const u=a.data;if(!Array.isArray(u))return;const[d,h]=u;switch(d){case Ot.HELLO:return;case Ot.CLOSE:return this.handleClose(h);case Ot.HANDSHAKE:return this.handleHandshake();case Ot.FRAME:return this.handleFrame(h);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=e,this.configuration=n??jh(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.platform=xt.DESKTOP,this.guildId=null,this.channelId=null;return}const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const s=r.get("instance_id");if(!s)throw new Error("instance_id query param is not defined");this.instanceId=s;const o=r.get("platform");if(o){if(o!==xt.DESKTOP&&o!==xt.MOBILE)throw new Error(`Invalid query param "platform" of "${o}". Valid values are "${xt.DESKTOP}" or "${xt.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=o,this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),this.mobileAppVersion=r.get("mobile_app_version"),[this.source,this.sourceOrigin]=td(),this.addOnReadyListener(),this.handshake()}close(e,n){var r;window.removeEventListener("message",this.handleMessage);const i=Xs();(r=this.source)===null||r===void 0||r.postMessage([Ot.CLOSE,{code:e,message:n,nonce:i}],this.sourceOrigin)}async subscribe(e,n,...r){const[i]=r,s=this.eventBus.listenerCount(e),o=this.eventBus.on(e,n);return Object.values(oe).includes(e)&&e!==oe.READY&&s===0&&await this.sendCommand({cmd:Z.SUBSCRIBE,args:i,evt:e}),o}async unsubscribe(e,n,...r){const[i]=r;return e!==oe.READY&&this.eventBus.listenerCount(e)===1&&await this.sendCommand({cmd:Z.UNSUBSCRIBE,evt:e,args:i}),this.eventBus.off(e,n)}async ready(){this.isReady||await new Promise(e=>{this.eventBus.once(oe.READY,e)})}parseMajorMobileVersion(){if(this.mobileAppVersion&&this.mobileAppVersion.includes("."))try{return parseInt(this.mobileAppVersion.split(".")[0])}catch{return $s}return $s}handshake(){var e;const n={v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId},r=this.parseMajorMobileVersion();(this.platform===xt.DESKTOP||r>=bf)&&(n.sdk_version=this.sdkVersion),(e=this.source)===null||e===void 0||e.postMessage([Ot.HANDSHAKE,n],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(oe.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const e=(n,r)=>{this.commands.captureLog({level:n,message:r})};Kh.forEach(n=>{$h(console,n,e)})}handleClose(e){yh.parse(e)}handleHandshake(){}handleFrame(e){var n,r;let i;try{i=Eh(e)}catch(s){console.error("Failed to parse",e),console.error(s);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===ys){if(i.nonce!=null){(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new Fh(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",e);return}(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}}var In=1e9,rd={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ea,he=!0,et="[DecimalError] ",on=et+"Invalid argument: ",bs=et+"Exponent out of range: ",On=Math.floor,nn=Math.pow,id=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ke,Ae=1e7,fe=7,ma=9007199254740991,oi=On(ma/fe),M={};M.absoluteValue=M.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};M.comparedTo=M.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};M.decimalPlaces=M.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*fe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};M.dividedBy=M.div=function(t){return Lt(this,new this.constructor(t))};M.dividedToIntegerBy=M.idiv=function(t){var e=this,n=e.constructor;return ue(Lt(e,new n(t),0,1),n.precision)};M.equals=M.eq=function(t){return!this.cmp(t)};M.exponent=function(){return Ee(this)};M.greaterThan=M.gt=function(t){return this.cmp(t)>0};M.greaterThanOrEqualTo=M.gte=function(t){return this.cmp(t)>=0};M.isInteger=M.isint=function(){return this.e>this.d.length-2};M.isNegative=M.isneg=function(){return this.s<0};M.isPositive=M.ispos=function(){return this.s>0};M.isZero=function(){return this.s===0};M.lessThan=M.lt=function(t){return this.cmp(t)<0};M.lessThanOrEqualTo=M.lte=function(t){return this.cmp(t)<1};M.logarithm=M.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ke))throw Error(et+"NaN");if(n.s<1)throw Error(et+(n.s?"NaN":"-Infinity"));return n.eq(Ke)?new r(0):(he=!1,e=Lt(lr(n,s),lr(t,s),s),he=!0,ue(e,i))};M.minus=M.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ya(e,t):_a(e,(t.s=-t.s,t))};M.modulo=M.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(et+"NaN");return n.s?(he=!1,e=Lt(n,t,0,1).times(t),he=!0,n.minus(e)):ue(new r(n),i)};M.naturalExponential=M.exp=function(){return va(this)};M.naturalLogarithm=M.ln=function(){return lr(this)};M.negated=M.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};M.plus=M.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_a(e,t):ya(e,(t.s=-t.s,t))};M.precision=M.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(on+t);if(e=Ee(i)+1,r=i.d.length-1,n=r*fe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};M.squareRoot=M.sqrt=function(){var t,e,n,r,i,s,o,a=this,u=a.constructor;if(a.s<1){if(!a.s)return new u(0);throw Error(et+"NaN")}for(t=Ee(a),he=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=ft(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=On((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(s=r,r=s.plus(Lt(a,s,o+2)).times(.5),ft(s.d).slice(0,o)===(e=ft(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ue(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return he=!0,ue(r,n)};M.times=M.mul=function(t){var e,n,r,i,s,o,a,u,d,h=this,g=h.constructor,T=h.d,L=(t=new g(t)).d;if(!h.s||!t.s)return new g(0);for(t.s*=h.s,n=h.e+t.e,u=T.length,d=L.length,u<d&&(s=T,T=L,L=s,o=u,u=d,d=o),s=[],o=u+d,r=o;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)a=s[i]+L[r]*T[i-r-1]+e,s[i--]=a%Ae|0,e=a/Ae|0;s[i]=(s[i]+e)%Ae|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,he?ue(t,g.precision):t};M.toDecimalPlaces=M.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(_t(t,0,In),e===void 0?e=r.rounding:_t(e,0,8),ue(n,t+Ee(n)+1,e))};M.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=cn(r,!0):(_t(t,0,In),e===void 0?e=i.rounding:_t(e,0,8),r=ue(new i(r),t+1,e),n=cn(r,!0,t+1)),n};M.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?cn(i):(_t(t,0,In),e===void 0?e=s.rounding:_t(e,0,8),r=ue(new s(i),t+Ee(i)+1,e),n=cn(r.abs(),!1,t+Ee(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};M.toInteger=M.toint=function(){var t=this,e=t.constructor;return ue(new e(t),Ee(t)+1,e.rounding)};M.toNumber=function(){return+this};M.toPower=M.pow=function(t){var e,n,r,i,s,o,a=this,u=a.constructor,d=12,h=+(t=new u(t));if(!t.s)return new u(Ke);if(a=new u(a),!a.s){if(t.s<1)throw Error(et+"Infinity");return a}if(a.eq(Ke))return a;if(r=u.precision,t.eq(Ke))return ue(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=h<0?-h:h)<=ma){for(i=new u(Ke),e=Math.ceil(r/fe+4),he=!1;n%2&&(i=i.times(a),Qs(i.d,e)),n=On(n/2),n!==0;)a=a.times(a),Qs(a.d,e);return he=!0,t.s<0?new u(Ke).div(i):ue(i,r)}}else if(s<0)throw Error(et+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,he=!1,i=t.times(lr(a,r+d)),he=!0,i=va(i),i.s=s,i};M.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ee(i),r=cn(i,n<=s.toExpNeg||n>=s.toExpPos)):(_t(t,1,In),e===void 0?e=s.rounding:_t(e,0,8),i=ue(new s(i),t,e),n=Ee(i),r=cn(i,t<=n||n<=s.toExpNeg,t)),r};M.toSignificantDigits=M.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(_t(t,1,In),e===void 0?e=r.rounding:_t(e,0,8)),ue(new r(n),t,e)};M.toString=M.valueOf=M.val=M.toJSON=M[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ee(t),n=t.constructor;return cn(t,e<=n.toExpNeg||e>=n.toExpPos)};function _a(t,e){var n,r,i,s,o,a,u,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),he?ue(e,g):e;if(u=t.d,d=e.d,o=t.e,i=e.e,u=u.slice(),s=o-i,s){for(s<0?(r=u,s=-s,a=d.length):(r=d,i=o,a=u.length),o=Math.ceil(g/fe),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=u.length,s=d.length,a-s<0&&(s=a,r=d,d=u,u=r),n=0;s;)n=(u[--s]=u[s]+d[s]+n)/Ae|0,u[s]%=Ae;for(n&&(u.unshift(n),++i),a=u.length;u[--a]==0;)u.pop();return e.d=u,e.e=i,he?ue(e,g):e}function _t(t,e,n){if(t!==~~t||t<e||t>n)throw Error(on+t)}function ft(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=fe-r.length,n&&(s+=Bt(n)),s+=r;o=t[e],r=o+"",n=fe-r.length,n&&(s+=Bt(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Lt=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Ae|0,o=s/Ae|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,u;if(s!=o)u=s>o?1:-1;else for(a=u=0;a<s;a++)if(r[a]!=i[a]){u=r[a]>i[a]?1:-1;break}return u}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Ae+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,u,d,h,g,T,L,W,q,k,_e,se,ae,Le,ye,Ye,Oe,Ce,tt=r.constructor,We=r.s==i.s?1:-1,Me=r.d,ce=i.d;if(!r.s)return new tt(r);if(!i.s)throw Error(et+"Division by zero");for(u=r.e-i.e,Oe=ce.length,ye=Me.length,L=new tt(We),W=L.d=[],d=0;ce[d]==(Me[d]||0);)++d;if(ce[d]>(Me[d]||0)&&--u,s==null?se=s=tt.precision:o?se=s+(Ee(r)-Ee(i))+1:se=s,se<0)return new tt(0);if(se=se/fe+2|0,d=0,Oe==1)for(h=0,ce=ce[0],se++;(d<ye||h)&&se--;d++)ae=h*Ae+(Me[d]||0),W[d]=ae/ce|0,h=ae%ce|0;else{for(h=Ae/(ce[0]+1)|0,h>1&&(ce=t(ce,h),Me=t(Me,h),Oe=ce.length,ye=Me.length),Le=Oe,q=Me.slice(0,Oe),k=q.length;k<Oe;)q[k++]=0;Ce=ce.slice(),Ce.unshift(0),Ye=ce[0],ce[1]>=Ae/2&&++Ye;do h=0,a=e(ce,q,Oe,k),a<0?(_e=q[0],Oe!=k&&(_e=_e*Ae+(q[1]||0)),h=_e/Ye|0,h>1?(h>=Ae&&(h=Ae-1),g=t(ce,h),T=g.length,k=q.length,a=e(g,q,T,k),a==1&&(h--,n(g,Oe<T?Ce:ce,T))):(h==0&&(a=h=1),g=ce.slice()),T=g.length,T<k&&g.unshift(0),n(q,g,k),a==-1&&(k=q.length,a=e(ce,q,Oe,k),a<1&&(h++,n(q,Oe<k?Ce:ce,k))),k=q.length):a===0&&(h++,q=[0]),W[d++]=h,a&&q[0]?q[k++]=Me[Le]||0:(q=[Me[Le]],k=1);while((Le++<ye||q[0]!==void 0)&&se--)}return W[0]||W.shift(),L.e=u,ue(L,o?s+Ee(L)+1:s)}}();function va(t,e){var n,r,i,s,o,a,u=0,d=0,h=t.constructor,g=h.precision;if(Ee(t)>16)throw Error(bs+Ee(t));if(!t.s)return new h(Ke);for(e==null?(he=!1,a=g):a=e,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(nn(2,d))/Math.LN10*2+5|0,a+=r,n=i=s=new h(Ke),h.precision=a;;){if(i=ue(i.times(t),a),n=n.times(++u),o=s.plus(Lt(i,n,a)),ft(o.d).slice(0,a)===ft(s.d).slice(0,a)){for(;d--;)s=ue(s.times(s),a);return h.precision=g,e==null?(he=!0,ue(s,g)):s}s=o}}function Ee(t){for(var e=t.e*fe,n=t.d[0];n>=10;n/=10)e++;return e}function Pi(t,e,n){if(e>t.LN10.sd())throw he=!0,n&&(t.precision=n),Error(et+"LN10 precision limit exceeded");return ue(new t(t.LN10),e)}function Bt(t){for(var e="";t--;)e+="0";return e}function lr(t,e){var n,r,i,s,o,a,u,d,h,g=1,T=10,L=t,W=L.d,q=L.constructor,k=q.precision;if(L.s<1)throw Error(et+(L.s?"NaN":"-Infinity"));if(L.eq(Ke))return new q(0);if(e==null?(he=!1,d=k):d=e,L.eq(10))return e==null&&(he=!0),Pi(q,d);if(d+=T,q.precision=d,n=ft(W),r=n.charAt(0),s=Ee(L),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)L=L.times(t),n=ft(L.d),r=n.charAt(0),g++;s=Ee(L),r>1?(L=new q("0."+n),s++):L=new q(r+"."+n.slice(1))}else return u=Pi(q,d+2,k).times(s+""),L=lr(new q(r+"."+n.slice(1)),d-T).plus(u),q.precision=k,e==null?(he=!0,ue(L,k)):L;for(a=o=L=Lt(L.minus(Ke),L.plus(Ke),d),h=ue(L.times(L),d),i=3;;){if(o=ue(o.times(h),d),u=a.plus(Lt(o,new q(i),d)),ft(u.d).slice(0,d)===ft(a.d).slice(0,d))return a=a.times(2),s!==0&&(a=a.plus(Pi(q,d+2,k).times(s+""))),a=Lt(a,new q(g),d),q.precision=k,e==null?(he=!0,ue(a,k)):a;a=u,i+=2}}function Js(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=On(n/fe),t.d=[],r=(n+1)%fe,n<0&&(r+=fe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=fe;r<i;)t.d.push(+e.slice(r,r+=fe));e=e.slice(r),r=fe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),he&&(t.e>oi||t.e<-oi))throw Error(bs+n)}else t.s=0,t.e=0,t.d=[0];return t}function ue(t,e,n){var r,i,s,o,a,u,d,h,g=t.d;for(o=1,s=g[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=fe,i=e,d=g[h=0];else{if(h=Math.ceil((r+1)/fe),s=g.length,h>=s)return t;for(d=s=g[h],o=1;s>=10;s/=10)o++;r%=fe,i=r-fe+o}if(n!==void 0&&(s=nn(10,o-i-1),a=d/s%10|0,u=e<0||g[h+1]!==void 0||d%s,u=n<4?(a||u)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||u||n==6&&(r>0?i>0?d/nn(10,o-i):0:g[h-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return u?(s=Ee(t),g.length=1,e=e-s-1,g[0]=nn(10,(fe-e%fe)%fe),t.e=On(-e/fe)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=h,s=1,h--):(g.length=h+1,s=nn(10,fe-r),g[h]=i>0?(d/nn(10,o-i)%nn(10,i)|0)*s:0),u)for(;;)if(h==0){(g[0]+=s)==Ae&&(g[0]=1,++t.e);break}else{if(g[h]+=s,g[h]!=Ae)break;g[h--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(he&&(t.e>oi||t.e<-oi))throw Error(bs+Ee(t));return t}function ya(t,e){var n,r,i,s,o,a,u,d,h,g,T=t.constructor,L=T.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new T(t),he?ue(e,L):e;if(u=t.d,g=e.d,r=e.e,d=t.e,u=u.slice(),o=d-r,o){for(h=o<0,h?(n=u,o=-o,a=g.length):(n=g,r=d,a=u.length),i=Math.max(Math.ceil(L/fe),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,a=g.length,h=i<a,h&&(a=i),i=0;i<a;i++)if(u[i]!=g[i]){h=u[i]<g[i];break}o=0}for(h&&(n=u,u=g,g=n,e.s=-e.s),a=u.length,i=g.length-a;i>0;--i)u[a++]=0;for(i=g.length;i>o;){if(u[--i]<g[i]){for(s=i;s&&u[--s]===0;)u[s]=Ae-1;--u[s],u[i]+=Ae}u[i]-=g[i]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,he?ue(e,L):e):new T(0)}function cn(t,e,n){var r,i=Ee(t),s=ft(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Bt(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Bt(-i-1)+s,n&&(r=n-o)>0&&(s+=Bt(r))):i>=o?(s+=Bt(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Bt(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Bt(r))),t.s<0?"-"+s:s}function Qs(t,e){if(t.length>e)return t.length=e,!0}function ba(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(on+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Js(o,s.toString())}else if(typeof s!="string")throw Error(on+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,id.test(s))Js(o,s);else throw Error(on+s)}if(i.prototype=M,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ba,i.config=i.set=sd,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function sd(t){if(!t||typeof t!="object")throw Error(et+"Object expected");var e,n,r,i=["precision",1,In,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(On(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(on+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(on+n+": "+r);return this}var Ea=ba(rd);Ke=new Ea(1);var v;(function(t){t.AED="aed",t.AFN="afn",t.ALL="all",t.AMD="amd",t.ANG="ang",t.AOA="aoa",t.ARS="ars",t.AUD="aud",t.AWG="awg",t.AZN="azn",t.BAM="bam",t.BBD="bbd",t.BDT="bdt",t.BGN="bgn",t.BHD="bhd",t.BIF="bif",t.BMD="bmd",t.BND="bnd",t.BOB="bob",t.BOV="bov",t.BRL="brl",t.BSD="bsd",t.BTN="btn",t.BWP="bwp",t.BYN="byn",t.BYR="byr",t.BZD="bzd",t.CAD="cad",t.CDF="cdf",t.CHE="che",t.CHF="chf",t.CHW="chw",t.CLF="clf",t.CLP="clp",t.CNY="cny",t.COP="cop",t.COU="cou",t.CRC="crc",t.CUC="cuc",t.CUP="cup",t.CVE="cve",t.CZK="czk",t.DJF="djf",t.DKK="dkk",t.DOP="dop",t.DZD="dzd",t.EGP="egp",t.ERN="ern",t.ETB="etb",t.EUR="eur",t.FJD="fjd",t.FKP="fkp",t.GBP="gbp",t.GEL="gel",t.GHS="ghs",t.GIP="gip",t.GMD="gmd",t.GNF="gnf",t.GTQ="gtq",t.GYD="gyd",t.HKD="hkd",t.HNL="hnl",t.HRK="hrk",t.HTG="htg",t.HUF="huf",t.IDR="idr",t.ILS="ils",t.INR="inr",t.IQD="iqd",t.IRR="irr",t.ISK="isk",t.JMD="jmd",t.JOD="jod",t.JPY="jpy",t.KES="kes",t.KGS="kgs",t.KHR="khr",t.KMF="kmf",t.KPW="kpw",t.KRW="krw",t.KWD="kwd",t.KYD="kyd",t.KZT="kzt",t.LAK="lak",t.LBP="lbp",t.LKR="lkr",t.LRD="lrd",t.LSL="lsl",t.LTL="ltl",t.LVL="lvl",t.LYD="lyd",t.MAD="mad",t.MDL="mdl",t.MGA="mga",t.MKD="mkd",t.MMK="mmk",t.MNT="mnt",t.MOP="mop",t.MRO="mro",t.MUR="mur",t.MVR="mvr",t.MWK="mwk",t.MXN="mxn",t.MXV="mxv",t.MYR="myr",t.MZN="mzn",t.NAD="nad",t.NGN="ngn",t.NIO="nio",t.NOK="nok",t.NPR="npr",t.NZD="nzd",t.OMR="omr",t.PAB="pab",t.PEN="pen",t.PGK="pgk",t.PHP="php",t.PKR="pkr",t.PLN="pln",t.PYG="pyg",t.QAR="qar",t.RON="ron",t.RSD="rsd",t.RUB="rub",t.RWF="rwf",t.SAR="sar",t.SBD="sbd",t.SCR="scr",t.SDG="sdg",t.SEK="sek",t.SGD="sgd",t.SHP="shp",t.SLL="sll",t.SOS="sos",t.SRD="srd",t.SSP="ssp",t.STD="std",t.SVC="svc",t.SYP="syp",t.SZL="szl",t.THB="thb",t.TJS="tjs",t.TMT="tmt",t.TND="tnd",t.TOP="top",t.TRY="try",t.TTD="ttd",t.TWD="twd",t.TZS="tzs",t.UAH="uah",t.UGX="ugx",t.USD="usd",t.USN="usn",t.USS="uss",t.UYI="uyi",t.UYU="uyu",t.UZS="uzs",t.VEF="vef",t.VND="vnd",t.VUV="vuv",t.WST="wst",t.XAF="xaf",t.XAG="xag",t.XAU="xau",t.XBA="xba",t.XBB="xbb",t.XBC="xbc",t.XBD="xbd",t.XCD="xcd",t.XDR="xdr",t.XFU="xfu",t.XOF="xof",t.XPD="xpd",t.XPF="xpf",t.XPT="xpt",t.XSU="xsu",t.XTS="xts",t.XUA="xua",t.YER="yer",t.ZAR="zar",t.ZMW="zmw",t.ZWL="zwl"})(v||(v={}));v.AED+"",v.AFN+"",v.ALL+"",v.AMD+"",v.ANG+"",v.AOA+"",v.ARS+"",v.AUD+"",v.AWG+"",v.AZN+"",v.BAM+"",v.BBD+"",v.BDT+"",v.BGN+"",v.BHD+"",v.BIF+"",v.BMD+"",v.BND+"",v.BOB+"",v.BOV+"",v.BRL+"",v.BSD+"",v.BTN+"",v.BWP+"",v.BYR+"",v.BYN+"",v.BZD+"",v.CAD+"",v.CDF+"",v.CHE+"",v.CHF+"",v.CHW+"",v.CLF+"",v.CLP+"",v.CNY+"",v.COP+"",v.COU+"",v.CRC+"",v.CUC+"",v.CUP+"",v.CVE+"",v.CZK+"",v.DJF+"",v.DKK+"",v.DOP+"",v.DZD+"",v.EGP+"",v.ERN+"",v.ETB+"",v.EUR+"",v.FJD+"",v.FKP+"",v.GBP+"",v.GEL+"",v.GHS+"",v.GIP+"",v.GMD+"",v.GNF+"",v.GTQ+"",v.GYD+"",v.HKD+"",v.HNL+"",v.HRK+"",v.HTG+"",v.HUF+"",v.IDR+"",v.ILS+"",v.INR+"",v.IQD+"",v.IRR+"",v.ISK+"",v.JMD+"",v.JOD+"",v.JPY+"",v.KES+"",v.KGS+"",v.KHR+"",v.KMF+"",v.KPW+"",v.KRW+"",v.KWD+"",v.KYD+"",v.KZT+"",v.LAK+"",v.LBP+"",v.LKR+"",v.LRD+"",v.LSL+"",v.LTL+"",v.LVL+"",v.LYD+"",v.MAD+"",v.MDL+"",v.MGA+"",v.MKD+"",v.MMK+"",v.MNT+"",v.MOP+"",v.MRO+"",v.MUR+"",v.MVR+"",v.MWK+"",v.MXN+"",v.MXV+"",v.MYR+"",v.MZN+"",v.NAD+"",v.NGN+"",v.NIO+"",v.NOK+"",v.NPR+"",v.NZD+"",v.OMR+"",v.PAB+"",v.PEN+"",v.PGK+"",v.PHP+"",v.PKR+"",v.PLN+"",v.PYG+"",v.QAR+"",v.RON+"",v.RSD+"",v.RUB+"",v.RWF+"",v.SAR+"",v.SBD+"",v.SCR+"",v.SDG+"",v.SEK+"",v.SGD+"",v.SHP+"",v.SLL+"",v.SOS+"",v.SRD+"",v.SSP+"",v.STD+"",v.SVC+"",v.SYP+"",v.SZL+"",v.THB+"",v.TJS+"",v.TMT+"",v.TND+"",v.TOP+"",v.TRY+"",v.TTD+"",v.TWD+"",v.TZS+"",v.UAH+"",v.UGX+"",v.USD+"",v.USN+"",v.USS+"",v.UYI+"",v.UYU+"",v.UZS+"",v.VEF+"",v.VND+"",v.VUV+"",v.WST+"",v.XAF+"",v.XAG+"",v.XAU+"",v.XBA+"",v.XBB+"",v.XBC+"",v.XBD+"",v.XCD+"",v.XDR+"",v.XFU+"",v.XOF+"",v.XPD+"",v.XPF+"",v.XPT+"",v.XSU+"",v.XTS+"",v.XUA+"",v.YER+"",v.ZAR+"",v.ZMW+"",v.ZWL+"";var ai={exports:{}};ai.exports;(function(t,e){var n=200,r="Expected a function",i="__lodash_hash_undefined__",s=1,o=2,a=1/0,u=9007199254740991,d="[object Arguments]",h="[object Array]",g="[object Boolean]",T="[object Date]",L="[object Error]",W="[object Function]",q="[object GeneratorFunction]",k="[object Map]",_e="[object Number]",se="[object Object]",ae="[object Promise]",Le="[object RegExp]",ye="[object Set]",Ye="[object String]",Oe="[object Symbol]",Ce="[object WeakMap]",tt="[object ArrayBuffer]",We="[object DataView]",Me="[object Float32Array]",ce="[object Float64Array]",di="[object Int8Array]",hr="[object Int16Array]",dr="[object Int32Array]",pi="[object Uint8Array]",gi="[object Uint8ClampedArray]",pr="[object Uint16Array]",vt="[object Uint32Array]",yt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gr=/^\w*$/,xn=/^\./,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wt=/[\\^$.*+?()[\]{}|]/g,bt=/\\(\\)?/g,mr=/^\[object .+?Constructor\]$/,kn=/^(?:0|[1-9]\d*)$/,le={};le[Me]=le[ce]=le[di]=le[hr]=le[dr]=le[pi]=le[gi]=le[pr]=le[vt]=!0,le[d]=le[h]=le[tt]=le[g]=le[We]=le[T]=le[L]=le[W]=le[k]=le[_e]=le[se]=le[Le]=le[ye]=le[Ye]=le[Ce]=!1;var _r=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,un=typeof self=="object"&&self&&self.Object===Object&&self,rt=_r||un||Function("return this")(),Rn=e&&!e.nodeType&&e,fn=Rn&&!0&&t&&!t.nodeType&&t,vr=fn&&fn.exports===Rn,yr=vr&&_r.process,br=function(){try{return yr&&yr.binding("util")}catch{}}(),Er=br&&br.isTypedArray;function wr(c,p){for(var w=-1,O=c?c.length:0;++w<O&&p(c[w],w,c)!==!1;);return c}function mi(c,p){for(var w=-1,O=c?c.length:0;++w<O;)if(p(c[w],w,c))return!0;return!1}function Xt(c){return function(p){return p==null?void 0:p[c]}}function Tr(c,p){for(var w=-1,O=Array(c);++w<c;)O[w]=p(w);return O}function Ar(c){return function(p){return c(p)}}function _i(c,p){return c==null?void 0:c[p]}function C(c){var p=!1;if(c!=null&&typeof c.toString!="function")try{p=!!(c+"")}catch{}return p}function Et(c){var p=-1,w=Array(c.size);return c.forEach(function(O,z){w[++p]=[z,O]}),w}function l(c,p){return function(w){return c(p(w))}}function f(c){var p=-1,w=Array(c.size);return c.forEach(function(O){w[++p]=O}),w}var m=Array.prototype,y=Function.prototype,E=Object.prototype,b=rt["__core-js_shared__"],A=function(){var c=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),S=y.toString,N=E.hasOwnProperty,H=E.toString,ee=RegExp("^"+S.call(N).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=rt.Symbol,ie=rt.Uint8Array,Pe=l(Object.getPrototypeOf,Object),xe=Object.create,Dn=E.propertyIsEnumerable,Ln=m.splice,Ta=l(Object.keys,Object),vi=hn(rt,"DataView"),Mn=hn(rt,"Map"),yi=hn(rt,"Promise"),bi=hn(rt,"Set"),Ei=hn(rt,"WeakMap"),Pn=hn(Object,"create"),Aa=Qt(vi),Sa=Qt(Mn),Na=Qt(yi),Ia=Qt(bi),Oa=Qt(Ei),Sr=$?$.prototype:void 0,wi=Sr?Sr.valueOf:void 0,Es=Sr?Sr.toString:void 0;function Jt(c){var p=-1,w=c?c.length:0;for(this.clear();++p<w;){var O=c[p];this.set(O[0],O[1])}}function xa(){this.__data__=Pn?Pn(null):{}}function ka(c){return this.has(c)&&delete this.__data__[c]}function Ra(c){var p=this.__data__;if(Pn){var w=p[c];return w===i?void 0:w}return N.call(p,c)?p[c]:void 0}function Da(c){var p=this.__data__;return Pn?p[c]!==void 0:N.call(p,c)}function La(c,p){var w=this.__data__;return w[c]=Pn&&p===void 0?i:p,this}Jt.prototype.clear=xa,Jt.prototype.delete=ka,Jt.prototype.get=Ra,Jt.prototype.has=Da,Jt.prototype.set=La;function wt(c){var p=-1,w=c?c.length:0;for(this.clear();++p<w;){var O=c[p];this.set(O[0],O[1])}}function Ma(){this.__data__=[]}function Pa(c){var p=this.__data__,w=Ir(p,c);if(w<0)return!1;var O=p.length-1;return w==O?p.pop():Ln.call(p,w,1),!0}function Ua(c){var p=this.__data__,w=Ir(p,c);return w<0?void 0:p[w][1]}function Ba(c){return Ir(this.__data__,c)>-1}function Va(c,p){var w=this.__data__,O=Ir(w,c);return O<0?w.push([c,p]):w[O][1]=p,this}wt.prototype.clear=Ma,wt.prototype.delete=Pa,wt.prototype.get=Ua,wt.prototype.has=Ba,wt.prototype.set=Va;function Tt(c){var p=-1,w=c?c.length:0;for(this.clear();++p<w;){var O=c[p];this.set(O[0],O[1])}}function Ga(){this.__data__={hash:new Jt,map:new(Mn||wt),string:new Jt}}function Za(c){return Or(this,c).delete(c)}function qa(c){return Or(this,c).get(c)}function Ha(c){return Or(this,c).has(c)}function Ca(c,p){return Or(this,c).set(c,p),this}Tt.prototype.clear=Ga,Tt.prototype.delete=Za,Tt.prototype.get=qa,Tt.prototype.has=Ha,Tt.prototype.set=Ca;function Nr(c){var p=-1,w=c?c.length:0;for(this.__data__=new Tt;++p<w;)this.add(c[p])}function Fa(c){return this.__data__.set(c,i),this}function ja(c){return this.__data__.has(c)}Nr.prototype.add=Nr.prototype.push=Fa,Nr.prototype.has=ja;function At(c){this.__data__=new wt(c)}function Ka(){this.__data__=new wt}function $a(c){return this.__data__.delete(c)}function za(c){return this.__data__.get(c)}function Ya(c){return this.__data__.has(c)}function Wa(c,p){var w=this.__data__;if(w instanceof wt){var O=w.__data__;if(!Mn||O.length<n-1)return O.push([c,p]),this;w=this.__data__=new Tt(O)}return w.set(c,p),this}At.prototype.clear=Ka,At.prototype.delete=$a,At.prototype.get=za,At.prototype.has=Ya,At.prototype.set=Wa;function Xa(c,p){var w=St(c)||xs(c)?Tr(c.length,String):[],O=w.length,z=!!O;for(var B in c)N.call(c,B)&&!(z&&(B=="length"||Ss(B,O)))&&w.push(B);return w}function Ir(c,p){for(var w=c.length;w--;)if(Os(c[w][0],p))return w;return-1}function Ja(c){return dn(c)?xe(c):{}}var Qa=dl();function el(c,p){return c&&Qa(c,p,Dr)}function ws(c,p){p=xr(p,c)?[p]:Ts(p);for(var w=0,O=p.length;c!=null&&w<O;)c=c[kr(p[w++])];return w&&w==O?c:void 0}function tl(c){return H.call(c)}function nl(c,p){return c!=null&&p in Object(c)}function Ti(c,p,w,O,z){return c===p?!0:c==null||p==null||!dn(c)&&!Rr(p)?c!==c&&p!==p:rl(c,p,Ti,w,O,z)}function rl(c,p,w,O,z,B){var J=St(c),ve=St(p),ge=h,ke=h;J||(ge=Pt(c),ge=ge==d?se:ge),ve||(ke=Pt(p),ke=ke==d?se:ke);var Ze=ge==se&&!C(c),qe=ke==se&&!C(p),Ue=ge==ke;if(Ue&&!Ze)return B||(B=new At),J||Rs(c)?As(c,p,w,O,z,B):pl(c,p,ge,w,O,z,B);if(!(z&o)){var Xe=Ze&&N.call(c,"__wrapped__"),Je=qe&&N.call(p,"__wrapped__");if(Xe||Je){var Ut=Xe?c.value():c,Nt=Je?p.value():p;return B||(B=new At),w(Ut,Nt,O,z,B)}}return Ue?(B||(B=new At),gl(c,p,w,O,z,B)):!1}function il(c,p,w,O){var z=w.length,B=z;if(c==null)return!B;for(c=Object(c);z--;){var J=w[z];if(J[2]?J[1]!==c[J[0]]:!(J[0]in c))return!1}for(;++z<B;){J=w[z];var ve=J[0],ge=c[ve],ke=J[1];if(J[2]){if(ge===void 0&&!(ve in c))return!1}else{var Ze=new At,qe;if(!(qe===void 0?Ti(ke,ge,O,s|o,Ze):qe))return!1}}return!0}function sl(c){if(!dn(c)||yl(c))return!1;var p=Si(c)||C(c)?ee:mr;return p.test(Qt(c))}function ol(c){return Rr(c)&&Ni(c.length)&&!!le[H.call(c)]}function al(c){return typeof c=="function"?c:c==null?Il:typeof c=="object"?St(c)?ul(c[0],c[1]):cl(c):Ol(c)}function ll(c){if(!bl(c))return Ta(c);var p=[];for(var w in Object(c))N.call(c,w)&&w!="constructor"&&p.push(w);return p}function cl(c){var p=ml(c);return p.length==1&&p[0][2]?Is(p[0][0],p[0][1]):function(w){return w===c||il(w,c,p)}}function ul(c,p){return xr(c)&&Ns(p)?Is(kr(c),p):function(w){var O=Al(w,c);return O===void 0&&O===p?Sl(w,c):Ti(p,O,void 0,s|o)}}function fl(c){return function(p){return ws(p,c)}}function hl(c){if(typeof c=="string")return c;if(Ii(c))return Es?Es.call(c):"";var p=c+"";return p=="0"&&1/c==-a?"-0":p}function Ts(c){return St(c)?c:El(c)}function dl(c){return function(p,w,O){for(var z=-1,B=Object(p),J=O(p),ve=J.length;ve--;){var ge=J[++z];if(w(B[ge],ge,B)===!1)break}return p}}function As(c,p,w,O,z,B){var J=z&o,ve=c.length,ge=p.length;if(ve!=ge&&!(J&&ge>ve))return!1;var ke=B.get(c);if(ke&&B.get(p))return ke==p;var Ze=-1,qe=!0,Ue=z&s?new Nr:void 0;for(B.set(c,p),B.set(p,c);++Ze<ve;){var Xe=c[Ze],Je=p[Ze];if(O)var Ut=J?O(Je,Xe,Ze,p,c,B):O(Xe,Je,Ze,c,p,B);if(Ut!==void 0){if(Ut)continue;qe=!1;break}if(Ue){if(!mi(p,function(Nt,en){if(!Ue.has(en)&&(Xe===Nt||w(Xe,Nt,O,z,B)))return Ue.add(en)})){qe=!1;break}}else if(!(Xe===Je||w(Xe,Je,O,z,B))){qe=!1;break}}return B.delete(c),B.delete(p),qe}function pl(c,p,w,O,z,B,J){switch(w){case We:if(c.byteLength!=p.byteLength||c.byteOffset!=p.byteOffset)return!1;c=c.buffer,p=p.buffer;case tt:return!(c.byteLength!=p.byteLength||!O(new ie(c),new ie(p)));case g:case T:case _e:return Os(+c,+p);case L:return c.name==p.name&&c.message==p.message;case Le:case Ye:return c==p+"";case k:var ve=Et;case ye:var ge=B&o;if(ve||(ve=f),c.size!=p.size&&!ge)return!1;var ke=J.get(c);if(ke)return ke==p;B|=s,J.set(c,p);var Ze=As(ve(c),ve(p),O,z,B,J);return J.delete(c),Ze;case Oe:if(wi)return wi.call(c)==wi.call(p)}return!1}function gl(c,p,w,O,z,B){var J=z&o,ve=Dr(c),ge=ve.length,ke=Dr(p),Ze=ke.length;if(ge!=Ze&&!J)return!1;for(var qe=ge;qe--;){var Ue=ve[qe];if(!(J?Ue in p:N.call(p,Ue)))return!1}var Xe=B.get(c);if(Xe&&B.get(p))return Xe==p;var Je=!0;B.set(c,p),B.set(p,c);for(var Ut=J;++qe<ge;){Ue=ve[qe];var Nt=c[Ue],en=p[Ue];if(O)var Ds=J?O(en,Nt,Ue,p,c,B):O(Nt,en,Ue,c,p,B);if(!(Ds===void 0?Nt===en||w(Nt,en,O,z,B):Ds)){Je=!1;break}Ut||(Ut=Ue=="constructor")}if(Je&&!Ut){var Lr=c.constructor,Mr=p.constructor;Lr!=Mr&&"constructor"in c&&"constructor"in p&&!(typeof Lr=="function"&&Lr instanceof Lr&&typeof Mr=="function"&&Mr instanceof Mr)&&(Je=!1)}return B.delete(c),B.delete(p),Je}function Or(c,p){var w=c.__data__;return vl(p)?w[typeof p=="string"?"string":"hash"]:w.map}function ml(c){for(var p=Dr(c),w=p.length;w--;){var O=p[w],z=c[O];p[w]=[O,z,Ns(z)]}return p}function hn(c,p){var w=_i(c,p);return sl(w)?w:void 0}var Pt=tl;(vi&&Pt(new vi(new ArrayBuffer(1)))!=We||Mn&&Pt(new Mn)!=k||yi&&Pt(yi.resolve())!=ae||bi&&Pt(new bi)!=ye||Ei&&Pt(new Ei)!=Ce)&&(Pt=function(c){var p=H.call(c),w=p==se?c.constructor:void 0,O=w?Qt(w):void 0;if(O)switch(O){case Aa:return We;case Sa:return k;case Na:return ae;case Ia:return ye;case Oa:return Ce}return p});function _l(c,p,w){p=xr(p,c)?[p]:Ts(p);for(var O,z=-1,J=p.length;++z<J;){var B=kr(p[z]);if(!(O=c!=null&&w(c,B)))break;c=c[B]}if(O)return O;var J=c?c.length:0;return!!J&&Ni(J)&&Ss(B,J)&&(St(c)||xs(c))}function Ss(c,p){return p=p??u,!!p&&(typeof c=="number"||kn.test(c))&&c>-1&&c%1==0&&c<p}function xr(c,p){if(St(c))return!1;var w=typeof c;return w=="number"||w=="symbol"||w=="boolean"||c==null||Ii(c)?!0:gr.test(c)||!yt.test(c)||p!=null&&c in Object(p)}function vl(c){var p=typeof c;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?c!=="__proto__":c===null}function yl(c){return!!A&&A in c}function bl(c){var p=c&&c.constructor,w=typeof p=="function"&&p.prototype||E;return c===w}function Ns(c){return c===c&&!dn(c)}function Is(c,p){return function(w){return w==null?!1:w[c]===p&&(p!==void 0||c in Object(w))}}var El=Ai(function(c){c=Tl(c);var p=[];return xn.test(c)&&p.push(""),c.replace(nt,function(w,O,z,B){p.push(z?B.replace(bt,"$1"):O||w)}),p});function kr(c){if(typeof c=="string"||Ii(c))return c;var p=c+"";return p=="0"&&1/c==-a?"-0":p}function Qt(c){if(c!=null){try{return S.call(c)}catch{}try{return c+""}catch{}}return""}function Ai(c,p){if(typeof c!="function"||p&&typeof p!="function")throw new TypeError(r);var w=function(){var O=arguments,z=p?p.apply(this,O):O[0],B=w.cache;if(B.has(z))return B.get(z);var J=c.apply(this,O);return w.cache=B.set(z,J),J};return w.cache=new(Ai.Cache||Tt),w}Ai.Cache=Tt;function Os(c,p){return c===p||c!==c&&p!==p}function xs(c){return wl(c)&&N.call(c,"callee")&&(!Dn.call(c,"callee")||H.call(c)==d)}var St=Array.isArray;function ks(c){return c!=null&&Ni(c.length)&&!Si(c)}function wl(c){return Rr(c)&&ks(c)}function Si(c){var p=dn(c)?H.call(c):"";return p==W||p==q}function Ni(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=u}function dn(c){var p=typeof c;return!!c&&(p=="object"||p=="function")}function Rr(c){return!!c&&typeof c=="object"}function Ii(c){return typeof c=="symbol"||Rr(c)&&H.call(c)==Oe}var Rs=Er?Ar(Er):ol;function Tl(c){return c==null?"":hl(c)}function Al(c,p,w){var O=c==null?void 0:ws(c,p);return O===void 0?w:O}function Sl(c,p){return c!=null&&_l(c,p,nl)}function Dr(c){return ks(c)?Xa(c):ll(c)}function Nl(c,p,w){var O=St(c)||Rs(c);if(p=al(p),w==null)if(O||dn(c)){var z=c.constructor;O?w=St(c)?new z:[]:w=Si(z)?Ja(Pe(c)):{}}else w={};return(O?wr:el)(c,function(B,J,ve){return p(w,B,J,ve)}),w}function Il(c){return c}function Ol(c){return xr(c)?Xt(kr(c)):fl(c)}t.exports=Nl})(ai,ai.exports);ai.exports;let eo;const $r=new nd("1289906387039682570"),wa=$r.instanceId;yo(wa);Ac(t=>{console.log(t)});xc();od().then(()=>{console.log("Discord SDK is authenticated"),yo(wa),ru()});document.addEventListener("keydown",function(t){iu(t.key)});document.addEventListener("keyup",function(t){su(t.key)});async function od(){await $r.ready(),console.log("Discord SDK is ready");const{code:t}=await $r.commands.authorize({client_id:"1289906387039682570",response_type:"code",state:"",prompt:"none",scope:["identify","guilds","applications.commands","guilds.members.read"]}),e=await fetch("/.proxy/api/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}),{access_token:n}=await e.json();if(eo=await $r.commands.authenticate({access_token:n}),eo==null)throw new Error("Authenticate command failed")}
